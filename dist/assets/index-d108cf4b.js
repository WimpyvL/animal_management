function nf(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(a,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var of={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),_g=Symbol.for("react.portal"),Mg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),bg=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),kg=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),m1=Symbol.iterator;function Fg(e){return e===null||typeof e!="object"?null:(e=m1&&e[m1]||e["@@iterator"],typeof e=="function"?e:null)}var sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},af=Object.assign,lf={};function no(e,t,i){this.props=e,this.context=t,this.refs=lf,this.updater=i||sf}no.prototype.isReactComponent={};no.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};no.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uf(){}uf.prototype=no.prototype;function Zu(e,t,i){this.props=e,this.context=t,this.refs=lf,this.updater=i||sf}var Ku=Zu.prototype=new uf;Ku.constructor=Zu;af(Ku,no.prototype);Ku.isPureReactComponent=!0;var x1=Array.isArray,cf=Object.prototype.hasOwnProperty,qu={current:null},ff={key:!0,ref:!0,__self:!0,__source:!0};function df(e,t,i){var a,c={},f=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)cf.call(t,a)&&!ff.hasOwnProperty(a)&&(c[a]=t[a]);var x=arguments.length-2;if(x===1)c.children=i;else if(1<x){for(var E=Array(x),m=0;m<x;m++)E[m]=arguments[m+2];c.children=E}if(e&&e.defaultProps)for(a in x=e.defaultProps,x)c[a]===void 0&&(c[a]=x[a]);return{$$typeof:as,type:e,key:f,ref:g,props:c,_owner:qu.current}}function Ug(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function zg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var w1=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zg(""+e.key):t.toString(36)}function Xs(e,t,i,a,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case as:case _g:g=!0}}if(g)return g=e,c=c(g),e=a===""?"."+El(g,0):a,x1(c)?(i="",e!=null&&(i=e.replace(w1,"$&/")+"/"),Xs(c,t,i,"",function(m){return m})):c!=null&&(Ju(c)&&(c=Ug(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(w1,"$&/")+"/")+e)),t.push(c)),1;if(g=0,a=a===""?".":a+":",x1(e))for(var x=0;x<e.length;x++){f=e[x];var E=a+El(f,x);g+=Xs(f,t,i,E,c)}else if(E=Fg(e),typeof E=="function")for(e=E.call(e),x=0;!(f=e.next()).done;)f=f.value,E=a+El(f,x++),g+=Xs(f,t,i,E,c);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Ns(e,t,i){if(e==null)return e;var a=[],c=0;return Xs(e,a,"","",function(f){return t.call(i,f,c++)}),a}function jg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Qs={transition:null},Hg={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Qs,ReactCurrentOwner:qu};function hf(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Ns,forEach:function(e,t,i){Ns(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Ns(e,function(){t++}),t},toArray:function(e){return Ns(e,function(t){return t})||[]},only:function(e){if(!Ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=no;ye.Fragment=Mg;ye.Profiler=Dg;ye.PureComponent=Zu;ye.StrictMode=Og;ye.Suspense=Bg;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;ye.act=hf;ye.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=af({},e.props),c=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=qu.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(E in t)cf.call(t,E)&&!ff.hasOwnProperty(E)&&(a[E]=t[E]===void 0&&x!==void 0?x[E]:t[E])}var E=arguments.length-2;if(E===1)a.children=i;else if(1<E){x=Array(E);for(var m=0;m<E;m++)x[m]=arguments[m+2];a.children=x}return{$$typeof:as,type:e.type,key:c,ref:f,props:a,_owner:g}};ye.createContext=function(e){return e={$$typeof:bg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rg,_context:e},e.Consumer=e};ye.createElement=df;ye.createFactory=function(e){var t=df.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Lg,render:e}};ye.isValidElement=Ju;ye.lazy=function(e){return{$$typeof:Pg,_payload:{_status:-1,_result:e},_init:jg}};ye.memo=function(e,t){return{$$typeof:kg,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Qs.transition;Qs.transition={};try{e()}finally{Qs.transition=t}};ye.unstable_act=hf;ye.useCallback=function(e,t){return jt.current.useCallback(e,t)};ye.useContext=function(e){return jt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return jt.current.useEffect(e,t)};ye.useId=function(){return jt.current.useId()};ye.useImperativeHandle=function(e,t,i){return jt.current.useImperativeHandle(e,t,i)};ye.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return jt.current.useMemo(e,t)};ye.useReducer=function(e,t,i){return jt.current.useReducer(e,t,i)};ye.useRef=function(e){return jt.current.useRef(e)};ye.useState=function(e){return jt.current.useState(e)};ye.useSyncExternalStore=function(e,t,i){return jt.current.useSyncExternalStore(e,t,i)};ye.useTransition=function(){return jt.current.useTransition()};ye.version="18.3.1";of.exports=ye;var ee=of.exports;const L=rf(ee),Vg=nf({__proto__:null,default:L},[ee]);var Zl={},gf={exports:{}},un={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,he){var pe=ne.length;ne.push(he);e:for(;0<pe;){var Ye=pe-1>>>1,Se=ne[Ye];if(0<c(Se,he))ne[Ye]=he,ne[pe]=Se,pe=Ye;else break e}}function i(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var he=ne[0],pe=ne.pop();if(pe!==he){ne[0]=pe;e:for(var Ye=0,Se=ne.length,dn=Se>>>1;Ye<dn;){var Ze=2*(Ye+1)-1,Xr=ne[Ze],ae=Ze+1,dr=ne[ae];if(0>c(Xr,pe))ae<Se&&0>c(dr,Xr)?(ne[Ye]=dr,ne[ae]=pe,Ye=ae):(ne[Ye]=Xr,ne[Ze]=pe,Ye=Ze);else if(ae<Se&&0>c(dr,pe))ne[Ye]=dr,ne[ae]=pe,Ye=ae;else break e}}return he}function c(ne,he){var pe=ne.sortIndex-he.sortIndex;return pe!==0?pe:ne.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,x=g.now();e.unstable_now=function(){return g.now()-x}}var E=[],m=[],S=1,v=null,D=3,b=!1,V=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ne){for(var he=i(m);he!==null;){if(he.callback===null)a(m);else if(he.startTime<=ne)a(m),he.sortIndex=he.expirationTime,t(E,he);else break;he=i(m)}}function j(ne){if(P=!1,_(ne),!V)if(i(E)!==null)V=!0,et($);else{var he=i(m);he!==null&&me(j,he.startTime-ne)}}function $(ne,he){V=!1,P&&(P=!1,O(G),G=-1),b=!0;var pe=D;try{for(_(he),v=i(E);v!==null&&(!(v.expirationTime>he)||ne&&!_e());){var Ye=v.callback;if(typeof Ye=="function"){v.callback=null,D=v.priorityLevel;var Se=Ye(v.expirationTime<=he);he=e.unstable_now(),typeof Se=="function"?v.callback=Se:v===i(E)&&a(E),_(he)}else a(E);v=i(E)}if(v!==null)var dn=!0;else{var Ze=i(m);Ze!==null&&me(j,Ze.startTime-he),dn=!1}return dn}finally{v=null,D=pe,b=!1}}var J=!1,z=null,G=-1,H=5,le=-1;function _e(){return!(e.unstable_now()-le<H)}function fe(){if(z!==null){var ne=e.unstable_now();le=ne;var he=!0;try{he=z(!0,ne)}finally{he?ve():(J=!1,z=null)}}else J=!1}var ve;if(typeof N=="function")ve=function(){N(fe)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,W=st.port2;st.port1.onmessage=fe,ve=function(){W.postMessage(null)}}else ve=function(){Y(fe,0)};function et(ne){z=ne,J||(J=!0,ve())}function me(ne,he){G=Y(function(){ne(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){V||b||(V=!0,et($))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return i(E)},e.unstable_next=function(ne){switch(D){case 1:case 2:case 3:var he=3;break;default:he=D}var pe=D;D=he;try{return ne()}finally{D=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var pe=D;D=ne;try{return he()}finally{D=pe}},e.unstable_scheduleCallback=function(ne,he,pe){var Ye=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ye+pe:Ye):pe=Ye,ne){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=pe+Se,ne={id:S++,callback:he,priorityLevel:ne,startTime:pe,expirationTime:Se,sortIndex:-1},pe>Ye?(ne.sortIndex=pe,t(m,ne),i(E)===null&&ne===i(m)&&(P?(O(G),G=-1):P=!0,me(j,pe-Ye))):(ne.sortIndex=Se,t(E,ne),V||b||(V=!0,et($))),ne},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(ne){var he=D;return function(){var pe=D;D=he;try{return ne.apply(this,arguments)}finally{D=pe}}}})(mf);pf.exports=mf;var Wg=pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=ee,ln=Wg;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xf=new Set,jo={};function gi(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(jo[e]=t,e=0;e<t.length;e++)xf.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,Yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E1={},y1={};function Xg(e){return Kl.call(y1,e)?!0:Kl.call(E1,e)?!1:Yg.test(e)?y1[e]=!0:(E1[e]=!0,!1)}function Qg(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zg(e,t,i,a){if(t===null||typeof t>"u"||Qg(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,i,a,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var $u=/[\-:]([a-z])/g;function ec(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($u,ec);Ot[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($u,ec);Ot[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($u,ec);Ot[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function tc(e,t,i,a){var c=Ot.hasOwnProperty(t)?Ot[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zg(t,i,c,a)&&(i=null),a||c===null?Xg(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var fr=Gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_s=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),nc=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),Ef=Symbol.for("react.context"),rc=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),$l=Symbol.for("react.suspense_list"),ic=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),yf=Symbol.for("react.offscreen"),C1=Symbol.iterator;function yo(e){return e===null||typeof e!="object"?null:(e=C1&&e[C1]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,yl;function _o(e){if(yl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||""}return`
`+yl+e}var Cl=!1;function Al(e,t){if(!e||Cl)return"";Cl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var a=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){a=m}e.call(t.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var c=m.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,x=f.length-1;1<=g&&0<=x&&c[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(c[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||c[g]!==f[x]){var E=`
`+c[g].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=g&&0<=x);break}}}finally{Cl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?_o(e):""}function Kg(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Di:return"Fragment";case Oi:return"Portal";case ql:return"Profiler";case nc:return"StrictMode";case Jl:return"Suspense";case $l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ef:return(e.displayName||"Context")+".Consumer";case wf:return(e._context.displayName||"Context")+".Provider";case rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ic:return t=e.displayName||null,t!==null?t:eu(e.type)||"Memo";case vr:t=e._payload,e=e._init;try{return eu(e(t))}catch{}}return null}function qg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eu(t);case 8:return t===nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jg(e){var t=Cf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=Jg(e))}function Af(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Cf(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tu(e,t){var i=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function A1(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=zr(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vf(e,t){t=t.checked,t!=null&&tc(e,"checked",t,!1)}function nu(e,t){vf(e,t);var i=zr(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ru(e,t.type,i):t.hasOwnProperty("defaultValue")&&ru(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function v1(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ru(e,t,i){(t!=="number"||sa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Mo=Array.isArray;function Vi(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+zr(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function S1(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Z(92));if(Mo(i)){if(1<i.length)throw Error(Z(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:zr(i)}}function Sf(e,t){var i=zr(t.value),a=zr(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function I1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function If(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?If(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Os,Tf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ho(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$g=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){$g.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});function Nf(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function _f(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=Nf(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var e2=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(e,t){if(t){if(e2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uu=null,Wi=null,Gi=null;function T1(e){if(e=cs(e)){if(typeof uu!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Fa(t),uu(e.stateNode,e.type,t))}}function Mf(e){Wi?Gi?Gi.push(e):Gi=[e]:Wi=e}function Of(){if(Wi){var e=Wi,t=Gi;if(Gi=Wi=null,T1(e),t)for(e=0;e<t.length;e++)T1(t[e])}}function Df(e,t){return e(t)}function Rf(){}var vl=!1;function bf(e,t,i){if(vl)return e(t,i);vl=!0;try{return Df(e,t,i)}finally{vl=!1,(Wi!==null||Gi!==null)&&(Rf(),Of())}}function Vo(e,t){var i=e.stateNode;if(i===null)return null;var a=Fa(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Z(231,t,typeof i));return i}var cu=!1;if(ar)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{cu=!1}function t2(e,t,i,a,c,f,g,x,E){var m=Array.prototype.slice.call(arguments,3);try{t.apply(i,m)}catch(S){this.onError(S)}}var bo=!1,aa=null,la=!1,fu=null,n2={onError:function(e){bo=!0,aa=e}};function r2(e,t,i,a,c,f,g,x,E){bo=!1,aa=null,t2.apply(n2,arguments)}function i2(e,t,i,a,c,f,g,x,E){if(r2.apply(this,arguments),bo){if(bo){var m=aa;bo=!1,aa=null}else throw Error(Z(198));la||(la=!0,fu=m)}}function pi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Lf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N1(e){if(pi(e)!==e)throw Error(Z(188))}function o2(e){var t=e.alternate;if(!t){if(t=pi(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return N1(c),e;if(f===a)return N1(c),t;f=f.sibling}throw Error(Z(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,x=c.child;x;){if(x===i){g=!0,i=c,a=f;break}if(x===a){g=!0,a=c,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,a=c;break}if(x===a){g=!0,a=f,i=c;break}x=x.sibling}if(!g)throw Error(Z(189))}}if(i.alternate!==a)throw Error(Z(190))}if(i.tag!==3)throw Error(Z(188));return i.stateNode.current===i?e:t}function Bf(e){return e=o2(e),e!==null?kf(e):null}function kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kf(e);if(t!==null)return t;e=e.sibling}return null}var Pf=ln.unstable_scheduleCallback,_1=ln.unstable_cancelCallback,s2=ln.unstable_shouldYield,a2=ln.unstable_requestPaint,lt=ln.unstable_now,l2=ln.unstable_getCurrentPriorityLevel,sc=ln.unstable_ImmediatePriority,Ff=ln.unstable_UserBlockingPriority,ua=ln.unstable_NormalPriority,u2=ln.unstable_LowPriority,Uf=ln.unstable_IdlePriority,La=null,Kn=null;function c2(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(La,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:h2,f2=Math.log,d2=Math.LN2;function h2(e){return e>>>=0,e===0?32:31-(f2(e)/d2|0)|0}var Ds=64,Rs=4194304;function Oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ca(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~c;x!==0?a=Oo(x):(f&=g,f!==0&&(a=Oo(f)))}else g=i&~c,g!==0?a=Oo(g):f!==0&&(a=Oo(f));if(a===0)return 0;if(t!==0&&t!==a&&!(t&c)&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Ln(t),c=1<<i,a|=e[i],t&=~c;return a}function g2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p2(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Ln(f),x=1<<g,E=c[g];E===-1?(!(x&i)||x&a)&&(c[g]=g2(x,t)):E<=t&&(e.expiredLanes|=x),f&=~x}}function du(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zf(){var e=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),e}function Sl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ls(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=i}function m2(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Ln(i),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function ac(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Ln(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var Le=0;function jf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hf,lc,Vf,Wf,Gf,hu=!1,bs=[],Or=null,Dr=null,Rr=null,Wo=new Map,Go=new Map,Ir=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function Ao(e,t,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=cs(t),t!==null&&lc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function w2(e,t,i,a,c){switch(t){case"focusin":return Or=Ao(Or,e,t,i,a,c),!0;case"dragenter":return Dr=Ao(Dr,e,t,i,a,c),!0;case"mouseover":return Rr=Ao(Rr,e,t,i,a,c),!0;case"pointerover":var f=c.pointerId;return Wo.set(f,Ao(Wo.get(f)||null,e,t,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Go.set(f,Ao(Go.get(f)||null,e,t,i,a,c)),!0}return!1}function Yf(e){var t=ii(e.target);if(t!==null){var i=pi(t);if(i!==null){if(t=i.tag,t===13){if(t=Lf(i),t!==null){e.blockedOn=t,Gf(e.priority,function(){Vf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);lu=a,i.target.dispatchEvent(a),lu=null}else return t=cs(i),t!==null&&lc(t),e.blockedOn=i,!1;t.shift()}return!0}function O1(e,t,i){Zs(e)&&i.delete(t)}function E2(){hu=!1,Or!==null&&Zs(Or)&&(Or=null),Dr!==null&&Zs(Dr)&&(Dr=null),Rr!==null&&Zs(Rr)&&(Rr=null),Wo.forEach(O1),Go.forEach(O1)}function vo(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,E2)))}function Yo(e){function t(c){return vo(c,e)}if(0<bs.length){vo(bs[0],e);for(var i=1;i<bs.length;i++){var a=bs[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Or!==null&&vo(Or,e),Dr!==null&&vo(Dr,e),Rr!==null&&vo(Rr,e),Wo.forEach(t),Go.forEach(t),i=0;i<Ir.length;i++)a=Ir[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ir.length&&(i=Ir[0],i.blockedOn===null);)Yf(i),i.blockedOn===null&&Ir.shift()}var Yi=fr.ReactCurrentBatchConfig,fa=!0;function y2(e,t,i,a){var c=Le,f=Yi.transition;Yi.transition=null;try{Le=1,uc(e,t,i,a)}finally{Le=c,Yi.transition=f}}function C2(e,t,i,a){var c=Le,f=Yi.transition;Yi.transition=null;try{Le=4,uc(e,t,i,a)}finally{Le=c,Yi.transition=f}}function uc(e,t,i,a){if(fa){var c=gu(e,t,i,a);if(c===null)Ll(e,t,a,da,i),M1(e,a);else if(w2(c,e,t,i,a))a.stopPropagation();else if(M1(e,a),t&4&&-1<x2.indexOf(e)){for(;c!==null;){var f=cs(c);if(f!==null&&Hf(f),f=gu(e,t,i,a),f===null&&Ll(e,t,a,da,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Ll(e,t,a,null,i)}}var da=null;function gu(e,t,i,a){if(da=null,e=oc(a),e=ii(e),e!==null)if(t=pi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Lf(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return da=e,null}function Xf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l2()){case sc:return 1;case Ff:return 4;case ua:case u2:return 16;case Uf:return 536870912;default:return 16}default:return 16}}var Nr=null,cc=null,Ks=null;function Qf(){if(Ks)return Ks;var e,t=cc,i=t.length,a,c="value"in Nr?Nr.value:Nr.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[f-a];a++);return Ks=c.slice(e,1<a?1-a:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function D1(){return!1}function cn(e){function t(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ls:D1,this.isPropagationStopped=D1,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=cn(ro),us=$e({},ro,{view:0,detail:0}),A2=cn(us),Il,Tl,So,Ba=$e({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(Il=e.screenX-So.screenX,Tl=e.screenY-So.screenY):Tl=Il=0,So=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),R1=cn(Ba),v2=$e({},Ba,{dataTransfer:0}),S2=cn(v2),I2=$e({},us,{relatedTarget:0}),Nl=cn(I2),T2=$e({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),N2=cn(T2),_2=$e({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M2=cn(_2),O2=$e({},ro,{data:0}),b1=cn(O2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b2[e])?!!t[e]:!1}function dc(){return L2}var B2=$e({},us,{key:function(e){if(e.key){var t=D2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k2=cn(B2),P2=$e({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L1=cn(P2),F2=$e({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),U2=cn(F2),z2=$e({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),j2=cn(z2),H2=$e({},Ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=cn(H2),W2=[9,13,27,32],hc=ar&&"CompositionEvent"in window,Lo=null;ar&&"documentMode"in document&&(Lo=document.documentMode);var G2=ar&&"TextEvent"in window&&!Lo,Zf=ar&&(!hc||Lo&&8<Lo&&11>=Lo),B1=String.fromCharCode(32),k1=!1;function Kf(e,t){switch(e){case"keyup":return W2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function Y2(e,t){switch(e){case"compositionend":return qf(t);case"keypress":return t.which!==32?null:(k1=!0,B1);case"textInput":return e=t.data,e===B1&&k1?null:e;default:return null}}function X2(e,t){if(Ri)return e==="compositionend"||!hc&&Kf(e,t)?(e=Qf(),Ks=cc=Nr=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zf&&t.locale!=="ko"?null:t.data;default:return null}}var Q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q2[e.type]:t==="textarea"}function Jf(e,t,i,a){Mf(a),t=ha(t,"onChange"),0<t.length&&(i=new fc("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Bo=null,Xo=null;function Z2(e){ud(e,0)}function ka(e){var t=Bi(e);if(Af(t))return e}function K2(e,t){if(e==="change")return t}var $f=!1;if(ar){var _l;if(ar){var Ml="oninput"in document;if(!Ml){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),Ml=typeof F1.oninput=="function"}_l=Ml}else _l=!1;$f=_l&&(!document.documentMode||9<document.documentMode)}function U1(){Bo&&(Bo.detachEvent("onpropertychange",ed),Xo=Bo=null)}function ed(e){if(e.propertyName==="value"&&ka(Xo)){var t=[];Jf(t,Xo,e,oc(e)),bf(Z2,t)}}function q2(e,t,i){e==="focusin"?(U1(),Bo=t,Xo=i,Bo.attachEvent("onpropertychange",ed)):e==="focusout"&&U1()}function J2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ka(Xo)}function $2(e,t){if(e==="click")return ka(t)}function ep(e,t){if(e==="input"||e==="change")return ka(t)}function tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:tp;function Qo(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!Kl.call(t,c)||!kn(e[c],t[c]))return!1}return!0}function z1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j1(e,t){var i=z1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=z1(i)}}function td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=sa();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=sa(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function np(e){var t=nd(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&td(i.ownerDocument.documentElement,i)){if(a!==null&&gc(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=j1(i,f);var g=j1(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rp=ar&&"documentMode"in document&&11>=document.documentMode,bi=null,pu=null,ko=null,mu=!1;function H1(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mu||bi==null||bi!==sa(a)||(a=bi,"selectionStart"in a&&gc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ko&&Qo(ko,a)||(ko=a,a=ha(pu,"onSelect"),0<a.length&&(t=new fc("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=bi)))}function Bs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Li={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},Ol={},rd={};ar&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Pa(e){if(Ol[e])return Ol[e];if(!Li[e])return e;var t=Li[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in rd)return Ol[e]=t[i];return e}var id=Pa("animationend"),od=Pa("animationiteration"),sd=Pa("animationstart"),ad=Pa("transitionend"),ld=new Map,V1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){ld.set(e,t),gi(t,[e])}for(var Dl=0;Dl<V1.length;Dl++){var Rl=V1[Dl],ip=Rl.toLowerCase(),op=Rl[0].toUpperCase()+Rl.slice(1);Vr(ip,"on"+op)}Vr(id,"onAnimationEnd");Vr(od,"onAnimationIteration");Vr(sd,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(ad,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function W1(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,i2(a,t,void 0,e),e.currentTarget=null}function ud(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var x=a[g],E=x.instance,m=x.currentTarget;if(x=x.listener,E!==f&&c.isPropagationStopped())break e;W1(c,x,m),f=E}else for(g=0;g<a.length;g++){if(x=a[g],E=x.instance,m=x.currentTarget,x=x.listener,E!==f&&c.isPropagationStopped())break e;W1(c,x,m),f=E}}}if(la)throw e=fu,la=!1,fu=null,e}function Ve(e,t){var i=t[Cu];i===void 0&&(i=t[Cu]=new Set);var a=e+"__bubble";i.has(a)||(cd(t,e,2,!1),i.add(a))}function bl(e,t,i){var a=0;t&&(a|=4),cd(i,e,a,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[ks]){e[ks]=!0,xf.forEach(function(i){i!=="selectionchange"&&(sp.has(i)||bl(i,!1,e),bl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,bl("selectionchange",!1,t))}}function cd(e,t,i,a){switch(Xf(t)){case 1:var c=y2;break;case 4:c=C2;break;default:c=uc}i=c.bind(null,t,i,e),c=void 0,!cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Ll(e,t,i,a,c){var f=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var x=a.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var E=g.tag;if((E===3||E===4)&&(E=g.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;g=g.return}for(;x!==null;){if(g=ii(x),g===null)return;if(E=g.tag,E===5||E===6){a=f=g;continue e}x=x.parentNode}}a=a.return}bf(function(){var m=f,S=oc(i),v=[];e:{var D=ld.get(e);if(D!==void 0){var b=fc,V=e;switch(e){case"keypress":if(qs(i)===0)break e;case"keydown":case"keyup":b=k2;break;case"focusin":V="focus",b=Nl;break;case"focusout":V="blur",b=Nl;break;case"beforeblur":case"afterblur":b=Nl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=S2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=U2;break;case id:case od:case sd:b=N2;break;case ad:b=j2;break;case"scroll":b=A2;break;case"wheel":b=V2;break;case"copy":case"cut":case"paste":b=M2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=L1}var P=(t&4)!==0,Y=!P&&e==="scroll",O=P?D!==null?D+"Capture":null:D;P=[];for(var N=m,_;N!==null;){_=N;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,O!==null&&(j=Vo(N,O),j!=null&&P.push(Ko(N,j,_)))),Y)break;N=N.return}0<P.length&&(D=new b(D,V,null,i,S),v.push({event:D,listeners:P}))}}if(!(t&7)){e:{if(D=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",D&&i!==lu&&(V=i.relatedTarget||i.fromElement)&&(ii(V)||V[lr]))break e;if((b||D)&&(D=S.window===S?S:(D=S.ownerDocument)?D.defaultView||D.parentWindow:window,b?(V=i.relatedTarget||i.toElement,b=m,V=V?ii(V):null,V!==null&&(Y=pi(V),V!==Y||V.tag!==5&&V.tag!==6)&&(V=null)):(b=null,V=m),b!==V)){if(P=R1,j="onMouseLeave",O="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(P=L1,j="onPointerLeave",O="onPointerEnter",N="pointer"),Y=b==null?D:Bi(b),_=V==null?D:Bi(V),D=new P(j,N+"leave",b,i,S),D.target=Y,D.relatedTarget=_,j=null,ii(S)===m&&(P=new P(O,N+"enter",V,i,S),P.target=_,P.relatedTarget=Y,j=P),Y=j,b&&V)t:{for(P=b,O=V,N=0,_=P;_;_=_i(_))N++;for(_=0,j=O;j;j=_i(j))_++;for(;0<N-_;)P=_i(P),N--;for(;0<_-N;)O=_i(O),_--;for(;N--;){if(P===O||O!==null&&P===O.alternate)break t;P=_i(P),O=_i(O)}P=null}else P=null;b!==null&&G1(v,D,b,P,!1),V!==null&&Y!==null&&G1(v,Y,V,P,!0)}}e:{if(D=m?Bi(m):window,b=D.nodeName&&D.nodeName.toLowerCase(),b==="select"||b==="input"&&D.type==="file")var $=K2;else if(P1(D))if($f)$=ep;else{$=J2;var J=q2}else(b=D.nodeName)&&b.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&($=$2);if($&&($=$(e,m))){Jf(v,$,i,S);break e}J&&J(e,D,m),e==="focusout"&&(J=D._wrapperState)&&J.controlled&&D.type==="number"&&ru(D,"number",D.value)}switch(J=m?Bi(m):window,e){case"focusin":(P1(J)||J.contentEditable==="true")&&(bi=J,pu=m,ko=null);break;case"focusout":ko=pu=bi=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,H1(v,i,S);break;case"selectionchange":if(rp)break;case"keydown":case"keyup":H1(v,i,S)}var z;if(hc)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Ri?Kf(e,i)&&(G="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(G="onCompositionStart");G&&(Zf&&i.locale!=="ko"&&(Ri||G!=="onCompositionStart"?G==="onCompositionEnd"&&Ri&&(z=Qf()):(Nr=S,cc="value"in Nr?Nr.value:Nr.textContent,Ri=!0)),J=ha(m,G),0<J.length&&(G=new b1(G,e,null,i,S),v.push({event:G,listeners:J}),z?G.data=z:(z=qf(i),z!==null&&(G.data=z)))),(z=G2?Y2(e,i):X2(e,i))&&(m=ha(m,"onBeforeInput"),0<m.length&&(S=new b1("onBeforeInput","beforeinput",null,i,S),v.push({event:S,listeners:m}),S.data=z))}ud(v,t)})}function Ko(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ha(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Vo(e,i),f!=null&&a.unshift(Ko(e,f,c)),f=Vo(e,t),f!=null&&a.push(Ko(e,f,c))),e=e.return}return a}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function G1(e,t,i,a,c){for(var f=t._reactName,g=[];i!==null&&i!==a;){var x=i,E=x.alternate,m=x.stateNode;if(E!==null&&E===a)break;x.tag===5&&m!==null&&(x=m,c?(E=Vo(i,f),E!=null&&g.unshift(Ko(i,E,x))):c||(E=Vo(i,f),E!=null&&g.push(Ko(i,E,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var ap=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Y1(e){return(typeof e=="string"?e:""+e).replace(ap,`
`).replace(lp,"")}function Ps(e,t,i){if(t=Y1(t),Y1(e)!==t&&i)throw Error(Z(425))}function ga(){}var xu=null,wu=null;function Eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,X1=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof X1<"u"?function(e){return X1.resolve(null).then(e).catch(fp)}:yu;function fp(e){setTimeout(function(){throw e})}function Bl(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Yo(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Yo(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var io=Math.random().toString(36).slice(2),Xn="__reactFiber$"+io,qo="__reactProps$"+io,lr="__reactContainer$"+io,Cu="__reactEvents$"+io,dp="__reactListeners$"+io,hp="__reactHandles$"+io;function ii(e){var t=e[Xn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[lr]||i[Xn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Q1(e);e!==null;){if(i=e[Xn])return i;e=Q1(e)}return t}e=i,i=e.parentNode}return null}function cs(e){return e=e[Xn]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Fa(e){return e[qo]||null}var Au=[],ki=-1;function Wr(e){return{current:e}}function Ge(e){0>ki||(e.current=Au[ki],Au[ki]=null,ki--)}function je(e,t){ki++,Au[ki]=e.current,e.current=t}var jr={},kt=Wr(jr),qt=Wr(!1),ui=jr;function Ki(e,t){var i=e.type.contextTypes;if(!i)return jr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Jt(e){return e=e.childContextTypes,e!=null}function pa(){Ge(qt),Ge(kt)}function Z1(e,t,i){if(kt.current!==jr)throw Error(Z(168));je(kt,t),je(qt,i)}function fd(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(Z(108,qg(e)||"Unknown",c));return $e({},i,a)}function ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,ui=kt.current,je(kt,e),je(qt,qt.current),!0}function K1(e,t,i){var a=e.stateNode;if(!a)throw Error(Z(169));i?(e=fd(e,t,ui),a.__reactInternalMemoizedMergedChildContext=e,Ge(qt),Ge(kt),je(kt,e)):Ge(qt),je(qt,i)}var nr=null,Ua=!1,kl=!1;function dd(e){nr===null?nr=[e]:nr.push(e)}function gp(e){Ua=!0,dd(e)}function Gr(){if(!kl&&nr!==null){kl=!0;var e=0,t=Le;try{var i=nr;for(Le=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}nr=null,Ua=!1}catch(c){throw nr!==null&&(nr=nr.slice(e+1)),Pf(sc,Gr),c}finally{Le=t,kl=!1}}return null}var Pi=[],Fi=0,xa=null,wa=0,En=[],yn=0,ci=null,rr=1,ir="";function ti(e,t){Pi[Fi++]=wa,Pi[Fi++]=xa,xa=e,wa=t}function hd(e,t,i){En[yn++]=rr,En[yn++]=ir,En[yn++]=ci,ci=e;var a=rr;e=ir;var c=32-Ln(a)-1;a&=~(1<<c),i+=1;var f=32-Ln(t)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,rr=1<<32-Ln(t)+c|i<<c|a,ir=f+e}else rr=1<<f|i<<c|a,ir=e}function pc(e){e.return!==null&&(ti(e,1),hd(e,1,0))}function mc(e){for(;e===xa;)xa=Pi[--Fi],Pi[Fi]=null,wa=Pi[--Fi],Pi[Fi]=null;for(;e===ci;)ci=En[--yn],En[yn]=null,ir=En[--yn],En[yn]=null,rr=En[--yn],En[yn]=null}var an=null,sn=null,Qe=!1,Rn=null;function gd(e,t){var i=Cn(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function q1(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,an=e,sn=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,an=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=ci!==null?{id:rr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Cn(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,an=e,sn=null,!0):!1;default:return!1}}function vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Su(e){if(Qe){var t=sn;if(t){var i=t;if(!q1(e,t)){if(vu(e))throw Error(Z(418));t=br(i.nextSibling);var a=an;t&&q1(e,t)?gd(a,i):(e.flags=e.flags&-4097|2,Qe=!1,an=e)}}else{if(vu(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Qe=!1,an=e}}}function J1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function Fs(e){if(e!==an)return!1;if(!Qe)return J1(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eu(e.type,e.memoizedProps)),t&&(t=sn)){if(vu(e))throw pd(),Error(Z(418));for(;t;)gd(e,t),t=br(t.nextSibling)}if(J1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){sn=br(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=an?br(e.stateNode.nextSibling):null;return!0}function pd(){for(var e=sn;e;)e=br(e.nextSibling)}function qi(){sn=an=null,Qe=!1}function xc(e){Rn===null?Rn=[e]:Rn.push(e)}var pp=fr.ReactCurrentBatchConfig;function Io(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Z(309));var a=i.stateNode}if(!a)throw Error(Z(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=c.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(Z(284));if(!i._owner)throw Error(Z(290,e))}return e}function Us(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $1(e){var t=e._init;return t(e._payload)}function md(e){function t(O,N){if(e){var _=O.deletions;_===null?(O.deletions=[N],O.flags|=16):_.push(N)}}function i(O,N){if(!e)return null;for(;N!==null;)t(O,N),N=N.sibling;return null}function a(O,N){for(O=new Map;N!==null;)N.key!==null?O.set(N.key,N):O.set(N.index,N),N=N.sibling;return O}function c(O,N){return O=Pr(O,N),O.index=0,O.sibling=null,O}function f(O,N,_){return O.index=_,e?(_=O.alternate,_!==null?(_=_.index,_<N?(O.flags|=2,N):_):(O.flags|=2,N)):(O.flags|=1048576,N)}function g(O){return e&&O.alternate===null&&(O.flags|=2),O}function x(O,N,_,j){return N===null||N.tag!==6?(N=Vl(_,O.mode,j),N.return=O,N):(N=c(N,_),N.return=O,N)}function E(O,N,_,j){var $=_.type;return $===Di?S(O,N,_.props.children,j,_.key):N!==null&&(N.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===vr&&$1($)===N.type)?(j=c(N,_.props),j.ref=Io(O,N,_),j.return=O,j):(j=ia(_.type,_.key,_.props,null,O.mode,j),j.ref=Io(O,N,_),j.return=O,j)}function m(O,N,_,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Wl(_,O.mode,j),N.return=O,N):(N=c(N,_.children||[]),N.return=O,N)}function S(O,N,_,j,$){return N===null||N.tag!==7?(N=li(_,O.mode,j,$),N.return=O,N):(N=c(N,_),N.return=O,N)}function v(O,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Vl(""+N,O.mode,_),N.return=O,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _s:return _=ia(N.type,N.key,N.props,null,O.mode,_),_.ref=Io(O,null,N),_.return=O,_;case Oi:return N=Wl(N,O.mode,_),N.return=O,N;case vr:var j=N._init;return v(O,j(N._payload),_)}if(Mo(N)||yo(N))return N=li(N,O.mode,_,null),N.return=O,N;Us(O,N)}return null}function D(O,N,_,j){var $=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return $!==null?null:x(O,N,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _s:return _.key===$?E(O,N,_,j):null;case Oi:return _.key===$?m(O,N,_,j):null;case vr:return $=_._init,D(O,N,$(_._payload),j)}if(Mo(_)||yo(_))return $!==null?null:S(O,N,_,j,null);Us(O,_)}return null}function b(O,N,_,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return O=O.get(_)||null,x(N,O,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _s:return O=O.get(j.key===null?_:j.key)||null,E(N,O,j,$);case Oi:return O=O.get(j.key===null?_:j.key)||null,m(N,O,j,$);case vr:var J=j._init;return b(O,N,_,J(j._payload),$)}if(Mo(j)||yo(j))return O=O.get(_)||null,S(N,O,j,$,null);Us(N,j)}return null}function V(O,N,_,j){for(var $=null,J=null,z=N,G=N=0,H=null;z!==null&&G<_.length;G++){z.index>G?(H=z,z=null):H=z.sibling;var le=D(O,z,_[G],j);if(le===null){z===null&&(z=H);break}e&&z&&le.alternate===null&&t(O,z),N=f(le,N,G),J===null?$=le:J.sibling=le,J=le,z=H}if(G===_.length)return i(O,z),Qe&&ti(O,G),$;if(z===null){for(;G<_.length;G++)z=v(O,_[G],j),z!==null&&(N=f(z,N,G),J===null?$=z:J.sibling=z,J=z);return Qe&&ti(O,G),$}for(z=a(O,z);G<_.length;G++)H=b(z,O,G,_[G],j),H!==null&&(e&&H.alternate!==null&&z.delete(H.key===null?G:H.key),N=f(H,N,G),J===null?$=H:J.sibling=H,J=H);return e&&z.forEach(function(_e){return t(O,_e)}),Qe&&ti(O,G),$}function P(O,N,_,j){var $=yo(_);if(typeof $!="function")throw Error(Z(150));if(_=$.call(_),_==null)throw Error(Z(151));for(var J=$=null,z=N,G=N=0,H=null,le=_.next();z!==null&&!le.done;G++,le=_.next()){z.index>G?(H=z,z=null):H=z.sibling;var _e=D(O,z,le.value,j);if(_e===null){z===null&&(z=H);break}e&&z&&_e.alternate===null&&t(O,z),N=f(_e,N,G),J===null?$=_e:J.sibling=_e,J=_e,z=H}if(le.done)return i(O,z),Qe&&ti(O,G),$;if(z===null){for(;!le.done;G++,le=_.next())le=v(O,le.value,j),le!==null&&(N=f(le,N,G),J===null?$=le:J.sibling=le,J=le);return Qe&&ti(O,G),$}for(z=a(O,z);!le.done;G++,le=_.next())le=b(z,O,G,le.value,j),le!==null&&(e&&le.alternate!==null&&z.delete(le.key===null?G:le.key),N=f(le,N,G),J===null?$=le:J.sibling=le,J=le);return e&&z.forEach(function(fe){return t(O,fe)}),Qe&&ti(O,G),$}function Y(O,N,_,j){if(typeof _=="object"&&_!==null&&_.type===Di&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _s:e:{for(var $=_.key,J=N;J!==null;){if(J.key===$){if($=_.type,$===Di){if(J.tag===7){i(O,J.sibling),N=c(J,_.props.children),N.return=O,O=N;break e}}else if(J.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===vr&&$1($)===J.type){i(O,J.sibling),N=c(J,_.props),N.ref=Io(O,J,_),N.return=O,O=N;break e}i(O,J);break}else t(O,J);J=J.sibling}_.type===Di?(N=li(_.props.children,O.mode,j,_.key),N.return=O,O=N):(j=ia(_.type,_.key,_.props,null,O.mode,j),j.ref=Io(O,N,_),j.return=O,O=j)}return g(O);case Oi:e:{for(J=_.key;N!==null;){if(N.key===J)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){i(O,N.sibling),N=c(N,_.children||[]),N.return=O,O=N;break e}else{i(O,N);break}else t(O,N);N=N.sibling}N=Wl(_,O.mode,j),N.return=O,O=N}return g(O);case vr:return J=_._init,Y(O,N,J(_._payload),j)}if(Mo(_))return V(O,N,_,j);if(yo(_))return P(O,N,_,j);Us(O,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(i(O,N.sibling),N=c(N,_),N.return=O,O=N):(i(O,N),N=Vl(_,O.mode,j),N.return=O,O=N),g(O)):i(O,N)}return Y}var Ji=md(!0),xd=md(!1),Ea=Wr(null),ya=null,Ui=null,wc=null;function Ec(){wc=Ui=ya=null}function yc(e){var t=Ea.current;Ge(Ea),e._currentValue=t}function Iu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Xi(e,t){ya=e,wc=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(wc!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(ya===null)throw Error(Z(308));Ui=e,ya.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var oi=null;function Cc(e){oi===null?oi=[e]:oi.push(e)}function wd(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,Cc(t)):(i.next=c.next,c.next=i),t.interleaved=i,ur(e,a)}function ur(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Sr=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ne&2){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,ur(e,i)}return c=a.interleaved,c===null?(t.next=t,Cc(a)):(t.next=c.next,c.next=t),a.interleaved=t,ur(e,i)}function Js(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ac(e,i)}}function e0(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ca(e,t,i,a){var c=e.updateQueue;Sr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var E=x,m=E.next;E.next=null,g===null?f=m:g.next=m,g=E;var S=e.alternate;S!==null&&(S=S.updateQueue,x=S.lastBaseUpdate,x!==g&&(x===null?S.firstBaseUpdate=m:x.next=m,S.lastBaseUpdate=E))}if(f!==null){var v=c.baseState;g=0,S=m=E=null,x=f;do{var D=x.lane,b=x.eventTime;if((a&D)===D){S!==null&&(S=S.next={eventTime:b,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var V=e,P=x;switch(D=t,b=i,P.tag){case 1:if(V=P.payload,typeof V=="function"){v=V.call(b,v,D);break e}v=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=P.payload,D=typeof V=="function"?V.call(b,v,D):V,D==null)break e;v=$e({},v,D);break e;case 2:Sr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,D=c.effects,D===null?c.effects=[x]:D.push(x))}else b={eventTime:b,lane:D,tag:x.tag,payload:x.payload,callback:x.callback,next:null},S===null?(m=S=b,E=v):S=S.next=b,g|=D;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;D=x,x=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(1);if(S===null&&(E=v),c.baseState=E,c.firstBaseUpdate=m,c.lastBaseUpdate=S,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);di|=g,e.lanes=g,e.memoizedState=v}}function t0(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(Z(191,c));c.call(a)}}}var fs={},qn=Wr(fs),Jo=Wr(fs),$o=Wr(fs);function si(e){if(e===fs)throw Error(Z(174));return e}function vc(e,t){switch(je($o,t),je(Jo,e),je(qn,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ou(t,e)}Ge(qn),je(qn,t)}function $i(){Ge(qn),Ge(Jo),Ge($o)}function yd(e){si($o.current);var t=si(qn.current),i=ou(t,e.type);t!==i&&(je(Jo,e),je(qn,i))}function Sc(e){Jo.current===e&&(Ge(qn),Ge(Jo))}var qe=Wr(0);function Aa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Ic(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var $s=fr.ReactCurrentDispatcher,Fl=fr.ReactCurrentBatchConfig,fi=0,Je=null,pt=null,yt=null,va=!1,Po=!1,es=0,mp=0;function bt(){throw Error(Z(321))}function Tc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!kn(e[i],t[i]))return!1;return!0}function Nc(e,t,i,a,c,f){if(fi=f,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?yp:Cp,e=i(a,c),Po){f=0;do{if(Po=!1,es=0,25<=f)throw Error(Z(301));f+=1,yt=pt=null,t.updateQueue=null,$s.current=Ap,e=i(a,c)}while(Po)}if($s.current=Sa,t=pt!==null&&pt.next!==null,fi=0,yt=pt=Je=null,va=!1,t)throw Error(Z(300));return e}function _c(){var e=es!==0;return es=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=e:yt=yt.next=e,yt}function Sn(){if(pt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=yt===null?Je.memoizedState:yt.next;if(t!==null)yt=t,pt=e;else{if(e===null)throw Error(Z(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?Je.memoizedState=yt=e:yt=yt.next=e}return yt}function ts(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=Sn(),i=t.queue;if(i===null)throw Error(Z(311));i.lastRenderedReducer=e;var a=pt,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var x=g=null,E=null,m=f;do{var S=m.lane;if((fi&S)===S)E!==null&&(E=E.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var v={lane:S,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};E===null?(x=E=v,g=a):E=E.next=v,Je.lanes|=S,di|=S}m=m.next}while(m!==null&&m!==f);E===null?g=a:E.next=x,kn(a,t.memoizedState)||(Kt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=E,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Je.lanes|=f,di|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function zl(e){var t=Sn(),i=t.queue;if(i===null)throw Error(Z(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);kn(f,t.memoizedState)||(Kt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function Cd(){}function Ad(e,t){var i=Je,a=Sn(),c=t(),f=!kn(a.memoizedState,c);if(f&&(a.memoizedState=c,Kt=!0),a=a.queue,Mc(Id.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||yt!==null&&yt.memoizedState.tag&1){if(i.flags|=2048,ns(9,Sd.bind(null,i,a,c,t),void 0,null),Ct===null)throw Error(Z(349));fi&30||vd(i,t,c)}return c}function vd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Sd(e,t,i,a){t.value=i,t.getSnapshot=a,Td(t)&&Nd(e)}function Id(e,t,i){return i(function(){Td(t)&&Nd(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!kn(e,i)}catch{return!0}}function Nd(e){var t=ur(e,1);t!==null&&Bn(t,e,1,-1)}function n0(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Ep.bind(null,Je,e),[t.memoizedState,e]}function ns(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function _d(){return Sn().memoizedState}function ea(e,t,i,a){var c=Gn();Je.flags|=e,c.memoizedState=ns(1|t,i,void 0,a===void 0?null:a)}function za(e,t,i,a){var c=Sn();a=a===void 0?null:a;var f=void 0;if(pt!==null){var g=pt.memoizedState;if(f=g.destroy,a!==null&&Tc(a,g.deps)){c.memoizedState=ns(t,i,f,a);return}}Je.flags|=e,c.memoizedState=ns(1|t,i,f,a)}function r0(e,t){return ea(8390656,8,e,t)}function Mc(e,t){return za(2048,8,e,t)}function Md(e,t){return za(4,2,e,t)}function Od(e,t){return za(4,4,e,t)}function Dd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,i){return i=i!=null?i.concat([e]):null,za(4,4,Dd.bind(null,t,e),i)}function Oc(){}function bd(e,t){var i=Sn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Tc(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Ld(e,t){var i=Sn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Tc(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Bd(e,t,i){return fi&21?(kn(i,t)||(i=zf(),Je.lanes|=i,di|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=i)}function xp(e,t){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var a=Fl.transition;Fl.transition={};try{e(!1),t()}finally{Le=i,Fl.transition=a}}function kd(){return Sn().memoizedState}function wp(e,t,i){var a=kr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Pd(e))Fd(t,i);else if(i=wd(e,t,i,a),i!==null){var c=zt();Bn(i,e,a,c),Ud(i,t,a)}}function Ep(e,t,i){var a=kr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Pd(e))Fd(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(c.hasEagerState=!0,c.eagerState=x,kn(x,g)){var E=t.interleaved;E===null?(c.next=c,Cc(t)):(c.next=E.next,E.next=c),t.interleaved=c;return}}catch{}finally{}i=wd(e,t,c,a),i!==null&&(c=zt(),Bn(i,e,a,c),Ud(i,t,a))}}function Pd(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Fd(e,t){Po=va=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ud(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ac(e,i)}}var Sa={readContext:vn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},yp={readContext:vn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:r0,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ea(4194308,4,Dd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return ea(4,2,e,t)},useMemo:function(e,t){var i=Gn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Gn();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=wp.bind(null,Je,e),[a.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:n0,useDebugValue:Oc,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=n0(!1),t=e[0];return e=xp.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Je,c=Gn();if(Qe){if(i===void 0)throw Error(Z(407));i=i()}else{if(i=t(),Ct===null)throw Error(Z(349));fi&30||vd(a,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,r0(Id.bind(null,a,f,e),[e]),a.flags|=2048,ns(9,Sd.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=Gn(),t=Ct.identifierPrefix;if(Qe){var i=ir,a=rr;i=(a&~(1<<32-Ln(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=es++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=mp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cp={readContext:vn,useCallback:bd,useContext:vn,useEffect:Mc,useImperativeHandle:Rd,useInsertionEffect:Md,useLayoutEffect:Od,useMemo:Ld,useReducer:Ul,useRef:_d,useState:function(){return Ul(ts)},useDebugValue:Oc,useDeferredValue:function(e){var t=Sn();return Bd(t,pt.memoizedState,e)},useTransition:function(){var e=Ul(ts)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:Cd,useSyncExternalStore:Ad,useId:kd,unstable_isNewReconciler:!1},Ap={readContext:vn,useCallback:bd,useContext:vn,useEffect:Mc,useImperativeHandle:Rd,useInsertionEffect:Md,useLayoutEffect:Od,useMemo:Ld,useReducer:zl,useRef:_d,useState:function(){return zl(ts)},useDebugValue:Oc,useDeferredValue:function(e){var t=Sn();return pt===null?t.memoizedState=e:Bd(t,pt.memoizedState,e)},useTransition:function(){var e=zl(ts)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:Cd,useSyncExternalStore:Ad,useId:kd,unstable_isNewReconciler:!1};function Mn(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Tu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:$e({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ja={isMounted:function(e){return(e=e._reactInternals)?pi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=zt(),c=kr(e),f=sr(a,c);f.payload=t,i!=null&&(f.callback=i),t=Lr(e,f,c),t!==null&&(Bn(t,e,c,a),Js(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=zt(),c=kr(e),f=sr(a,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Lr(e,f,c),t!==null&&(Bn(t,e,c,a),Js(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=zt(),a=kr(e),c=sr(i,a);c.tag=2,t!=null&&(c.callback=t),t=Lr(e,c,a),t!==null&&(Bn(t,e,a,i),Js(t,e,a))}};function i0(e,t,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!Qo(i,a)||!Qo(c,f):!0}function zd(e,t,i){var a=!1,c=jr,f=t.contextType;return typeof f=="object"&&f!==null?f=vn(f):(c=Jt(t)?ui:kt.current,a=t.contextTypes,f=(a=a!=null)?Ki(e,c):jr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function o0(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Nu(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Ac(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=vn(f):(f=Jt(t)?ui:kt.current,c.context=Ki(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Tu(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&ja.enqueueReplaceState(c,c.state,null),Ca(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function eo(e,t){try{var i="",a=t;do i+=Kg(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function jl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function _u(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var vp=typeof WeakMap=="function"?WeakMap:Map;function jd(e,t,i){i=sr(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ta||(Ta=!0,Fu=a),_u(e,t)},i}function Hd(e,t,i){i=sr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){_u(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){_u(e,t),typeof a!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function s0(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new vp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=Pp.bind(null,e,t,i),t.then(e,e))}function a0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function l0(e,t,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=sr(-1,1),t.tag=2,Lr(i,t,1))),i.lanes|=1),e)}var Sp=fr.ReactCurrentOwner,Kt=!1;function Ut(e,t,i,a){t.child=e===null?xd(t,null,i,a):Ji(t,e.child,i,a)}function u0(e,t,i,a,c){i=i.render;var f=t.ref;return Xi(t,c),a=Nc(e,t,i,a,f,c),i=_c(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,cr(e,t,c)):(Qe&&i&&pc(t),t.flags|=1,Ut(e,t,a,c),t.child)}function c0(e,t,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Vd(e,t,f,a,c)):(e=ia(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Qo,i(g,a)&&e.ref===t.ref)return cr(e,t,c)}return t.flags|=1,e=Pr(f,a),e.ref=t.ref,e.return=t,t.child=e}function Vd(e,t,i,a,c){if(e!==null){var f=e.memoizedProps;if(Qo(f,a)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,cr(e,t,c)}return Mu(e,t,i,a,c)}function Wd(e,t,i){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ji,rn),rn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(ji,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,je(ji,rn),rn|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,je(ji,rn),rn|=a;return Ut(e,t,c,i),t.child}function Gd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Mu(e,t,i,a,c){var f=Jt(i)?ui:kt.current;return f=Ki(t,f),Xi(t,c),i=Nc(e,t,i,a,f,c),a=_c(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,cr(e,t,c)):(Qe&&a&&pc(t),t.flags|=1,Ut(e,t,i,c),t.child)}function f0(e,t,i,a,c){if(Jt(i)){var f=!0;ma(t)}else f=!1;if(Xi(t,c),t.stateNode===null)ta(e,t),zd(t,i,a),Nu(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var E=g.context,m=i.contextType;typeof m=="object"&&m!==null?m=vn(m):(m=Jt(i)?ui:kt.current,m=Ki(t,m));var S=i.getDerivedStateFromProps,v=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function";v||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==a||E!==m)&&o0(t,g,a,m),Sr=!1;var D=t.memoizedState;g.state=D,Ca(t,a,g,c),E=t.memoizedState,x!==a||D!==E||qt.current||Sr?(typeof S=="function"&&(Tu(t,i,S,a),E=t.memoizedState),(x=Sr||i0(t,i,x,a,D,E,m))?(v||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),g.props=a,g.state=E,g.context=m,a=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,Ed(e,t),x=t.memoizedProps,m=t.type===t.elementType?x:Mn(t.type,x),g.props=m,v=t.pendingProps,D=g.context,E=i.contextType,typeof E=="object"&&E!==null?E=vn(E):(E=Jt(i)?ui:kt.current,E=Ki(t,E));var b=i.getDerivedStateFromProps;(S=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==v||D!==E)&&o0(t,g,a,E),Sr=!1,D=t.memoizedState,g.state=D,Ca(t,a,g,c);var V=t.memoizedState;x!==v||D!==V||qt.current||Sr?(typeof b=="function"&&(Tu(t,i,b,a),V=t.memoizedState),(m=Sr||i0(t,i,m,a,D,V,E)||!1)?(S||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,V,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,V,E)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=V),g.props=a,g.state=V,g.context=E,a=m):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return Ou(e,t,i,a,f,c)}function Ou(e,t,i,a,c,f){Gd(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&K1(t,i,!1),cr(e,t,f);a=t.stateNode,Sp.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=Ji(t,e.child,null,f),t.child=Ji(t,null,x,f)):Ut(e,t,x,f),t.memoizedState=a.state,c&&K1(t,i,!0),t.child}function Yd(e){var t=e.stateNode;t.pendingContext?Z1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Z1(e,t.context,!1),vc(e,t.containerInfo)}function d0(e,t,i,a,c){return qi(),xc(c),t.flags|=256,Ut(e,t,i,a),t.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xd(e,t,i){var a=t.pendingProps,c=qe.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),je(qe,c&1),e===null)return Su(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Wa(g,a,0,null),e=li(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ru(i),t.memoizedState=Du,e):Dc(t,g));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return Ip(e,t,g,a,x,c,i);if(f){f=a.fallback,g=t.mode,c=e.child,x=c.sibling;var E={mode:"hidden",children:a.children};return!(g&1)&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=E,t.deletions=null):(a=Pr(c,E),a.subtreeFlags=c.subtreeFlags&14680064),x!==null?f=Pr(x,f):(f=li(f,g,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?Ru(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Du,a}return f=e.child,e=f.sibling,a=Pr(f,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Dc(e,t){return t=Wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,i,a){return a!==null&&xc(a),Ji(t,e.child,null,i),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ip(e,t,i,a,c,f,g){if(i)return t.flags&256?(t.flags&=-257,a=jl(Error(Z(422))),zs(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=Wa({mode:"visible",children:a.children},c,0,null),f=li(f,c,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,t.mode&1&&Ji(t,e.child,null,g),t.child.memoizedState=Ru(g),t.memoizedState=Du,f);if(!(t.mode&1))return zs(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var x=a.dgst;return a=x,f=Error(Z(419)),a=jl(f,a,void 0),zs(e,t,g,a)}if(x=(g&e.childLanes)!==0,Kt||x){if(a=Ct,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,ur(e,c),Bn(a,e,c,-1))}return Pc(),a=jl(Error(Z(421))),zs(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Fp.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,sn=br(c.nextSibling),an=t,Qe=!0,Rn=null,e!==null&&(En[yn++]=rr,En[yn++]=ir,En[yn++]=ci,rr=e.id,ir=e.overflow,ci=t),t=Dc(t,a.children),t.flags|=4096,t)}function h0(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Iu(e.return,t,i)}function Hl(e,t,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function Qd(e,t,i){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(Ut(e,t,a.children,i),a=qe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h0(e,i,t);else if(e.tag===19)h0(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(je(qe,a),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Aa(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Hl(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Aa(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Hl(t,!0,i,null,f);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,i=Pr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Pr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Tp(e,t,i){switch(t.tag){case 3:Yd(t),qi();break;case 5:yd(t);break;case 1:Jt(t.type)&&ma(t);break;case 4:vc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;je(Ea,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(je(qe,qe.current&1),t.flags|=128,null):i&t.child.childLanes?Xd(e,t,i):(je(qe,qe.current&1),e=cr(e,t,i),e!==null?e.sibling:null);je(qe,qe.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return Qd(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),je(qe,qe.current),a)break;return null;case 22:case 23:return t.lanes=0,Wd(e,t,i)}return cr(e,t,i)}var Zd,bu,Kd,qd;Zd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bu=function(){};Kd=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,si(qn.current);var f=null;switch(i){case"input":c=tu(e,c),a=tu(e,a),f=[];break;case"select":c=$e({},c,{value:void 0}),a=$e({},a,{value:void 0}),f=[];break;case"textarea":c=iu(e,c),a=iu(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ga)}su(i,a);var g;i=null;for(m in c)if(!a.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null)if(m==="style"){var x=c[m];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(jo.hasOwnProperty(m)?f||(f=[]):(f=f||[]).push(m,null));for(m in a){var E=a[m];if(x=c!=null?c[m]:void 0,a.hasOwnProperty(m)&&E!==x&&(E!=null||x!=null))if(m==="style")if(x){for(g in x)!x.hasOwnProperty(g)||E&&E.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in E)E.hasOwnProperty(g)&&x[g]!==E[g]&&(i||(i={}),i[g]=E[g])}else i||(f||(f=[]),f.push(m,i)),i=E;else m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,x=x?x.__html:void 0,E!=null&&x!==E&&(f=f||[]).push(m,E)):m==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(m,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(jo.hasOwnProperty(m)?(E!=null&&m==="onScroll"&&Ve("scroll",e),f||x===E||(f=[])):(f=f||[]).push(m,E))}i&&(f=f||[]).push("style",i);var m=f;(t.updateQueue=m)&&(t.flags|=4)}};qd=function(e,t,i,a){i!==a&&(t.flags|=4)};function To(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Np(e,t,i){var a=t.pendingProps;switch(mc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return Jt(t.type)&&pa(),Lt(t),null;case 3:return a=t.stateNode,$i(),Ge(qt),Ge(kt),Ic(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(ju(Rn),Rn=null))),bu(e,t),Lt(t),null;case 5:Sc(t);var c=si($o.current);if(i=t.type,e!==null&&t.stateNode!=null)Kd(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Z(166));return Lt(t),null}if(e=si(qn.current),Fs(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[Xn]=t,a[qo]=f,e=(t.mode&1)!==0,i){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(c=0;c<Do.length;c++)Ve(Do[c],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":A1(a,f),Ve("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ve("invalid",a);break;case"textarea":S1(a,f),Ve("invalid",a)}su(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?a.textContent!==x&&(f.suppressHydrationWarning!==!0&&Ps(a.textContent,x,e),c=["children",x]):typeof x=="number"&&a.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Ps(a.textContent,x,e),c=["children",""+x]):jo.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Ve("scroll",a)}switch(i){case"input":Ms(a),v1(a,f,!0);break;case"textarea":Ms(a),I1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ga)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=If(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Xn]=t,e[qo]=a,Zd(e,t,!1,!1),t.stateNode=e;e:{switch(g=au(i,a),i){case"dialog":Ve("cancel",e),Ve("close",e),c=a;break;case"iframe":case"object":case"embed":Ve("load",e),c=a;break;case"video":case"audio":for(c=0;c<Do.length;c++)Ve(Do[c],e);c=a;break;case"source":Ve("error",e),c=a;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),c=a;break;case"details":Ve("toggle",e),c=a;break;case"input":A1(e,a),c=tu(e,a),Ve("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=$e({},a,{value:void 0}),Ve("invalid",e);break;case"textarea":S1(e,a),c=iu(e,a),Ve("invalid",e);break;default:c=a}su(i,c),x=c;for(f in x)if(x.hasOwnProperty(f)){var E=x[f];f==="style"?_f(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Tf(e,E)):f==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&Ho(e,E):typeof E=="number"&&Ho(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(jo.hasOwnProperty(f)?E!=null&&f==="onScroll"&&Ve("scroll",e):E!=null&&tc(e,f,E,g))}switch(i){case"input":Ms(e),v1(e,a,!1);break;case"textarea":Ms(e),I1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+zr(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Vi(e,!!a.multiple,f,!1):a.defaultValue!=null&&Vi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ga)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Z(166));if(i=si($o.current),si(qn.current),Fs(t)){if(a=t.stateNode,i=t.memoizedProps,a[Xn]=t,(f=a.nodeValue!==i)&&(e=an,e!==null))switch(e.tag){case 3:Ps(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Xn]=t,t.stateNode=a}return Lt(t),null;case 13:if(Ge(qe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&sn!==null&&t.mode&1&&!(t.flags&128))pd(),qi(),t.flags|=98560,f=!1;else if(f=Fs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(Z(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(Z(317));f[Xn]=t}else qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),f=!1}else Rn!==null&&(ju(Rn),Rn=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?mt===0&&(mt=3):Pc())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return $i(),bu(e,t),e===null&&Zo(t.stateNode.containerInfo),Lt(t),null;case 10:return yc(t.type._context),Lt(t),null;case 17:return Jt(t.type)&&pa(),Lt(t),null;case 19:if(Ge(qe),f=t.memoizedState,f===null)return Lt(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)To(f,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Aa(e),g!==null){for(t.flags|=128,To(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return je(qe,qe.current&1|2),t.child}e=e.sibling}f.tail!==null&&lt()>to&&(t.flags|=128,a=!0,To(f,!1),t.lanes=4194304)}else{if(!a)if(e=Aa(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),To(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return Lt(t),null}else 2*lt()-f.renderingStartTime>to&&i!==1073741824&&(t.flags|=128,a=!0,To(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=lt(),t.sibling=null,i=qe.current,je(qe,a?i&1|2:i&1),t):(Lt(t),null);case 22:case 23:return kc(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?rn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function _p(e,t){switch(mc(t),t.tag){case 1:return Jt(t.type)&&pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(),Ge(qt),Ge(kt),Ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sc(t),null;case 13:if(Ge(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(qe),null;case 4:return $i(),null;case 10:return yc(t.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var js=!1,Bt=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function zi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){ot(e,t,a)}else i.current=null}function Lu(e,t,i){try{i()}catch(a){ot(e,t,a)}}var g0=!1;function Op(e,t){if(xu=fa,e=nd(),gc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,E=-1,m=0,S=0,v=e,D=null;t:for(;;){for(var b;v!==i||c!==0&&v.nodeType!==3||(x=g+c),v!==f||a!==0&&v.nodeType!==3||(E=g+a),v.nodeType===3&&(g+=v.nodeValue.length),(b=v.firstChild)!==null;)D=v,v=b;for(;;){if(v===e)break t;if(D===i&&++m===c&&(x=g),D===f&&++S===a&&(E=g),(b=v.nextSibling)!==null)break;v=D,D=v.parentNode}v=b}i=x===-1||E===-1?null:{start:x,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(wu={focusedElem:e,selectionRange:i},fa=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var V=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var P=V.memoizedProps,Y=V.memoizedState,O=t.stateNode,N=O.getSnapshotBeforeUpdate(t.elementType===t.type?P:Mn(t.type,P),Y);O.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){ot(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return V=g0,g0=!1,V}function Fo(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Lu(t,i,f)}c=c.next}while(c!==a)}}function Ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Bu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[qo],delete t[Cu],delete t[dp],delete t[hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $d(e){return e.tag===5||e.tag===3||e.tag===4}function p0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ga));else if(a!==4&&(e=e.child,e!==null))for(ku(e,t,i),e=e.sibling;e!==null;)ku(e,t,i),e=e.sibling}function Pu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Pu(e,t,i),e=e.sibling;e!==null;)Pu(e,t,i),e=e.sibling}var Nt=null,On=!1;function yr(e,t,i){for(i=i.child;i!==null;)eh(e,t,i),i=i.sibling}function eh(e,t,i){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(La,i)}catch{}switch(i.tag){case 5:Bt||zi(i,t);case 6:var a=Nt,c=On;Nt=null,yr(e,t,i),Nt=a,On=c,Nt!==null&&(On?(e=Nt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Nt.removeChild(i.stateNode));break;case 18:Nt!==null&&(On?(e=Nt,i=i.stateNode,e.nodeType===8?Bl(e.parentNode,i):e.nodeType===1&&Bl(e,i),Yo(e)):Bl(Nt,i.stateNode));break;case 4:a=Nt,c=On,Nt=i.stateNode.containerInfo,On=!0,yr(e,t,i),Nt=a,On=c;break;case 0:case 11:case 14:case 15:if(!Bt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&Lu(i,t,g),c=c.next}while(c!==a)}yr(e,t,i);break;case 1:if(!Bt&&(zi(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(x){ot(i,t,x)}yr(e,t,i);break;case 21:yr(e,t,i);break;case 22:i.mode&1?(Bt=(a=Bt)||i.memoizedState!==null,yr(e,t,i),Bt=a):yr(e,t,i);break;default:yr(e,t,i)}}function m0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Mp),t.forEach(function(a){var c=Up.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function _n(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Nt=x.stateNode,On=!1;break e;case 3:Nt=x.stateNode.containerInfo,On=!0;break e;case 4:Nt=x.stateNode.containerInfo,On=!0;break e}x=x.return}if(Nt===null)throw Error(Z(160));eh(f,g,c),Nt=null,On=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(m){ot(c,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)th(t,e),t=t.sibling}function th(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Wn(e),a&4){try{Fo(3,e,e.return),Ha(3,e)}catch(P){ot(e,e.return,P)}try{Fo(5,e,e.return)}catch(P){ot(e,e.return,P)}}break;case 1:_n(t,e),Wn(e),a&512&&i!==null&&zi(i,i.return);break;case 5:if(_n(t,e),Wn(e),a&512&&i!==null&&zi(i,i.return),e.flags&32){var c=e.stateNode;try{Ho(c,"")}catch(P){ot(e,e.return,P)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&vf(c,f),au(x,g);var m=au(x,f);for(g=0;g<E.length;g+=2){var S=E[g],v=E[g+1];S==="style"?_f(c,v):S==="dangerouslySetInnerHTML"?Tf(c,v):S==="children"?Ho(c,v):tc(c,S,v,m)}switch(x){case"input":nu(c,f);break;case"textarea":Sf(c,f);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var b=f.value;b!=null?Vi(c,!!f.multiple,b,!1):D!==!!f.multiple&&(f.defaultValue!=null?Vi(c,!!f.multiple,f.defaultValue,!0):Vi(c,!!f.multiple,f.multiple?[]:"",!1))}c[qo]=f}catch(P){ot(e,e.return,P)}}break;case 6:if(_n(t,e),Wn(e),a&4){if(e.stateNode===null)throw Error(Z(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(P){ot(e,e.return,P)}}break;case 3:if(_n(t,e),Wn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Yo(t.containerInfo)}catch(P){ot(e,e.return,P)}break;case 4:_n(t,e),Wn(e);break;case 13:_n(t,e),Wn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Lc=lt())),a&4&&m0(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(Bt=(m=Bt)||S,_n(t,e),Bt=m):_n(t,e),Wn(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!S&&e.mode&1)for(oe=e,S=e.child;S!==null;){for(v=oe=S;oe!==null;){switch(D=oe,b=D.child,D.tag){case 0:case 11:case 14:case 15:Fo(4,D,D.return);break;case 1:zi(D,D.return);var V=D.stateNode;if(typeof V.componentWillUnmount=="function"){a=D,i=D.return;try{t=a,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(P){ot(a,i,P)}}break;case 5:zi(D,D.return);break;case 22:if(D.memoizedState!==null){w0(v);continue}}b!==null?(b.return=D,oe=b):w0(v)}S=S.sibling}e:for(S=null,v=e;;){if(v.tag===5){if(S===null){S=v;try{c=v.stateNode,m?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=v.stateNode,E=v.memoizedProps.style,g=E!=null&&E.hasOwnProperty("display")?E.display:null,x.style.display=Nf("display",g))}catch(P){ot(e,e.return,P)}}}else if(v.tag===6){if(S===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(P){ot(e,e.return,P)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;S===v&&(S=null),v=v.return}S===v&&(S=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:_n(t,e),Wn(e),a&4&&m0(e);break;case 21:break;default:_n(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if($d(i)){var a=i;break e}i=i.return}throw Error(Z(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ho(c,""),a.flags&=-33);var f=p0(e);Pu(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,x=p0(e);ku(e,x,g);break;default:throw Error(Z(161))}}catch(E){ot(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dp(e,t,i){oe=e,nh(e)}function nh(e,t,i){for(var a=(e.mode&1)!==0;oe!==null;){var c=oe,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||js;if(!g){var x=c.alternate,E=x!==null&&x.memoizedState!==null||Bt;x=js;var m=Bt;if(js=g,(Bt=E)&&!m)for(oe=c;oe!==null;)g=oe,E=g.child,g.tag===22&&g.memoizedState!==null?E0(c):E!==null?(E.return=g,oe=E):E0(c);for(;f!==null;)oe=f,nh(f),f=f.sibling;oe=c,js=x,Bt=m}x0(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,oe=f):x0(e)}}function x0(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||Ha(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Bt)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Mn(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&t0(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}t0(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var S=m.memoizedState;if(S!==null){var v=S.dehydrated;v!==null&&Yo(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Bt||t.flags&512&&Bu(t)}catch(D){ot(t,t.return,D)}}if(t===e){oe=null;break}if(i=t.sibling,i!==null){i.return=t.return,oe=i;break}oe=t.return}}function w0(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,oe=i;break}oe=t.return}}function E0(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ha(4,t)}catch(E){ot(t,i,E)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(E){ot(t,c,E)}}var f=t.return;try{Bu(t)}catch(E){ot(t,f,E)}break;case 5:var g=t.return;try{Bu(t)}catch(E){ot(t,g,E)}}}catch(E){ot(t,t.return,E)}if(t===e){oe=null;break}var x=t.sibling;if(x!==null){x.return=t.return,oe=x;break}oe=t.return}}var Rp=Math.ceil,Ia=fr.ReactCurrentDispatcher,Rc=fr.ReactCurrentOwner,An=fr.ReactCurrentBatchConfig,Ne=0,Ct=null,ct=null,Mt=0,rn=0,ji=Wr(0),mt=0,rs=null,di=0,Va=0,bc=0,Uo=null,Zt=null,Lc=0,to=1/0,tr=null,Ta=!1,Fu=null,Br=null,Hs=!1,_r=null,Na=0,zo=0,Uu=null,na=-1,ra=0;function zt(){return Ne&6?lt():na!==-1?na:na=lt()}function kr(e){return e.mode&1?Ne&2&&Mt!==0?Mt&-Mt:pp.transition!==null?(ra===0&&(ra=zf()),ra):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Xf(e.type)),e):1}function Bn(e,t,i,a){if(50<zo)throw zo=0,Uu=null,Error(Z(185));ls(e,i,a),(!(Ne&2)||e!==Ct)&&(e===Ct&&(!(Ne&2)&&(Va|=i),mt===4&&Tr(e,Mt)),$t(e,a),i===1&&Ne===0&&!(t.mode&1)&&(to=lt()+500,Ua&&Gr()))}function $t(e,t){var i=e.callbackNode;p2(e,t);var a=ca(e,e===Ct?Mt:0);if(a===0)i!==null&&_1(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&_1(i),t===1)e.tag===0?gp(y0.bind(null,e)):dd(y0.bind(null,e)),cp(function(){!(Ne&6)&&Gr()}),i=null;else{switch(jf(a)){case 1:i=sc;break;case 4:i=Ff;break;case 16:i=ua;break;case 536870912:i=Uf;break;default:i=ua}i=ch(i,rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function rh(e,t){if(na=-1,ra=0,Ne&6)throw Error(Z(327));var i=e.callbackNode;if(Qi()&&e.callbackNode!==i)return null;var a=ca(e,e===Ct?Mt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=_a(e,a);else{t=a;var c=Ne;Ne|=2;var f=oh();(Ct!==e||Mt!==t)&&(tr=null,to=lt()+500,ai(e,t));do try{Bp();break}catch(x){ih(e,x)}while(1);Ec(),Ia.current=f,Ne=c,ct!==null?t=0:(Ct=null,Mt=0,t=mt)}if(t!==0){if(t===2&&(c=du(e),c!==0&&(a=c,t=zu(e,c))),t===1)throw i=rs,ai(e,0),Tr(e,a),$t(e,lt()),i;if(t===6)Tr(e,a);else{if(c=e.current.alternate,!(a&30)&&!bp(c)&&(t=_a(e,a),t===2&&(f=du(e),f!==0&&(a=f,t=zu(e,f))),t===1))throw i=rs,ai(e,0),Tr(e,a),$t(e,lt()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(Z(345));case 2:ni(e,Zt,tr);break;case 3:if(Tr(e,a),(a&130023424)===a&&(t=Lc+500-lt(),10<t)){if(ca(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){zt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=yu(ni.bind(null,e,Zt,tr),t);break}ni(e,Zt,tr);break;case 4:if(Tr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-Ln(a);f=1<<g,g=t[g],g>c&&(c=g),a&=~f}if(a=c,a=lt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Rp(a/1960))-a,10<a){e.timeoutHandle=yu(ni.bind(null,e,Zt,tr),a);break}ni(e,Zt,tr);break;case 5:ni(e,Zt,tr);break;default:throw Error(Z(329))}}}return $t(e,lt()),e.callbackNode===i?rh.bind(null,e):null}function zu(e,t){var i=Uo;return e.current.memoizedState.isDehydrated&&(ai(e,t).flags|=256),e=_a(e,t),e!==2&&(t=Zt,Zt=i,t!==null&&ju(t)),e}function ju(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!kn(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~bc,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ln(t),a=1<<i;e[i]=-1,t&=~a}}function y0(e){if(Ne&6)throw Error(Z(327));Qi();var t=ca(e,0);if(!(t&1))return $t(e,lt()),null;var i=_a(e,t);if(e.tag!==0&&i===2){var a=du(e);a!==0&&(t=a,i=zu(e,a))}if(i===1)throw i=rs,ai(e,0),Tr(e,t),$t(e,lt()),i;if(i===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ni(e,Zt,tr),$t(e,lt()),null}function Bc(e,t){var i=Ne;Ne|=1;try{return e(t)}finally{Ne=i,Ne===0&&(to=lt()+500,Ua&&Gr())}}function hi(e){_r!==null&&_r.tag===0&&!(Ne&6)&&Qi();var t=Ne;Ne|=1;var i=An.transition,a=Le;try{if(An.transition=null,Le=1,e)return e()}finally{Le=a,An.transition=i,Ne=t,!(Ne&6)&&Gr()}}function kc(){rn=ji.current,Ge(ji)}function ai(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,up(i)),ct!==null)for(i=ct.return;i!==null;){var a=i;switch(mc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&pa();break;case 3:$i(),Ge(qt),Ge(kt),Ic();break;case 5:Sc(a);break;case 4:$i();break;case 13:Ge(qe);break;case 19:Ge(qe);break;case 10:yc(a.type._context);break;case 22:case 23:kc()}i=i.return}if(Ct=e,ct=e=Pr(e.current,null),Mt=rn=t,mt=0,rs=null,bc=Va=di=0,Zt=Uo=null,oi!==null){for(t=0;t<oi.length;t++)if(i=oi[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}oi=null}return e}function ih(e,t){do{var i=ct;try{if(Ec(),$s.current=Sa,va){for(var a=Je.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}va=!1}if(fi=0,yt=pt=Je=null,Po=!1,es=0,Rc.current=null,i===null||i.return===null){mt=1,rs=t,ct=null;break}e:{var f=e,g=i.return,x=i,E=t;if(t=Mt,x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var m=E,S=x,v=S.tag;if(!(S.mode&1)&&(v===0||v===11||v===15)){var D=S.alternate;D?(S.updateQueue=D.updateQueue,S.memoizedState=D.memoizedState,S.lanes=D.lanes):(S.updateQueue=null,S.memoizedState=null)}var b=a0(g);if(b!==null){b.flags&=-257,l0(b,g,x,f,t),b.mode&1&&s0(f,m,t),t=b,E=m;var V=t.updateQueue;if(V===null){var P=new Set;P.add(E),t.updateQueue=P}else V.add(E);break e}else{if(!(t&1)){s0(f,m,t),Pc();break e}E=Error(Z(426))}}else if(Qe&&x.mode&1){var Y=a0(g);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),l0(Y,g,x,f,t),xc(eo(E,x));break e}}f=E=eo(E,x),mt!==4&&(mt=2),Uo===null?Uo=[f]:Uo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=jd(f,E,t);e0(f,O);break e;case 1:x=E;var N=f.type,_=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Br===null||!Br.has(_)))){f.flags|=65536,t&=-t,f.lanes|=t;var j=Hd(f,x,t);e0(f,j);break e}}f=f.return}while(f!==null)}ah(i)}catch($){t=$,ct===i&&i!==null&&(ct=i=i.return);continue}break}while(1)}function oh(){var e=Ia.current;return Ia.current=Sa,e===null?Sa:e}function Pc(){(mt===0||mt===3||mt===2)&&(mt=4),Ct===null||!(di&268435455)&&!(Va&268435455)||Tr(Ct,Mt)}function _a(e,t){var i=Ne;Ne|=2;var a=oh();(Ct!==e||Mt!==t)&&(tr=null,ai(e,t));do try{Lp();break}catch(c){ih(e,c)}while(1);if(Ec(),Ne=i,Ia.current=a,ct!==null)throw Error(Z(261));return Ct=null,Mt=0,mt}function Lp(){for(;ct!==null;)sh(ct)}function Bp(){for(;ct!==null&&!s2();)sh(ct)}function sh(e){var t=uh(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?ah(e):ct=t,Rc.current=null}function ah(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=_p(i,t),i!==null){i.flags&=32767,ct=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ct=null;return}}else if(i=Np(i,t,rn),i!==null){ct=i;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);mt===0&&(mt=5)}function ni(e,t,i){var a=Le,c=An.transition;try{An.transition=null,Le=1,kp(e,t,i,a)}finally{An.transition=c,Le=a}return null}function kp(e,t,i,a){do Qi();while(_r!==null);if(Ne&6)throw Error(Z(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(m2(e,f),e===Ct&&(ct=Ct=null,Mt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Hs||(Hs=!0,ch(ua,function(){return Qi(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=An.transition,An.transition=null;var g=Le;Le=1;var x=Ne;Ne|=4,Rc.current=null,Op(e,i),th(i,e),np(wu),fa=!!xu,wu=xu=null,e.current=i,Dp(i),a2(),Ne=x,Le=g,An.transition=f}else e.current=i;if(Hs&&(Hs=!1,_r=e,Na=c),f=e.pendingLanes,f===0&&(Br=null),c2(i.stateNode),$t(e,lt()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ta)throw Ta=!1,e=Fu,Fu=null,e;return Na&1&&e.tag!==0&&Qi(),f=e.pendingLanes,f&1?e===Uu?zo++:(zo=0,Uu=e):zo=0,Gr(),null}function Qi(){if(_r!==null){var e=jf(Na),t=An.transition,i=Le;try{if(An.transition=null,Le=16>e?16:e,_r===null)var a=!1;else{if(e=_r,_r=null,Na=0,Ne&6)throw Error(Z(331));var c=Ne;for(Ne|=4,oe=e.current;oe!==null;){var f=oe,g=f.child;if(oe.flags&16){var x=f.deletions;if(x!==null){for(var E=0;E<x.length;E++){var m=x[E];for(oe=m;oe!==null;){var S=oe;switch(S.tag){case 0:case 11:case 15:Fo(8,S,f)}var v=S.child;if(v!==null)v.return=S,oe=v;else for(;oe!==null;){S=oe;var D=S.sibling,b=S.return;if(Jd(S),S===m){oe=null;break}if(D!==null){D.return=b,oe=D;break}oe=b}}}var V=f.alternate;if(V!==null){var P=V.child;if(P!==null){V.child=null;do{var Y=P.sibling;P.sibling=null,P=Y}while(P!==null)}}oe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,oe=g;else e:for(;oe!==null;){if(f=oe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Fo(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,oe=O;break e}oe=f.return}}var N=e.current;for(oe=N;oe!==null;){g=oe;var _=g.child;if(g.subtreeFlags&2064&&_!==null)_.return=g,oe=_;else e:for(g=N;oe!==null;){if(x=oe,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Ha(9,x)}}catch($){ot(x,x.return,$)}if(x===g){oe=null;break e}var j=x.sibling;if(j!==null){j.return=x.return,oe=j;break e}oe=x.return}}if(Ne=c,Gr(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(La,e)}catch{}a=!0}return a}finally{Le=i,An.transition=t}}return!1}function C0(e,t,i){t=eo(i,t),t=jd(e,t,1),e=Lr(e,t,1),t=zt(),e!==null&&(ls(e,1,t),$t(e,t))}function ot(e,t,i){if(e.tag===3)C0(e,e,i);else for(;t!==null;){if(t.tag===3){C0(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Br===null||!Br.has(a))){e=eo(i,e),e=Hd(t,e,1),t=Lr(t,e,1),e=zt(),t!==null&&(ls(t,1,e),$t(t,e));break}}t=t.return}}function Pp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&i,Ct===e&&(Mt&i)===i&&(mt===4||mt===3&&(Mt&130023424)===Mt&&500>lt()-Lc?ai(e,0):bc|=i),$t(e,t)}function lh(e,t){t===0&&(e.mode&1?(t=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):t=1);var i=zt();e=ur(e,t),e!==null&&(ls(e,t,i),$t(e,i))}function Fp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),lh(e,i)}function Up(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Z(314))}a!==null&&a.delete(t),lh(e,i)}var uh;uh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Kt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Kt=!1,Tp(e,t,i);Kt=!!(e.flags&131072)}else Kt=!1,Qe&&t.flags&1048576&&hd(t,wa,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ta(e,t),e=t.pendingProps;var c=Ki(t,kt.current);Xi(t,i),c=Nc(null,t,a,e,c,i);var f=_c();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(a)?(f=!0,ma(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ac(t),c.updater=ja,t.stateNode=c,c._reactInternals=t,Nu(t,a,e,i),t=Ou(null,t,a,!0,f,i)):(t.tag=0,Qe&&f&&pc(t),Ut(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(ta(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=jp(a),e=Mn(a,e),c){case 0:t=Mu(null,t,a,e,i);break e;case 1:t=f0(null,t,a,e,i);break e;case 11:t=u0(null,t,a,e,i);break e;case 14:t=c0(null,t,a,Mn(a.type,e),i);break e}throw Error(Z(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Mn(a,c),Mu(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Mn(a,c),f0(e,t,a,c,i);case 3:e:{if(Yd(t),e===null)throw Error(Z(387));a=t.pendingProps,f=t.memoizedState,c=f.element,Ed(e,t),Ca(t,a,null,i);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=eo(Error(Z(423)),t),t=d0(e,t,a,i,c);break e}else if(a!==c){c=eo(Error(Z(424)),t),t=d0(e,t,a,i,c);break e}else for(sn=br(t.stateNode.containerInfo.firstChild),an=t,Qe=!0,Rn=null,i=xd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(qi(),a===c){t=cr(e,t,i);break e}Ut(e,t,a,i)}t=t.child}return t;case 5:return yd(t),e===null&&Su(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Eu(a,c)?g=null:f!==null&&Eu(a,f)&&(t.flags|=32),Gd(e,t),Ut(e,t,g,i),t.child;case 6:return e===null&&Su(t),null;case 13:return Xd(e,t,i);case 4:return vc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ji(t,null,a,i):Ut(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Mn(a,c),u0(e,t,a,c,i);case 7:return Ut(e,t,t.pendingProps,i),t.child;case 8:return Ut(e,t,t.pendingProps.children,i),t.child;case 12:return Ut(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,je(Ea,a._currentValue),a._currentValue=g,f!==null)if(kn(f.value,g)){if(f.children===c.children&&!qt.current){t=cr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var E=x.firstContext;E!==null;){if(E.context===a){if(f.tag===1){E=sr(-1,i&-i),E.tag=2;var m=f.updateQueue;if(m!==null){m=m.shared;var S=m.pending;S===null?E.next=E:(E.next=S.next,S.next=E),m.pending=E}}f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),Iu(f.return,i,t),x.lanes|=i;break}E=E.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(Z(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),Iu(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Ut(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,Xi(t,i),c=vn(c),a=a(c),t.flags|=1,Ut(e,t,a,i),t.child;case 14:return a=t.type,c=Mn(a,t.pendingProps),c=Mn(a.type,c),c0(e,t,a,c,i);case 15:return Vd(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Mn(a,c),ta(e,t),t.tag=1,Jt(a)?(e=!0,ma(t)):e=!1,Xi(t,i),zd(t,a,c),Nu(t,a,c,i),Ou(null,t,a,!0,e,i);case 19:return Qd(e,t,i);case 22:return Wd(e,t,i)}throw Error(Z(156,t.tag))};function ch(e,t){return Pf(e,t)}function zp(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,i,a){return new zp(e,t,i,a)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jp(e){if(typeof e=="function")return Fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rc)return 11;if(e===ic)return 14}return 2}function Pr(e,t){var i=e.alternate;return i===null?(i=Cn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ia(e,t,i,a,c,f){var g=2;if(a=e,typeof e=="function")Fc(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Di:return li(i.children,c,f,t);case nc:g=8,c|=8;break;case ql:return e=Cn(12,i,t,c|2),e.elementType=ql,e.lanes=f,e;case Jl:return e=Cn(13,i,t,c),e.elementType=Jl,e.lanes=f,e;case $l:return e=Cn(19,i,t,c),e.elementType=$l,e.lanes=f,e;case yf:return Wa(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wf:g=10;break e;case Ef:g=9;break e;case rc:g=11;break e;case ic:g=14;break e;case vr:g=16,a=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Cn(g,i,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function li(e,t,i,a){return e=Cn(7,e,a,t),e.lanes=i,e}function Wa(e,t,i,a){return e=Cn(22,e,a,t),e.elementType=yf,e.lanes=i,e.stateNode={isHidden:!1},e}function Vl(e,t,i){return e=Cn(6,e,null,t),e.lanes=i,e}function Wl(e,t,i){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hp(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Uc(e,t,i,a,c,f,g,x,E){return e=new Hp(e,t,i,x,E),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Cn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(f),e}function Vp(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function fh(e){if(!e)return jr;e=e._reactInternals;e:{if(pi(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var i=e.type;if(Jt(i))return fd(e,i,t)}return t}function dh(e,t,i,a,c,f,g,x,E){return e=Uc(i,a,!0,e,c,f,g,x,E),e.context=fh(null),i=e.current,a=zt(),c=kr(i),f=sr(a,c),f.callback=t??null,Lr(i,f,c),e.current.lanes=c,ls(e,c,a),$t(e,a),e}function Ga(e,t,i,a){var c=t.current,f=zt(),g=kr(c);return i=fh(i),t.context===null?t.context=i:t.pendingContext=i,t=sr(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Lr(c,t,g),e!==null&&(Bn(e,c,g,f),Js(e,c,g)),g}function Ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function zc(e,t){A0(e,t),(e=e.alternate)&&A0(e,t)}function Wp(){return null}var hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}Ya.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Ga(e,t,null,null)};Ya.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hi(function(){Ga(null,e,null,null)}),t[lr]=null}};function Ya(e){this._internalRoot=e}Ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ir.length&&t!==0&&t<Ir[i].priority;i++);Ir.splice(i,0,e),i===0&&Yf(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v0(){}function Gp(e,t,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var m=Ma(g);f.call(m)}}var g=dh(t,a,e,0,null,!1,!1,"",v0);return e._reactRootContainer=g,e[lr]=g.current,Zo(e.nodeType===8?e.parentNode:e),hi(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var x=a;a=function(){var m=Ma(E);x.call(m)}}var E=Uc(e,0,!1,null,null,!1,!1,"",v0);return e._reactRootContainer=E,e[lr]=E.current,Zo(e.nodeType===8?e.parentNode:e),hi(function(){Ga(t,E,i,a)}),E}function Qa(e,t,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var x=c;c=function(){var E=Ma(g);x.call(E)}}Ga(t,g,e,c)}else g=Gp(i,t,e,c,a);return Ma(g)}Hf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Oo(t.pendingLanes);i!==0&&(ac(t,i|1),$t(t,lt()),!(Ne&6)&&(to=lt()+500,Gr()))}break;case 13:hi(function(){var a=ur(e,1);if(a!==null){var c=zt();Bn(a,e,1,c)}}),zc(e,1)}};lc=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var i=zt();Bn(t,e,134217728,i)}zc(e,134217728)}};Vf=function(e){if(e.tag===13){var t=kr(e),i=ur(e,t);if(i!==null){var a=zt();Bn(i,e,t,a)}zc(e,t)}};Wf=function(){return Le};Gf=function(e,t){var i=Le;try{return Le=e,t()}finally{Le=i}};uu=function(e,t,i){switch(t){case"input":if(nu(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=Fa(a);if(!c)throw Error(Z(90));Af(a),nu(a,c)}}}break;case"textarea":Sf(e,i);break;case"select":t=i.value,t!=null&&Vi(e,!!i.multiple,t,!1)}};Df=Bc;Rf=hi;var Yp={usingClientEntryPoint:!1,Events:[cs,Bi,Fa,Mf,Of,Bc]},No={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xp={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bf(e),e===null?null:e.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{La=Vs.inject(Xp),Kn=Vs}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yp;un.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(t))throw Error(Z(200));return Vp(e,t,null,i)};un.createRoot=function(e,t){if(!Hc(e))throw Error(Z(299));var i=!1,a="",c=hh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Uc(e,1,!1,null,null,i,!1,a,c),e[lr]=t.current,Zo(e.nodeType===8?e.parentNode:e),new jc(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Bf(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return hi(e)};un.hydrate=function(e,t,i){if(!Xa(t))throw Error(Z(200));return Qa(null,e,t,!0,i)};un.hydrateRoot=function(e,t,i){if(!Hc(e))throw Error(Z(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=hh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=dh(t,null,e,1,i??null,c,!1,f,g),e[lr]=t.current,Zo(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new Ya(t)};un.render=function(e,t,i){if(!Xa(t))throw Error(Z(200));return Qa(null,e,t,!1,i)};un.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(Z(40));return e._reactRootContainer?(hi(function(){Qa(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};un.unstable_batchedUpdates=Bc;un.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Xa(i))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Qa(e,t,i,!1,a)};un.version="18.3.1-next-f1338f8080-20240426";function gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gh)}catch(e){console.error(e)}}gh(),gf.exports=un;var Qp=gf.exports,S0=Qp;Zl.createRoot=S0.createRoot,Zl.hydrateRoot=S0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},is.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const I0="popstate";function Zp(e){e===void 0&&(e={});function t(a,c){let{pathname:f,search:g,hash:x}=a.location;return Hu("",{pathname:f,search:g,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(a,c){return typeof c=="string"?c:Oa(c)}return qp(t,i,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ph(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kp(){return Math.random().toString(36).substr(2,8)}function T0(e,t){return{usr:e.state,key:e.key,idx:t}}function Hu(e,t,i,a){return i===void 0&&(i=null),is({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oo(t):t,{state:i,key:t&&t.key||a||Kp()})}function Oa(e){let{pathname:t="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function oo(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function qp(e,t,i,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:f=!1}=a,g=c.history,x=Mr.Pop,E=null,m=S();m==null&&(m=0,g.replaceState(is({},g.state,{idx:m}),""));function S(){return(g.state||{idx:null}).idx}function v(){x=Mr.Pop;let Y=S(),O=Y==null?null:Y-m;m=Y,E&&E({action:x,location:P.location,delta:O})}function D(Y,O){x=Mr.Push;let N=Hu(P.location,Y,O);i&&i(N,Y),m=S()+1;let _=T0(N,m),j=P.createHref(N);try{g.pushState(_,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(j)}f&&E&&E({action:x,location:P.location,delta:1})}function b(Y,O){x=Mr.Replace;let N=Hu(P.location,Y,O);i&&i(N,Y),m=S();let _=T0(N,m),j=P.createHref(N);g.replaceState(_,"",j),f&&E&&E({action:x,location:P.location,delta:0})}function V(Y){let O=c.location.origin!=="null"?c.location.origin:c.location.href,N=typeof Y=="string"?Y:Oa(Y);return N=N.replace(/ $/,"%20"),ft(O,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,O)}let P={get action(){return x},get location(){return e(c,g)},listen(Y){if(E)throw new Error("A history only accepts one active listener");return c.addEventListener(I0,v),E=Y,()=>{c.removeEventListener(I0,v),E=null}},createHref(Y){return t(c,Y)},createURL:V,encodeLocation(Y){let O=V(Y);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:D,replace:b,go(Y){return g.go(Y)}};return P}var N0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(N0||(N0={}));function Jp(e,t,i){return i===void 0&&(i="/"),$p(e,t,i,!1)}function $p(e,t,i,a){let c=typeof t=="string"?oo(t):t,f=Vc(c.pathname||"/",i);if(f==null)return null;let g=mh(e);em(g);let x=null;for(let E=0;x==null&&E<g.length;++E){let m=fm(f);x=um(g[E],m,a)}return x}function mh(e,t,i,a){t===void 0&&(t=[]),i===void 0&&(i=[]),a===void 0&&(a="");let c=(f,g,x)=>{let E={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};E.relativePath.startsWith("/")&&(ft(E.relativePath.startsWith(a),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(a.length));let m=Fr([a,E.relativePath]),S=i.concat(E);f.children&&f.children.length>0&&(ft(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),mh(f.children,t,S,m)),!(f.path==null&&!f.index)&&t.push({path:m,score:am(m,f.index),routesMeta:S})};return e.forEach((f,g)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))c(f,g);else for(let E of xh(f.path))c(f,g,E)}),t}function xh(e){let t=e.split("/");if(t.length===0)return[];let[i,...a]=t,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return c?[f,""]:[f];let g=xh(a.join("/")),x=[];return x.push(...g.map(E=>E===""?f:[f,E].join("/"))),c&&x.push(...g),x.map(E=>e.startsWith("/")&&E===""?"/":E)}function em(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:lm(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const tm=/^:[\w-]+$/,nm=3,rm=2,im=1,om=10,sm=-2,_0=e=>e==="*";function am(e,t){let i=e.split("/"),a=i.length;return i.some(_0)&&(a+=sm),t&&(a+=rm),i.filter(c=>!_0(c)).reduce((c,f)=>c+(tm.test(f)?nm:f===""?im:om),a)}function lm(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function um(e,t,i){i===void 0&&(i=!1);let{routesMeta:a}=e,c={},f="/",g=[];for(let x=0;x<a.length;++x){let E=a[x],m=x===a.length-1,S=f==="/"?t:t.slice(f.length)||"/",v=M0({path:E.relativePath,caseSensitive:E.caseSensitive,end:m},S),D=E.route;if(!v&&m&&i&&!a[a.length-1].route.index&&(v=M0({path:E.relativePath,caseSensitive:E.caseSensitive,end:!1},S)),!v)return null;Object.assign(c,v.params),g.push({params:c,pathname:Fr([f,v.pathname]),pathnameBase:pm(Fr([f,v.pathnameBase])),route:D}),v.pathnameBase!=="/"&&(f=Fr([f,v.pathnameBase]))}return g}function M0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=cm(e.path,e.caseSensitive,e.end),c=t.match(i);if(!c)return null;let f=c[0],g=f.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:a.reduce((m,S,v)=>{let{paramName:D,isOptional:b}=S;if(D==="*"){let P=x[v]||"";g=f.slice(0,f.length-P.length).replace(/(.)\/+$/,"$1")}const V=x[v];return b&&!V?m[D]=void 0:m[D]=(V||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:g,pattern:e}}function cm(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),ph(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,x,E)=>(a.push({paramName:x,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function fm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ph(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}function dm(e,t){t===void 0&&(t="/");let{pathname:i,search:a="",hash:c=""}=typeof e=="string"?oo(e):e;return{pathname:i?i.startsWith("/")?i:hm(i,t):t,search:mm(a),hash:xm(c)}}function hm(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Gl(e,t,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gm(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function wh(e,t){let i=gm(e);return t?i.map((a,c)=>c===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function Eh(e,t,i,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=oo(e):(c=is({},e),ft(!c.pathname||!c.pathname.includes("?"),Gl("?","pathname","search",c)),ft(!c.pathname||!c.pathname.includes("#"),Gl("#","pathname","hash",c)),ft(!c.search||!c.search.includes("#"),Gl("#","search","hash",c)));let f=e===""||c.pathname==="",g=f?"/":c.pathname,x;if(g==null)x=i;else{let v=t.length-1;if(!a&&g.startsWith("..")){let D=g.split("/");for(;D[0]==="..";)D.shift(),v-=1;c.pathname=D.join("/")}x=v>=0?t[v]:"/"}let E=dm(c,x),m=g&&g!=="/"&&g.endsWith("/"),S=(f||g===".")&&i.endsWith("/");return!E.pathname.endsWith("/")&&(m||S)&&(E.pathname+="/"),E}const Fr=e=>e.join("/").replace(/\/\/+/g,"/"),pm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yh=["post","put","patch","delete"];new Set(yh);const Em=["get",...yh];new Set(Em);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},os.apply(this,arguments)}const Wc=ee.createContext(null),ym=ee.createContext(null),mi=ee.createContext(null),Za=ee.createContext(null),xi=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Ch=ee.createContext(null);function Cm(e,t){let{relative:i}=t===void 0?{}:t;ds()||ft(!1);let{basename:a,navigator:c}=ee.useContext(mi),{hash:f,pathname:g,search:x}=Sh(e,{relative:i}),E=g;return a!=="/"&&(E=g==="/"?a:Fr([a,g])),c.createHref({pathname:E,search:x,hash:f})}function ds(){return ee.useContext(Za)!=null}function Ka(){return ds()||ft(!1),ee.useContext(Za).location}function Ah(e){ee.useContext(mi).static||ee.useLayoutEffect(e)}function vh(){let{isDataRoute:e}=ee.useContext(xi);return e?Lm():Am()}function Am(){ds()||ft(!1);let e=ee.useContext(Wc),{basename:t,future:i,navigator:a}=ee.useContext(mi),{matches:c}=ee.useContext(xi),{pathname:f}=Ka(),g=JSON.stringify(wh(c,i.v7_relativeSplatPath)),x=ee.useRef(!1);return Ah(()=>{x.current=!0}),ee.useCallback(function(m,S){if(S===void 0&&(S={}),!x.current)return;if(typeof m=="number"){a.go(m);return}let v=Eh(m,JSON.parse(g),f,S.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Fr([t,v.pathname])),(S.replace?a.replace:a.push)(v,S.state,S)},[t,a,g,f,e])}function Sh(e,t){let{relative:i}=t===void 0?{}:t,{future:a}=ee.useContext(mi),{matches:c}=ee.useContext(xi),{pathname:f}=Ka(),g=JSON.stringify(wh(c,a.v7_relativeSplatPath));return ee.useMemo(()=>Eh(e,JSON.parse(g),f,i==="path"),[e,g,f,i])}function vm(e,t){return Sm(e,t)}function Sm(e,t,i,a){ds()||ft(!1);let{navigator:c}=ee.useContext(mi),{matches:f}=ee.useContext(xi),g=f[f.length-1],x=g?g.params:{};g&&g.pathname;let E=g?g.pathnameBase:"/";g&&g.route;let m=Ka(),S;if(t){var v;let Y=typeof t=="string"?oo(t):t;E==="/"||(v=Y.pathname)!=null&&v.startsWith(E)||ft(!1),S=Y}else S=m;let D=S.pathname||"/",b=D;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");b="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let V=Jp(e,{pathname:b}),P=Mm(V&&V.map(Y=>Object.assign({},Y,{params:Object.assign({},x,Y.params),pathname:Fr([E,c.encodeLocation?c.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:Fr([E,c.encodeLocation?c.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),f,i,a);return t&&P?ee.createElement(Za.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Mr.Pop}},P):P}function Im(){let e=bm(),t=wm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},f=null;return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},t),i?ee.createElement("pre",{style:c},i):null,f)}const Tm=ee.createElement(Im,null);class Nm extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?ee.createElement(xi.Provider,{value:this.props.routeContext},ee.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _m(e){let{routeContext:t,match:i,children:a}=e,c=ee.useContext(Wc);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),ee.createElement(xi.Provider,{value:t},a)}function Mm(e,t,i,a){var c;if(t===void 0&&(t=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var f;if(!i)return null;if(i.errors)e=i.matches;else if((f=a)!=null&&f.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let g=e,x=(c=i)==null?void 0:c.errors;if(x!=null){let S=g.findIndex(v=>v.route.id&&(x==null?void 0:x[v.route.id])!==void 0);S>=0||ft(!1),g=g.slice(0,Math.min(g.length,S+1))}let E=!1,m=-1;if(i&&a&&a.v7_partialHydration)for(let S=0;S<g.length;S++){let v=g[S];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=S),v.route.id){let{loaderData:D,errors:b}=i,V=v.route.loader&&D[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||V){E=!0,m>=0?g=g.slice(0,m+1):g=[g[0]];break}}}return g.reduceRight((S,v,D)=>{let b,V=!1,P=null,Y=null;i&&(b=x&&v.route.id?x[v.route.id]:void 0,P=v.route.errorElement||Tm,E&&(m<0&&D===0?(Bm("route-fallback",!1),V=!0,Y=null):m===D&&(V=!0,Y=v.route.hydrateFallbackElement||null)));let O=t.concat(g.slice(0,D+1)),N=()=>{let _;return b?_=P:V?_=Y:v.route.Component?_=ee.createElement(v.route.Component,null):v.route.element?_=v.route.element:_=S,ee.createElement(_m,{match:v,routeContext:{outlet:S,matches:O,isDataRoute:i!=null},children:_})};return i&&(v.route.ErrorBoundary||v.route.errorElement||D===0)?ee.createElement(Nm,{location:i.location,revalidation:i.revalidation,component:P,error:b,children:N(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):N()},null)}var Ih=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ih||{}),Da=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Da||{});function Om(e){let t=ee.useContext(Wc);return t||ft(!1),t}function Dm(e){let t=ee.useContext(ym);return t||ft(!1),t}function Rm(e){let t=ee.useContext(xi);return t||ft(!1),t}function Th(e){let t=Rm(),i=t.matches[t.matches.length-1];return i.route.id||ft(!1),i.route.id}function bm(){var e;let t=ee.useContext(Ch),i=Dm(Da.UseRouteError),a=Th(Da.UseRouteError);return t!==void 0?t:(e=i.errors)==null?void 0:e[a]}function Lm(){let{router:e}=Om(Ih.UseNavigateStable),t=Th(Da.UseNavigateStable),i=ee.useRef(!1);return Ah(()=>{i.current=!0}),ee.useCallback(function(c,f){f===void 0&&(f={}),i.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,os({fromRouteId:t},f)))},[e,t])}const O0={};function Bm(e,t,i){!t&&!O0[e]&&(O0[e]=!0)}const D0={};function km(e,t){D0[t]||(D0[t]=!0,console.warn(t))}const Mi=(e,t,i)=>km(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+i+"."));function Pm(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&Mi("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||!t.v7_relativeSplatPath)&&Mi("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist===void 0&&Mi("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod===void 0&&Mi("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration===void 0&&Mi("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation===void 0&&Mi("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function ri(e){ft(!1)}function Fm(e){let{basename:t="/",children:i=null,location:a,navigationType:c=Mr.Pop,navigator:f,static:g=!1,future:x}=e;ds()&&ft(!1);let E=t.replace(/^\/*/,"/"),m=ee.useMemo(()=>({basename:E,navigator:f,static:g,future:os({v7_relativeSplatPath:!1},x)}),[E,x,f,g]);typeof a=="string"&&(a=oo(a));let{pathname:S="/",search:v="",hash:D="",state:b=null,key:V="default"}=a,P=ee.useMemo(()=>{let Y=Vc(S,E);return Y==null?null:{location:{pathname:Y,search:v,hash:D,state:b,key:V},navigationType:c}},[E,S,v,D,b,V,c]);return P==null?null:ee.createElement(mi.Provider,{value:m},ee.createElement(Za.Provider,{children:i,value:P}))}function Um(e){let{children:t,location:i}=e;return vm(Vu(t),i)}new Promise(()=>{});function Vu(e,t){t===void 0&&(t=[]);let i=[];return ee.Children.forEach(e,(a,c)=>{if(!ee.isValidElement(a))return;let f=[...t,c];if(a.type===ee.Fragment){i.push.apply(i,Vu(a.props.children,f));return}a.type!==ri&&ft(!1),!a.props.index||!a.props.children||ft(!1);let g={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=Vu(a.props.children,f)),i.push(g)}),i}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Wu.apply(this,arguments)}function zm(e,t){if(e==null)return{};var i={},a=Object.keys(e),c,f;for(f=0;f<a.length;f++)c=a[f],!(t.indexOf(c)>=0)&&(i[c]=e[c]);return i}function jm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hm(e,t){return e.button===0&&(!t||t==="_self")&&!jm(e)}const Vm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wm="6";try{window.__reactRouterVersion=Wm}catch{}const Gm="startTransition",R0=Vg[Gm];function Ym(e){let{basename:t,children:i,future:a,window:c}=e,f=ee.useRef();f.current==null&&(f.current=Zp({window:c,v5Compat:!0}));let g=f.current,[x,E]=ee.useState({action:g.action,location:g.location}),{v7_startTransition:m}=a||{},S=ee.useCallback(v=>{m&&R0?R0(()=>E(v)):E(v)},[E,m]);return ee.useLayoutEffect(()=>g.listen(S),[g,S]),ee.useEffect(()=>Pm(a),[a]),ee.createElement(Fm,{basename:t,children:i,location:x.location,navigationType:x.action,navigator:g,future:a})}const Xm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=ee.forwardRef(function(t,i){let{onClick:a,relative:c,reloadDocument:f,replace:g,state:x,target:E,to:m,preventScrollReset:S,viewTransition:v}=t,D=zm(t,Vm),{basename:b}=ee.useContext(mi),V,P=!1;if(typeof m=="string"&&Qm.test(m)&&(V=m,Xm))try{let _=new URL(window.location.href),j=m.startsWith("//")?new URL(_.protocol+m):new URL(m),$=Vc(j.pathname,b);j.origin===_.origin&&$!=null?m=$+j.search+j.hash:P=!0}catch{}let Y=Cm(m,{relative:c}),O=Zm(m,{replace:g,state:x,target:E,preventScrollReset:S,relative:c,viewTransition:v});function N(_){a&&a(_),_.defaultPrevented||O(_)}return ee.createElement("a",Wu({},D,{href:V||Y,onClick:P||f?a:N,ref:i,target:E}))});var b0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(b0||(b0={}));var L0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L0||(L0={}));function Zm(e,t){let{target:i,replace:a,state:c,preventScrollReset:f,relative:g,viewTransition:x}=t===void 0?{}:t,E=vh(),m=Ka(),S=Sh(e,{relative:g});return ee.useCallback(v=>{if(Hm(v,i)){v.preventDefault();let D=a!==void 0?a:Oa(m)===Oa(S);E(e,{replace:D,state:c,preventScrollReset:f,relative:g,viewTransition:x})}},[m,E,S,a,c,i,e,f,g,x])}var qa={},Nh={exports:{}},Km="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qm=Km,Jm=qm;function _h(){}function Mh(){}Mh.resetWarningCache=_h;var $m=function(){function e(a,c,f,g,x,E){if(E!==Jm){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mh,resetWarningCache:_h};return i.PropTypes=i,i};Nh.exports=$m();var Oh=Nh.exports,Dh={L:1,M:0,Q:3,H:2},Rh={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ex=Rh;function bh(e){this.mode=ex.MODE_8BIT_BYTE,this.data=e}bh.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var tx=bh,Gs=Dh;function Qn(e,t){this.totalCount=e,this.dataCount=t}Qn.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Qn.getRSBlocks=function(e,t){var i=Qn.getRsBlockTable(e,t);if(i==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=i.length/3,c=new Array,f=0;f<a;f++)for(var g=i[f*3+0],x=i[f*3+1],E=i[f*3+2],m=0;m<g;m++)c.push(new Qn(x,E));return c};Qn.getRsBlockTable=function(e,t){switch(t){case Gs.L:return Qn.RS_BLOCK_TABLE[(e-1)*4+0];case Gs.M:return Qn.RS_BLOCK_TABLE[(e-1)*4+1];case Gs.Q:return Qn.RS_BLOCK_TABLE[(e-1)*4+2];case Gs.H:return Qn.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var nx=Qn;function Lh(){this.buffer=new Array,this.length=0}Lh.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i++)this.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var rx=Lh,bn={glog:function(e){if(e<1)throw new Error("glog("+e+")");return bn.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return bn.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var _t=0;_t<8;_t++)bn.EXP_TABLE[_t]=1<<_t;for(var _t=8;_t<256;_t++)bn.EXP_TABLE[_t]=bn.EXP_TABLE[_t-4]^bn.EXP_TABLE[_t-5]^bn.EXP_TABLE[_t-6]^bn.EXP_TABLE[_t-8];for(var _t=0;_t<255;_t++)bn.LOG_TABLE[bn.EXP_TABLE[_t]]=_t;var Bh=bn,ei=Bh;function oa(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&e[i]==0;)i++;this.num=new Array(e.length-i+t);for(var a=0;a<e.length-i;a++)this.num[a]=e[a+i]}oa.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<e.getLength();a++)t[i+a]^=ei.gexp(ei.glog(this.get(i))+ei.glog(e.get(a)));return new oa(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ei.glog(this.get(0))-ei.glog(e.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<e.getLength();a++)i[a]^=ei.gexp(ei.glog(e.get(a))+t);return new oa(i,0).mod(e)}};var kh=oa,xn=Rh,B0=kh,ix=Bh,Cr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Tt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Tt.getBCHDigit(t)-Tt.getBCHDigit(Tt.G15)>=0;)t^=Tt.G15<<Tt.getBCHDigit(t)-Tt.getBCHDigit(Tt.G15);return(e<<10|t)^Tt.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Tt.getBCHDigit(t)-Tt.getBCHDigit(Tt.G18)>=0;)t^=Tt.G18<<Tt.getBCHDigit(t)-Tt.getBCHDigit(Tt.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Tt.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case Cr.PATTERN000:return(t+i)%2==0;case Cr.PATTERN001:return t%2==0;case Cr.PATTERN010:return i%3==0;case Cr.PATTERN011:return(t+i)%3==0;case Cr.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case Cr.PATTERN101:return t*i%2+t*i%3==0;case Cr.PATTERN110:return(t*i%2+t*i%3)%2==0;case Cr.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new B0([1],0),i=0;i<e;i++)t=t.multiply(new B0([1,ix.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case xn.MODE_NUMBER:return 10;case xn.MODE_ALPHA_NUM:return 9;case xn.MODE_8BIT_BYTE:return 8;case xn.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case xn.MODE_NUMBER:return 12;case xn.MODE_ALPHA_NUM:return 11;case xn.MODE_8BIT_BYTE:return 16;case xn.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case xn.MODE_NUMBER:return 14;case xn.MODE_ALPHA_NUM:return 13;case xn.MODE_8BIT_BYTE:return 16;case xn.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,a=0;a<t;a++)for(var c=0;c<t;c++){for(var f=0,g=e.isDark(a,c),x=-1;x<=1;x++)if(!(a+x<0||t<=a+x))for(var E=-1;E<=1;E++)c+E<0||t<=c+E||x==0&&E==0||g==e.isDark(a+x,c+E)&&f++;f>5&&(i+=3+f-5)}for(var a=0;a<t-1;a++)for(var c=0;c<t-1;c++){var m=0;e.isDark(a,c)&&m++,e.isDark(a+1,c)&&m++,e.isDark(a,c+1)&&m++,e.isDark(a+1,c+1)&&m++,(m==0||m==4)&&(i+=3)}for(var a=0;a<t;a++)for(var c=0;c<t-6;c++)e.isDark(a,c)&&!e.isDark(a,c+1)&&e.isDark(a,c+2)&&e.isDark(a,c+3)&&e.isDark(a,c+4)&&!e.isDark(a,c+5)&&e.isDark(a,c+6)&&(i+=40);for(var c=0;c<t;c++)for(var a=0;a<t-6;a++)e.isDark(a,c)&&!e.isDark(a+1,c)&&e.isDark(a+2,c)&&e.isDark(a+3,c)&&e.isDark(a+4,c)&&!e.isDark(a+5,c)&&e.isDark(a+6,c)&&(i+=40);for(var S=0,c=0;c<t;c++)for(var a=0;a<t;a++)e.isDark(a,c)&&S++;var v=Math.abs(100*S/t/t-50)/5;return i+=v*10,i}},ox=Tt,sx=tx,Ph=nx,Fh=rx,Yr=ox,ax=kh;function Zn(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var fn=Zn.prototype;fn.addData=function(e){var t=new sx(e);this.dataList.push(t),this.dataCache=null};fn.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};fn.getModuleCount=function(){return this.moduleCount};fn.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=Ph.getRSBlocks(e,this.errorCorrectLevel),i=new Fh,a=0,c=0;c<t.length;c++)a+=t[c].dataCount;for(var c=0;c<this.dataList.length;c++){var f=this.dataList[c];i.put(f.mode,4),i.put(f.getLength(),Yr.getLengthInBits(f.mode,e)),f.write(i)}if(i.getLengthInBits()<=a*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};fn.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[i][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Zn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};fn.setupPositionProbePattern=function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(0<=i&&i<=6&&(a==0||a==6)||0<=a&&a<=6&&(i==0||i==6)||2<=i&&i<=4&&2<=a&&a<=4?this.modules[e+i][t+a]=!0:this.modules[e+i][t+a]=!1)};fn.getBestMaskPattern=function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var a=Yr.getLostPoint(this);(i==0||e>a)&&(e=a,t=i)}return t};fn.createMovieClip=function(e,t,i){var a=e.createEmptyMovieClip(t,i),c=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*c,x=0;x<this.modules[f].length;x++){var E=x*c,m=this.modules[f][x];m&&(a.beginFill(0,100),a.moveTo(E,g),a.lineTo(E+c,g),a.lineTo(E+c,g+c),a.lineTo(E,g+c),a.endFill())}return a};fn.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};fn.setupPositionAdjustPattern=function(){for(var e=Yr.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var a=e[t],c=e[i];if(this.modules[a][c]==null)for(var f=-2;f<=2;f++)for(var g=-2;g<=2;g++)f==-2||f==2||g==-2||g==2||f==0&&g==0?this.modules[a+f][c+g]=!0:this.modules[a+f][c+g]=!1}};fn.setupTypeNumber=function(e){for(var t=Yr.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var a=!e&&(t>>i&1)==1;this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a}for(var i=0;i<18;i++){var a=!e&&(t>>i&1)==1;this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a}};fn.setupTypeInfo=function(e,t){for(var i=this.errorCorrectLevel<<3|t,a=Yr.getBCHTypeInfo(i),c=0;c<15;c++){var f=!e&&(a>>c&1)==1;c<6?this.modules[c][8]=f:c<8?this.modules[c+1][8]=f:this.modules[this.moduleCount-15+c][8]=f}for(var c=0;c<15;c++){var f=!e&&(a>>c&1)==1;c<8?this.modules[8][this.moduleCount-c-1]=f:c<9?this.modules[8][15-c-1+1]=f:this.modules[8][15-c-1]=f}this.modules[this.moduleCount-8][8]=!e};fn.mapData=function(e,t){for(var i=-1,a=this.moduleCount-1,c=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var x=0;x<2;x++)if(this.modules[a][g-x]==null){var E=!1;f<e.length&&(E=(e[f]>>>c&1)==1);var m=Yr.getMask(t,a,g-x);m&&(E=!E),this.modules[a][g-x]=E,c--,c==-1&&(f++,c=7)}if(a+=i,a<0||this.moduleCount<=a){a-=i,i=-i;break}}};Zn.PAD0=236;Zn.PAD1=17;Zn.createData=function(e,t,i){for(var a=Ph.getRSBlocks(e,t),c=new Fh,f=0;f<i.length;f++){var g=i[f];c.put(g.mode,4),c.put(g.getLength(),Yr.getLengthInBits(g.mode,e)),g.write(c)}for(var x=0,f=0;f<a.length;f++)x+=a[f].dataCount;if(c.getLengthInBits()>x*8)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+x*8+")");for(c.getLengthInBits()+4<=x*8&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=x*8||(c.put(Zn.PAD0,8),c.getLengthInBits()>=x*8));)c.put(Zn.PAD1,8);return Zn.createBytes(c,a)};Zn.createBytes=function(e,t){for(var i=0,a=0,c=0,f=new Array(t.length),g=new Array(t.length),x=0;x<t.length;x++){var E=t[x].dataCount,m=t[x].totalCount-E;a=Math.max(a,E),c=Math.max(c,m),f[x]=new Array(E);for(var S=0;S<f[x].length;S++)f[x][S]=255&e.buffer[S+i];i+=E;var v=Yr.getErrorCorrectPolynomial(m),D=new ax(f[x],v.getLength()-1),b=D.mod(v);g[x]=new Array(v.getLength()-1);for(var S=0;S<g[x].length;S++){var V=S+b.getLength()-g[x].length;g[x][S]=V>=0?b.get(V):0}}for(var P=0,S=0;S<t.length;S++)P+=t[S].totalCount;for(var Y=new Array(P),O=0,S=0;S<a;S++)for(var x=0;x<t.length;x++)S<f[x].length&&(Y[O++]=f[x][S]);for(var S=0;S<c;S++)for(var x=0;x<t.length;x++)S<g[x].length&&(Y[O++]=g[x][S]);return Y};var lx=Zn,Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});var ux=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},cx=Oh,wn=zh(cx),Uh=ee,Ys=zh(Uh);function zh(e){return e&&e.__esModule?e:{default:e}}function fx(e,t){var i={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i}var dx={bgColor:wn.default.oneOfType([wn.default.object,wn.default.string]).isRequired,bgD:wn.default.string.isRequired,fgColor:wn.default.oneOfType([wn.default.object,wn.default.string]).isRequired,fgD:wn.default.string.isRequired,size:wn.default.number.isRequired,title:wn.default.string,viewBoxSize:wn.default.number.isRequired,xmlns:wn.default.string},Yc=(0,Uh.forwardRef)(function(e,t){var i=e.bgColor,a=e.bgD,c=e.fgD,f=e.fgColor,g=e.size,x=e.title,E=e.viewBoxSize,m=e.xmlns,S=m===void 0?"http://www.w3.org/2000/svg":m,v=fx(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ys.default.createElement("svg",ux({},v,{height:g,ref:t,viewBox:"0 0 "+E+" "+E,width:g,xmlns:S}),x?Ys.default.createElement("title",null,x):null,Ys.default.createElement("path",{d:a,fill:i}),Ys.default.createElement("path",{d:c,fill:f}))});Yc.displayName="QRCodeSvg";Yc.propTypes=dx;Gc.default=Yc;Object.defineProperty(qa,"__esModule",{value:!0});qa.QRCode=void 0;var hx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},gx=Oh,er=hs(gx),px=Dh,mx=hs(px),xx=lx,wx=hs(xx),jh=ee,Ex=hs(jh),yx=Gc,Cx=hs(yx);function hs(e){return e&&e.__esModule?e:{default:e}}function Ax(e,t){var i={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i}var vx={bgColor:er.default.oneOfType([er.default.object,er.default.string]),fgColor:er.default.oneOfType([er.default.object,er.default.string]),level:er.default.string,size:er.default.number,value:er.default.string.isRequired},Ja=(0,jh.forwardRef)(function(e,t){var i=e.bgColor,a=i===void 0?"#FFFFFF":i,c=e.fgColor,f=c===void 0?"#000000":c,g=e.level,x=g===void 0?"L":g,E=e.size,m=E===void 0?256:E,S=e.value,v=Ax(e,["bgColor","fgColor","level","size","value"]),D=new wx.default(-1,mx.default[x]);D.addData(S),D.make();var b=D.modules;return Ex.default.createElement(Cx.default,hx({},v,{bgColor:a,bgD:b.map(function(V,P){return V.map(function(Y,O){return Y?"":"M "+O+" "+P+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:f,fgD:b.map(function(V,P){return V.map(function(Y,O){return Y?"M "+O+" "+P+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:m,viewBoxSize:b.length}))});qa.QRCode=Ja;Ja.displayName="QRCode";Ja.propTypes=vx;var Sx=qa.default=Ja,ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var k0=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),P0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(P0||(P0={}));function Ix(e){return Object.values(ie).includes(e)}var Hr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Hr||(Hr={}));var Dn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Hr.SCAN_TYPE_CAMERA,Hr.SCAN_TYPE_FILE],e}(),Hh=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!k0.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,k0.get(t))},e}(),F0=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Gu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gu||(Gu={}));var Vh=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Gu.UNKWOWN_ERROR}},e}(),Wh=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Yn(e){return typeof e>"u"||e===null}function Tx(e,t,i){return e>i?i:e<t?t:e}var Hi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),be=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),U0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Gh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var a=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),g=Object.keys(t),x=0,E=g;x<E.length;x++){var m=E[x];if(f.has(m))return i.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Yu={exports:{}};(function(e,t){(function(i,a){a(t)})(Eo,function(i){function a(y){return y==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,n){y.__proto__=n}||function(y,n){for(var r in n)n.hasOwnProperty(r)&&(y[r]=n[r])};function f(y,n){c(y,n);function r(){this.constructor=y}y.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(y,n){var r=Object.setPrototypeOf;r?r(y,n):y.__proto__=n}function x(y,n){n===void 0&&(n=y.constructor);var r=Error.captureStackTrace;r&&r(y,n)}var E=function(y){f(n,y);function n(r){var o=this.constructor,s=y.call(this,r)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1}),g(s,o.prototype),x(s),s}return n}(Error);class m extends E{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}m.kind="Exception";class S extends m{}S.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class D{constructor(n){if(this.binarizer=n,n===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,o,s){const l=this.binarizer.getLuminanceSource().crop(n,r,o,s);return new D(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends m{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class V{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(n,r,o,s,l){for(;l--;)o[s++]=n[r++]}static currentTimeMillis(){return Date.now()}}class Y extends m{}Y.kind="IndexOutOfBoundsException";class O extends Y{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}O.kind="ArrayIndexOutOfBoundsException";class N{static fill(n,r){for(let o=0,s=n.length;o<s;o++)n[o]=r}static fillWithin(n,r,o,s){N.rangeCheck(n.length,r,o);for(let l=r;l<o;l++)n[l]=s}static rangeCheck(n,r,o){if(r>o)throw new v("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new O(r);if(o>n)throw new O(o)}static asList(...n){return n}static create(n,r,o){return Array.from({length:n}).map(l=>Array.from({length:r}).fill(o))}static createInt32Array(n,r,o){return Array.from({length:n}).map(l=>Int32Array.from({length:r}).fill(o))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let o=0,s=n.length;o<s;o++)if(n[o]!==r[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const o of n)r=31*r+o;return r}static fillUint8Array(n,r){for(let o=0;o!==n.length;o++)n[o]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const o=new Uint8Array(r);return o.set(n),o}return n.slice(0,r)}static copyOfRange(n,r,o){const s=o-r,l=new Int32Array(s);return P.arraycopy(n,r,l,0,s),l}static binarySearch(n,r,o){o===void 0&&(o=N.numberComparator);let s=0,l=n.length-1;for(;s<=l;){const u=l+s>>1,d=o(r,n[u]);if(d>0)s=u+1;else if(d<0)l=u-1;else return u}return-s-1}static numberComparator(n,r){return n-r}}class _{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let o=31;return r=n<<16,r!==0&&(o-=16,n=r),r=n<<8,r!==0&&(o-=8,n=r),r=n<<4,r!==0&&(o-=4,n=r),r=n<<2,r!==0&&(o-=2,n=r),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=j.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=j.makeArray(n);P.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const o=this.bits;let s=Math.floor(n/32),l=o[s];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++s===u)return r;l=o[s]}const d=s*32+_.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(n){const r=this.size;if(n>=r)return r;const o=this.bits;let s=Math.floor(n/32),l=~o[s];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++s===u)return r;l=~o[s]}const d=s*32+_.numberOfTrailingZeros(l);return d>r?r:d}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new v;if(r===n)return;r--;const o=Math.floor(n/32),s=Math.floor(r/32),l=this.bits;for(let u=o;u<=s;u++){const d=u>o?0:n&31,p=(2<<(u<s?31:r&31))-(1<<d);l[u]|=p}}clear(){const n=this.bits.length,r=this.bits;for(let o=0;o<n;o++)r[o]=0}isRange(n,r,o){if(r<n||n<0||r>this.size)throw new v;if(r===n)return!0;r--;const s=Math.floor(n/32),l=Math.floor(r/32),u=this.bits;for(let d=s;d<=l;d++){const h=d>s?0:n&31,w=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((u[d]&w)!==(o?w:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new v("Sizes don't match");const r=this.bits;for(let o=0,s=r.length;o<s;o++)r[o]^=n.bits[o]}toBytes(n,r,o,s){for(let l=0;l<s;l++){let u=0;for(let d=0;d<8;d++)this.get(n)&&(u|=1<<7-d),n++;r[o+l]=u}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,s=this.bits;for(let l=0;l<o;l++){let u=s[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[r-l]=u}if(this.size!==o*32){const l=o*32-this.size;let u=n[0]>>>l;for(let d=1;d<o;d++){const h=n[d];u|=h<<32-l,n[d-1]=u,u=h>>>l}n[o-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof j))return!1;const r=n;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let n="";for(let r=0,o=this.size;r<o;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new j(this.size,this.bits.slice())}}var $;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var J=$;class z extends m{static getFormatInstance(){return new z}}z.kind="FormatException";var G;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(G||(G={}));class H{constructor(n,r,o,...s){this.valueIdentifier=n,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,H.VALUE_IDENTIFIER_TO_ECI.set(n,this),H.NAME_TO_ECI.set(o,this);const l=this.values;for(let u=0,d=l.length;u!==d;u++){const h=l[u];H.VALUES_TO_ECI.set(h,this)}for(const u of s)H.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new z("incorect value");const r=H.VALUES_TO_ECI.get(n);if(r===void 0)throw new z("incorect value");return r}static getCharacterSetECIByName(n){const r=H.NAME_TO_ECI.get(n);if(r===void 0)throw new z("incorect value");return r}equals(n){if(!(n instanceof H))return!1;const r=n;return this.getName()===r.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(G.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(G.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(G.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(G.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(G.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(G.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(G.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(G.Big5,28,"Big5"),H.GB18030=new H(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(G.EUC_KR,30,"EUC_KR","EUC-KR");class le extends m{}le.kind="UnsupportedOperationException";class _e{static decode(n,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!_e.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof H?n:H.getCharacterSetECIByName(n)}static decodeFallback(n,r){const o=this.encodingCharacterSet(r);if(_e.isDecodeFallbackSupported(o)){let s="";for(let l=0,u=n.length;l<u;l++){let d=n[l].toString(16);d.length<2&&(d="0"+d),s+="%"+d}return decodeURIComponent(s)}if(o.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new le(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(H.UTF8)||n.equals(H.ISO8859_1)||n.equals(H.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),s=[];for(let l=0;l<o.length;l++)s.push(o[l].charCodeAt(0));return new Uint8Array(s)}}class fe{static castAsNonUtf8Char(n,r=null){const o=r?r.getName():this.ISO88591;return _e.decode(new Uint8Array([n]),o)}static guessEncoding(n,r){if(r!=null&&r.get(J.CHARACTER_SET)!==void 0)return r.get(J.CHARACTER_SET).toString();const o=n.length;let s=!0,l=!0,u=!0,d=0,h=0,p=0,w=0,C=0,A=0,T=0,M=0,R=0,B=0,U=0;const K=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let q=0;q<o&&(s||l||u);q++){const Q=n[q]&255;u&&(d>0?Q&128?d--:u=!1:Q&128&&(Q&64?(d++,Q&32?(d++,Q&16?(d++,Q&8?u=!1:w++):p++):h++):u=!1)),s&&(Q>127&&Q<160?s=!1:Q>159&&(Q<192||Q===215||Q===247)&&U++),l&&(C>0?Q<64||Q===127||Q>252?l=!1:C--:Q===128||Q===160||Q>239?l=!1:Q>160&&Q<224?(A++,M=0,T++,T>R&&(R=T)):Q>127?(C++,T=0,M++,M>B&&(B=M)):(T=0,M=0))}return u&&d>0&&(u=!1),l&&C>0&&(l=!1),u&&(K||h+p+w>0)?fe.UTF8:l&&(fe.ASSUME_SHIFT_JIS||R>=3||B>=3)?fe.SHIFT_JIS:s&&l?R===2&&A===2||U*10>=o?fe.SHIFT_JIS:fe.ISO88591:s?fe.ISO88591:l?fe.SHIFT_JIS:u?fe.UTF8:fe.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let o=-1;function s(u,d,h,p,w,C){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,T;switch(C){case"s":T=r[o];break;case"c":T=r[o][0];break;case"f":T=parseFloat(r[o]).toFixed(u);break;case"p":T=parseFloat(r[o]).toPrecision(u);break;case"e":T=parseFloat(r[o]).toExponential(u);break;case"x":T=parseInt(r[o]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[o],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let M=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";for(;T.length<M;)T=d!==void 0?T+R:R+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,s)}static getBytes(n,r){return _e.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}fe.SHIFT_JIS=H.SJIS.getName(),fe.GB2312="GB2312",fe.ISO88591=H.ISO8859_1.getName(),fe.EUC_JP="EUC_JP",fe.UTF8=H.UTF8.getName(),fe.PLATFORM_DEFAULT_ENCODING=fe.UTF8,fe.ASSUME_SHIFT_JIS=!1;class ve{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=fe.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,o){for(let s=r;r<r+o;s++)this.append(n[s]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class st{constructor(n,r,o,s){if(this.width=n,this.height=r,this.rowSize=o,this.bits=s,r==null&&(r=n),this.height=r,n<1||r<1)throw new v("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,o=n[0].length,s=new st(o,r);for(let l=0;l<r;l++){const u=n[l];for(let d=0;d<o;d++)u[d]&&s.set(d,l)}return s}static parseFromString(n,r,o){if(n===null)throw new v("stringRepresentation cannot be null");const s=new Array(n.length);let l=0,u=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new v("row lengths do not match");u=l,h++}p++}else if(n.substring(p,p+r.length)===r)p+=r.length,s[l]=!0,l++;else if(n.substring(p,p+o.length)===o)p+=o.length,s[l]=!1,l++;else throw new v("illegal character encountered: "+n.substring(p));if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new v("row lengths do not match");h++}const w=new st(d,h);for(let C=0;C<l;C++)s[C]&&w.set(Math.floor(C%d),Math.floor(C/d));return w}get(n,r){const o=r*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new v("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),o=this.rowSize,s=this.bits;for(let l=0,u=this.height;l<u;l++){const d=l*o,h=n.getRow(l,r).getBitArray();for(let p=0;p<o;p++)s[d+p]^=h[p]}}clear(){const n=this.bits,r=n.length;for(let o=0;o<r;o++)n[o]=0}setRegion(n,r,o,s){if(r<0||n<0)throw new v("Left and top must be nonnegative");if(s<1||o<1)throw new v("Height and width must be at least 1");const l=n+o,u=r+s;if(u>this.height||l>this.width)throw new v("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const w=p*d;for(let C=n;C<l;C++)h[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const o=this.rowSize,s=this.bits,l=n*o;for(let u=0;u<o;u++)r.setBulk(u*32,s[l+u]);return r}setRow(n,r){P.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let o=new j(n),s=new j(n);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)o=this.getRow(l,o),s=this.getRow(r-1-l,s),o.reverse(),s.reverse(),this.setRow(l,s),this.setRow(r-1-l,o)}getEnclosingRectangle(){const n=this.width,r=this.height,o=this.rowSize,s=this.bits;let l=n,u=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let w=0;w<o;w++){const C=s[p*o+w];if(C!==0){if(p<u&&(u=p),p>h&&(h=p),w*32<l){let A=0;for(;!(C<<31-A&4294967295);)A++;w*32+A<l&&(l=w*32+A)}if(w*32+31>d){let A=31;for(;!(C>>>A);)A--;w*32+A>d&&(d=w*32+A)}}}return d<l||h<u?null:Int32Array.from([l,u,d-l+1,h-u+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const s=o/n;let l=o%n*32;const u=r[o];let d=0;for(;!(u<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,s])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const s=Math.floor(o/n);let l=Math.floor(o%n)*32;const u=r[o];let d=31;for(;!(u>>>d);)d--;return l+=d,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof st))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+N.hashCode(this.bits),n}toString(n="X ",r="  ",o=`
`){return this.buildToString(n,r,o)}buildToString(n,r,o){let s=new ve;for(let l=0,u=this.height;l<u;l++){for(let d=0,h=this.width;d<h;d++)s.append(this.get(d,l)?n:r);s.append(o)}return s.toString()}clone(){return new st(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends m{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class et extends V{constructor(n){super(n),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(n,r){const o=this.getLuminanceSource(),s=o.getWidth();r==null||r.getSize()<s?r=new j(s):r.clear(),this.initArrays(s);const l=o.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<s;h++)u[(l[h]&255)>>et.LUMINANCE_SHIFT]++;const d=et.estimateBlackPoint(u);if(s<3)for(let h=0;h<s;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let w=1;w<s-1;w++){const C=l[w+1]&255;(p*4-h-C)/2<d&&r.set(w),h=p,p=C}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),s=new st(r,o);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(o*h/5),w=n.getRow(p,this.luminances),C=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<C;A++){const T=w[A]&255;l[T>>et.LUMINANCE_SHIFT]++}}const u=et.estimateBlackPoint(l),d=n.getMatrix();for(let h=0;h<o;h++){const p=h*r;for(let w=0;w<r;w++)(d[p+w]&255)<u&&s.set(w,h)}return s}createBinarizer(n){return new et(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let o=0;o<et.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(n){const r=n.length;let o=0,s=0,l=0;for(let w=0;w<r;w++)n[w]>l&&(s=w,l=n[w]),n[w]>o&&(o=n[w]);let u=0,d=0;for(let w=0;w<r;w++){const C=w-s,A=n[w]*C*C;A>d&&(u=w,d=A)}if(s>u){const w=s;s=u,u=w}if(u-s<=r/16)throw new W;let h=u-1,p=-1;for(let w=u-1;w>s;w--){const C=w-s,A=C*C*(u-w)*(o-n[w]);A>p&&(h=w,p=A)}return h<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class me extends et{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=me.MINIMUM_DIMENSION&&o>=me.MINIMUM_DIMENSION){const s=n.getMatrix();let l=r>>me.BLOCK_SIZE_POWER;r&me.BLOCK_SIZE_MASK&&l++;let u=o>>me.BLOCK_SIZE_POWER;o&me.BLOCK_SIZE_MASK&&u++;const d=me.calculateBlackPoints(s,l,u,r,o),h=new st(r,o);me.calculateThresholdForBlock(s,l,u,r,o,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new me(n)}static calculateThresholdForBlock(n,r,o,s,l,u,d){const h=l-me.BLOCK_SIZE,p=s-me.BLOCK_SIZE;for(let w=0;w<o;w++){let C=w<<me.BLOCK_SIZE_POWER;C>h&&(C=h);const A=me.cap(w,2,o-3);for(let T=0;T<r;T++){let M=T<<me.BLOCK_SIZE_POWER;M>p&&(M=p);const R=me.cap(T,2,r-3);let B=0;for(let K=-2;K<=2;K++){const q=u[A+K];B+=q[R-2]+q[R-1]+q[R]+q[R+1]+q[R+2]}const U=B/25;me.thresholdBlock(n,M,C,U,s,d)}}}static cap(n,r,o){return n<r?r:n>o?o:n}static thresholdBlock(n,r,o,s,l,u){for(let d=0,h=o*l+r;d<me.BLOCK_SIZE;d++,h+=l)for(let p=0;p<me.BLOCK_SIZE;p++)(n[h+p]&255)<=s&&u.set(r+p,o+d)}static calculateBlackPoints(n,r,o,s,l){const u=l-me.BLOCK_SIZE,d=s-me.BLOCK_SIZE,h=new Array(o);for(let p=0;p<o;p++){h[p]=new Int32Array(r);let w=p<<me.BLOCK_SIZE_POWER;w>u&&(w=u);for(let C=0;C<r;C++){let A=C<<me.BLOCK_SIZE_POWER;A>d&&(A=d);let T=0,M=255,R=0;for(let U=0,K=w*s+A;U<me.BLOCK_SIZE;U++,K+=s){for(let q=0;q<me.BLOCK_SIZE;q++){const Q=n[K+q]&255;T+=Q,Q<M&&(M=Q),Q>R&&(R=Q)}if(R-M>me.MIN_DYNAMIC_RANGE)for(U++,K+=s;U<me.BLOCK_SIZE;U++,K+=s)for(let q=0;q<me.BLOCK_SIZE;q++)T+=n[K+q]&255}let B=T>>me.BLOCK_SIZE_POWER*2;if(R-M<=me.MIN_DYNAMIC_RANGE&&(B=M/2,p>0&&C>0)){const U=(h[p-1][C]+2*h[p][C-1]+h[p-1][C-1])/4;M<U&&(B=U)}h[p][C]=B}}return h}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class ne{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,o,s){throw new le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new le("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new ve;for(let o=0;o<this.height;o++){const s=this.getRow(o,n);for(let l=0;l<this.width;l++){const u=s[l]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class he extends ne{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const o=this.delegate.getRow(n,r),s=this.getWidth();for(let l=0;l<s;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let s=0;s<r;s++)o[s]=255-(n[s]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,o,s){return new he(this.delegate.crop(n,r,o,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class pe extends ne{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return pe.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,o){const s=new Uint8ClampedArray(r*o);for(let l=0,u=0,d=n.length;l<d;l+=4,u++){let h;if(n[l+3]===0)h=255;else{const w=n[l],C=n[l+1],A=n[l+2];h=306*w+601*C+117*A+512>>10}s[u]=h}return s}getRow(n,r){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const o=this.getWidth(),s=n*o;return r===null?r=this.buffer.slice(s,s+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(s,s+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,o,s){return super.crop(n,r,o,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),o=r.getContext("2d"),s=n*pe.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*u),h=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*u);return r.width=d,r.height=h,o.translate(d/2,h/2),o.rotate(s),o.drawImage(this.canvas,l/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new he(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(n,r,o){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||Eo||self||window||void 0)&&(globalThis||Eo||self||window||void 0).__awaiter||function(y,n,r,o){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(w){try{p(o.next(w))}catch(C){u(C)}}function h(w){try{p(o.throw(w))}catch(C){u(C)}}function p(w){w.done?l(w.value):s(w.value).then(d,h)}p((o=o.apply(y,n||[])).next())})};class dn{constructor(n,r=500,o){this.reader=n,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of n){const s=o.kind==="video"?"videoinput":o.kind;if(s!=="videoinput")continue;const l=o.deviceId||o.id,u=o.label||`Video device ${r.length+1}`,d=o.groupId,h={deviceId:l,label:u,kind:s,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ye(r.deviceId,r.label))})}findDeviceById(n){return Se(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return Se(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(n,r){return Se(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(n,r){return Se(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,r,o){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,o)})}decodeFromVideoDevice(n,r,o){return Se(this,void 0,void 0,function*(){let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,r,o)})}decodeFromConstraints(n,r,o){return Se(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(s,r,o)})}decodeFromStream(n,r,o){return Se(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(s,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return Se(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((r,o)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const o=document.getElementById(n);if(!o)throw new S(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new S(`element with id '${n}' must be an ${r} element`);return o}decodeFromImage(n,r){if(!n&&!r)throw new S("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new S("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,o){if(n===void 0&&r===void 0)throw new S("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new S("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(n){if(!n)throw new S("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new S("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=n,o}decodeFromVideoUrl(n){if(!n)throw new S("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=n,o}decodeFromVideoUrlContinuously(n,r){if(!n)throw new S("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(o,r);return o.src=n,s}_decodeOnLoadImage(n){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,o=!0){this._stopAsyncDecode=!1;const s=(l,u)=>{if(this._stopAsyncDecode){u(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);l(d)}catch(d){const h=r&&d instanceof W,w=(d instanceof b||d instanceof z)&&o;if(h||w)return setTimeout(s,this._timeBetweenDecodingAttempts,l,u);u(d)}};return new Promise((l,u)=>s(l,u))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(n);r(s,null),setTimeout(o,this.timeBetweenScansMillis)}catch(s){r(null,s);const l=s instanceof b||s instanceof z,u=s instanceof W;(l||u)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,o){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),o=new pe(r),s=new me(o);return new D(s)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,s;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,s=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,s=n.naturalHeight||n.height)),r.style.width=o+"px",r.style.height=s+"px",r.width=o,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Ze{constructor(n,r,o=r==null?0:8*r.length,s,l,u=P.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=o,this.resultPoints=s,this.format=l,this.timestamp=u,this.text=n,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=s,this.format=l,this.resultMetadata=null,u==null?this.timestamp=P.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(r.length+n.length);P.arraycopy(r,0,o,0,r.length),P.arraycopy(n,0,o,r.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xr;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xr||(Xr={}));var ae=Xr,dr;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dr||(dr={}));var xt=dr;class so{constructor(n,r,o,s,l=-1,u=-1){this.rawBytes=n,this.text=r,this.byteSegments=o,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ao{exp(n){return this.expTable[n]}log(n){if(n===0)throw new v;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class Vt{constructor(n,r){if(r.length===0)throw new v;this.field=n;const o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-s),P.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(n===1){o=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];o=ao.addOrSubtract(o,h)}return o}o=r[0];const s=r.length,l=this.field;for(let u=1;u<s;u++)o=ao.addOrSubtract(l.multiply(n,o),r[u]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){const u=r;r=o,o=u}let s=new Int32Array(o.length);const l=o.length-r.length;P.arraycopy(o,0,s,0,l);for(let u=l;u<o.length;u++)s[u]=ao.addOrSubtract(r[u-l],o[u]);return new Vt(this.field,s)}multiply(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,s=n.coefficients,l=s.length,u=new Int32Array(o+l-1),d=this.field;for(let h=0;h<o;h++){const p=r[h];for(let w=0;w<l;w++)u[h+w]=ao.addOrSubtract(u[h+w],d.multiply(p,s[w]))}return new Vt(d,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,o=this.field,s=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)s[u]=o.multiply(l[u],n);return new Vt(o,s)}multiplyByMonomial(n,r){if(n<0)throw new v;if(r===0)return this.field.getZero();const o=this.coefficients,s=o.length,l=new Int32Array(s+n),u=this.field;for(let d=0;d<s;d++)l[d]=u.multiply(o[d],r);return new Vt(u,l)}divide(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new v("Divide by 0");const r=this.field;let o=r.getZero(),s=this;const l=n.getCoefficient(n.getDegree()),u=r.inverse(l);for(;s.getDegree()>=n.getDegree()&&!s.isZero();){const d=s.getDegree()-n.getDegree(),h=r.multiply(s.getCoefficient(s.getDegree()),u),p=n.multiplyByMonomial(d,h),w=r.buildMonomial(d,h);o=o.addOrSubtract(w),s=s.addOrSubtract(p)}return[o,s]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),r===0||o!==1){const s=this.field.log(o);s===0?n+="1":s===1?n+="a":(n+="a^",n+=s)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class gs extends m{}gs.kind="ArithmeticException";class Me extends ao{constructor(n,r,o){super(),this.primitive=n,this.size=r,this.generatorBase=o;const s=new Int32Array(r);let l=1;for(let d=0;d<r;d++)s[d]=l,l*=2,l>=r&&(l^=n,l&=r-1);this.expTable=s;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[s[d]]=d;this.logTable=u,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new v;if(r===0)return this.zero;const o=new Int32Array(n+1);return o[0]=r,new Vt(this,o)}inverse(n){if(n===0)throw new gs;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class wi extends m{}wi.kind="ReedSolomonException";class Pn extends m{}Pn.kind="IllegalStateException";class lo{constructor(n){this.field=n}decode(n,r){const o=this.field,s=new Vt(o,n),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const M=s.evaluateAt(o.exp(T+o.getGeneratorBase()));l[l.length-1-T]=M,M!==0&&(u=!1)}if(u)return;const d=new Vt(o,l),h=this.runEuclideanAlgorithm(o.buildMonomial(r,1),d,r),p=h[0],w=h[1],C=this.findErrorLocations(p),A=this.findErrorMagnitudes(w,C);for(let T=0;T<C.length;T++){const M=n.length-1-o.log(C[T]);if(M<0)throw new wi("Bad error location");n[M]=Me.addOrSubtract(n[M],A[T])}}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){const T=n;n=r,r=T}const s=this.field;let l=n,u=r,d=s.getZero(),h=s.getOne();for(;u.getDegree()>=(o/2|0);){let T=l,M=d;if(l=u,d=h,l.isZero())throw new wi("r_{i-1} was zero");u=T;let R=s.getZero();const B=l.getCoefficient(l.getDegree()),U=s.inverse(B);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const K=u.getDegree()-l.getDegree(),q=s.multiply(u.getCoefficient(u.getDegree()),U);R=R.addOrSubtract(s.buildMonomial(K,q)),u=u.addOrSubtract(l.multiplyByMonomial(K,q))}if(h=R.multiply(d).addOrSubtract(M),u.getDegree()>=l.getDegree())throw new Pn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new wi("sigmaTilde(0) was zero");const w=s.inverse(p),C=h.multiplyScalar(w),A=u.multiplyScalar(w);return[C,A]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(r);let s=0;const l=this.field;for(let u=1;u<l.getSize()&&s<r;u++)n.evaluateAt(u)===0&&(o[s]=l.inverse(u),s++);if(s!==r)throw new wi("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,r){const o=r.length,s=new Int32Array(o),l=this.field;for(let u=0;u<o;u++){const d=l.inverse(r[u]);let h=1;for(let p=0;p<o;p++)if(u!==p){const w=l.multiply(r[p],d),C=w&1?w&-2:w|1;h=l.multiply(h,C)}s[u]=l.multiply(n.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(s[u]=l.multiply(s[u],d))}return s}}var At;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(At||(At={}));class Ue{decode(n){this.ddata=n;let r=n.getBits(),o=this.extractBits(r),s=this.correctBits(o),l=Ue.convertBoolArrayToByteArray(s),u=Ue.getEncodedData(s),d=new so(l,u,null,null);return d.setNumBits(s.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,o=At.UPPER,s=At.UPPER,l="",u=0;for(;u<r;)if(s===At.BINARY){if(r-u<5)break;let d=Ue.readCode(n,u,5);if(u+=5,d===0){if(r-u<11)break;d=Ue.readCode(n,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const p=Ue.readCode(n,u,8);l+=fe.castAsNonUtf8Char(p),u+=8}s=o}else{let d=s===At.DIGIT?4:5;if(r-u<d)break;let h=Ue.readCode(n,u,d);u+=d;let p=Ue.getCharacter(s,h);p.startsWith("CTRL_")?(o=s,s=Ue.getTable(p.charAt(5)),p.charAt(6)==="L"&&(o=s)):(l+=p,s=o)}return l}static getTable(n){switch(n){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(n,r){switch(n){case At.UPPER:return Ue.UPPER_TABLE[r];case At.LOWER:return Ue.LOWER_TABLE[r];case At.MIXED:return Ue.MIXED_TABLE[r];case At.PUNCT:return Ue.PUNCT_TABLE[r];case At.DIGIT:return Ue.DIGIT_TABLE[r];default:throw new Pn("Bad table")}}correctBits(n){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=Me.AZTEC_DATA_10):(o=12,r=Me.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=n.length/o;if(l<s)throw new z;let u=n.length%o,d=new Int32Array(l);for(let A=0;A<l;A++,u+=o)d[A]=Ue.readCode(n,u,o);try{new lo(r).decode(d,l-s)}catch(A){throw new z(A)}let h=(1<<o)-1,p=0;for(let A=0;A<s;A++){let T=d[A];if(T===0||T===h)throw new z;(T===1||T===h-1)&&p++}let w=new Array(s*o-p),C=0;for(let A=0;A<s;A++){let T=d[A];if(T===1||T===h-1)w.fill(T>1,C,C+o-1),C+=o-1;else for(let M=o-1;M>=0;--M)w[C++]=(T&1<<M)!==0}return w}extractBits(n){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),s=(r?11:14)+o*4,l=new Int32Array(s),u=new Array(this.totalBitsInLayer(o,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=s+1+2*_.truncDivision(_.truncDivision(s,2)-1,15),h=s/2,p=_.truncDivision(d,2);for(let w=0;w<h;w++){let C=w+_.truncDivision(w,15);l[h-w-1]=p-C-1,l[h+w]=p+C+1}}for(let d=0,h=0;d<o;d++){let p=(o-d)*4+(r?9:12),w=d*2,C=s-1-w;for(let A=0;A<p;A++){let T=A*2;for(let M=0;M<2;M++)u[h+T+M]=n.get(l[w+M],l[w+A]),u[h+2*p+T+M]=n.get(l[w+A],l[C-M]),u[h+4*p+T+M]=n.get(l[C-M],l[C-A]),u[h+6*p+T+M]=n.get(l[C-A],l[w+M])}h+=p*8}return u}static readCode(n,r,o){let s=0;for(let l=r;l<r+o;l++)s<<=1,n[l]&&(s|=1);return s}static readByte(n,r){let o=n.length-r;return o>=8?Ue.readCode(n,r,8):Ue.readCode(n,r,o)<<8-o}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let o=0;o<r.length;o++)r[o]=Ue.readByte(n,8*o);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Ue.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ue.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ue.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,o,s){const l=n-o,u=r-s;return Math.sqrt(l*l+u*u)}static sum(n){let r=0;for(let o=0,s=n.length;o!==s;o++){const l=n[o];r+=l}return r}}class ps{static floatToIntBits(n){return n}}ps.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof se){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ps.floatToIntBits(this.x)+ps.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),s=this.distance(n[0],n[2]);let l,u,d;if(o>=r&&o>=s?(u=n[0],l=n[1],d=n[2]):s>=o&&s>=r?(u=n[1],l=n[0],d=n[2]):(u=n[2],l=n[0],d=n[1]),this.crossProductZ(l,u,d)<0){const h=l;l=d,d=h}n[0]=l,n[1]=u,n[2]=d}static distance(n,r){return Ie.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,o){const s=r.x,l=r.y;return(o.x-s)*(n.y-l)-(o.y-l)*(n.x-s)}}class ms{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Kc extends ms{constructor(n,r,o,s,l){super(n,r),this.compact=o,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $n{constructor(n,r,o,s){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=$n.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),s==null&&(s=n.getHeight()/2|0);const l=r/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let n=this.leftInit,r=this.rightInit,o=this.upInit,s=this.downInit,l=!1,u=!0,d=!1,h=!1,p=!1,w=!1,C=!1;const A=this.width,T=this.height;for(;u;){u=!1;let M=!0;for(;(M||!h)&&r<A;)M=this.containsBlackPoint(o,s,r,!1),M?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let R=!0;for(;(R||!p)&&s<T;)R=this.containsBlackPoint(n,r,s,!0),R?(s++,u=!0,p=!0):p||s++;if(s>=T){l=!0;break}let B=!0;for(;(B||!w)&&n>=0;)B=this.containsBlackPoint(o,s,n,!1),B?(n--,u=!0,w=!0):w||n--;if(n<0){l=!0;break}let U=!0;for(;(U||!C)&&o>=0;)U=this.containsBlackPoint(n,r,o,!0),U?(o--,u=!0,C=!0):C||o--;if(o<0){l=!0;break}u&&(d=!0)}if(!l&&d){const M=r-n;let R=null;for(let q=1;R===null&&q<M;q++)R=this.getBlackPointOnSegment(n,s-q,n+q,s);if(R==null)throw new W;let B=null;for(let q=1;B===null&&q<M;q++)B=this.getBlackPointOnSegment(n,o+q,n+q,o);if(B==null)throw new W;let U=null;for(let q=1;U===null&&q<M;q++)U=this.getBlackPointOnSegment(r,o+q,r-q,o);if(U==null)throw new W;let K=null;for(let q=1;K===null&&q<M;q++)K=this.getBlackPointOnSegment(r,s-q,r-q,s);if(K==null)throw new W;return this.centerEdges(K,R,U,B)}else throw new W}getBlackPointOnSegment(n,r,o,s){const l=Ie.round(Ie.distance(n,r,o,s)),u=(o-n)/l,d=(s-r)/l,h=this.image;for(let p=0;p<l;p++){const w=Ie.round(n+p*u),C=Ie.round(r+p*d);if(h.get(w,C))return new se(w,C)}return null}centerEdges(n,r,o,s){const l=n.getX(),u=n.getY(),d=r.getX(),h=r.getY(),p=o.getX(),w=o.getY(),C=s.getX(),A=s.getY(),T=$n.CORR;return l<this.width/2?[new se(C-T,A+T),new se(d+T,h+T),new se(p-T,w-T),new se(l+T,u-T)]:[new se(C+T,A+T),new se(d+T,h-T),new se(p-T,w+T),new se(l-T,u-T)]}containsBlackPoint(n,r,o,s){const l=this.image;if(s){for(let u=n;u<=r;u++)if(l.get(u,o))return!0}else for(let u=n;u<=r;u++)if(l.get(o,u))return!0;return!1}}$n.INIT_SIZE=10,$n.CORR=1;class $a{static checkAndNudgePoints(n,r){const o=n.getWidth(),s=n.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>s)throw new W;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>s)throw new W;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}}}class In{constructor(n,r,o,s,l,u,d,h,p){this.a11=n,this.a21=r,this.a31=o,this.a12=s,this.a22=l,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,r,o,s,l,u,d,h,p,w,C,A,T,M,R,B){const U=In.quadrilateralToSquare(n,r,o,s,l,u,d,h);return In.squareToQuadrilateral(p,w,C,A,T,M,R,B).times(U)}transformPoints(n){const r=n.length,o=this.a11,s=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,C=this.a33;for(let A=0;A<r;A+=2){const T=n[A],M=n[A+1],R=l*T+h*M+C;n[A]=(o*T+u*M+p)/R,n[A+1]=(s*T+d*M+w)/R}}transformPointsWithValues(n,r){const o=this.a11,s=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,C=this.a33,A=n.length;for(let T=0;T<A;T++){const M=n[T],R=r[T],B=l*M+h*R+C;n[T]=(o*M+u*R+p)/B,r[T]=(s*M+d*R+w)/B}}static squareToQuadrilateral(n,r,o,s,l,u,d,h){const p=n-o+l-d,w=r-s+u-h;if(p===0&&w===0)return new In(o-n,l-o,n,s-r,u-s,r,0,0,1);{const C=o-l,A=d-l,T=s-u,M=h-u,R=C*M-A*T,B=(p*M-A*w)/R,U=(C*w-p*T)/R;return new In(o-n+B*o,d-n+U*d,n,s-r+B*s,h-r+U*h,r,B,U,1)}}static quadrilateralToSquare(n,r,o,s,l,u,d,h){return In.squareToQuadrilateral(n,r,o,s,l,u,d,h).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new In(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class qc extends $a{sampleGrid(n,r,o,s,l,u,d,h,p,w,C,A,T,M,R,B,U,K,q){const Q=In.quadrilateralToQuadrilateral(s,l,u,d,h,p,w,C,A,T,M,R,B,U,K,q);return this.sampleGridWithTransform(n,r,o,Q)}sampleGridWithTransform(n,r,o,s){if(r<=0||o<=0)throw new W;const l=new st(r,o),u=new Float32Array(2*r);for(let d=0;d<o;d++){const h=u.length,p=d+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=p;s.transformPoints(u),$a.checkAndNudgePoints(n,u);try{for(let w=0;w<h;w+=2)n.get(Math.floor(u[w]),Math.floor(u[w+1]))&&l.set(w/2,d)}catch{throw new W}}return l}}class hr{static setGridSampler(n){hr.gridSampler=n}static getInstance(){return hr.gridSampler}}hr.gridSampler=new qc;class Pt{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jc{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(n){let u=o[0];o[0]=o[2],o[2]=u}this.extractParameters(o);let s=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new Kc(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new W;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(o,r);let s=0;for(let u=0;u<4;u++){let d=o[(this.shift+u)%4];this.compact?(s<<=7,s+=d>>1&127):(s<<=10,s+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,r){let o=0;n.forEach((s,l,u)=>{let d=(s>>r-2<<1)+(s&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let s=0;s<4;s++)if(_.bitCount(o^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new W}getCorrectedParameterData(n,r){let o,s;r?(o=7,s=2):(o=10,s=4);let l=o-s,u=new Int32Array(o);for(let h=o-1;h>=0;--h)u[h]=n&15,n>>=4;try{new lo(Me.AZTEC_PARAM).decode(u,l)}catch{throw new W}let d=0;for(let h=0;h<s;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(n){let r=n,o=n,s=n,l=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(o,u,1,1),T=this.getFirstDifferent(s,u,-1,1),M=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let R=this.distancePoint(M,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(R<.75||R>1.25||!this.isWhiteOrBlackRectangle(C,A,T,M))break}r=C,o=A,s=T,l=M,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let d=new se(r.getX()+.5,r.getY()-.5),h=new se(o.getX()+.5,o.getY()+.5),p=new se(s.getX()-.5,s.getY()+.5),w=new se(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,o,s;try{let d=new $n(this.image).detect();n=d[0],r=d[1],o=d[2],s=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Pt(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Pt(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pt(h-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Pt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=Ie.round((n.getX()+s.getX()+r.getX()+o.getX())/4),u=Ie.round((n.getY()+s.getY()+r.getY()+o.getY())/4);try{let d=new $n(this.image,15,l,u).detect();n=d[0],r=d[1],o=d[2],s=d[3]}catch{n=this.getFirstDifferent(new Pt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Pt(l+7,u+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pt(l-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Pt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Ie.round((n.getX()+s.getX()+r.getX()+o.getX())/4),u=Ie.round((n.getY()+s.getY()+r.getY()+o.getY())/4),new Pt(l,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,o,s,l){let u=hr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(n,r,o){let s=0,l=this.distanceResultPoint(n,r),u=l/o,d=n.getX(),h=n.getY(),p=u*(r.getX()-n.getX())/l,w=u*(r.getY()-n.getY())/l;for(let C=0;C<o;C++)this.image.get(Ie.round(d+C*p),Ie.round(h+C*w))&&(s|=1<<o-C-1);return s}isWhiteOrBlackRectangle(n,r,o,s){let l=3;n=new Pt(n.getX()-l,n.getY()+l),r=new Pt(r.getX()-l,r.getY()-l),o=new Pt(o.getX()+l,o.getY()-l),s=new Pt(s.getX()+l,s.getY()+l);let u=this.getColor(s,n);if(u===0)return!1;let d=this.getColor(n,r);return d!==u||(d=this.getColor(r,o),d!==u)?!1:(d=this.getColor(o,s),d===u)}getColor(n,r){let o=this.distancePoint(n,r),s=(r.getX()-n.getX())/o,l=(r.getY()-n.getY())/o,u=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),w=Math.ceil(o);for(let A=0;A<w;A++)d+=s,h+=l,this.image.get(Ie.round(d),Ie.round(h))!==p&&u++;let C=u/o;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(n,r,o,s){let l=n.getX()+o,u=n.getY()+s;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o,u+=s;for(l-=o,u-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o;for(l-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=s;return u-=s,new Pt(l,u)}expandSquare(n,r,o){let s=o/(2*r),l=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new se(d+s*l,h+s*u),w=new se(d-s*l,h-s*u);l=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let C=new se(d+s*l,h+s*u),A=new se(d-s*l,h-s*u);return[p,C,w,A]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=Ie.round(n.getX()),o=Ie.round(n.getY());return this.isValid(r,o)}distancePoint(n,r){return Ie.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return Ie.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class xs{decode(n,r=null){let o=null,s=new Jc(n.getBlackMatrix()),l=null,u=null;try{let w=s.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new Ue().decode(w)}catch(w){o=w}if(u==null)try{let w=s.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new Ue().decode(w)}catch(w){throw o??w}let d=new Ze(u.getText(),u.getRawBytes(),u.getNumBits(),l,ae.AZTEC,P.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(xt.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(xt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,r){if(n!=null){let o=n.get(J.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((s,l,u)=>{o.foundPossibleResultPoint(s)})}}reset(){}}class qh extends dn{constructor(n=500){super(new xs,n)}}class ut{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(J.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),u=this.doDecode(l,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(xt.ORIENTATION)===!0&&(h=h+d.get(xt.ORIENTATION)%360),u.putMetadata(xt.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const w=l.getHeight();for(let C=0;C<p.length;C++)p[C]=new se(w-p[C].getY()-1,p[C].getX())}return u}else throw new W}}reset(){}doDecode(n,r){const o=n.getWidth(),s=n.getHeight();let l=new j(o);const u=r&&r.get(J.TRY_HARDER)===!0,d=Math.max(1,s>>(u?8:5));let h;u?h=s:h=15;const p=Math.trunc(s/2);for(let w=0;w<h;w++){const C=Math.trunc((w+1)/2),A=(w&1)===0,T=p+d*(A?C:-C);if(T<0||T>=s)break;try{l=n.getBlackRow(T,l)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(l.reverse(),r&&r.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const R=new Map;r.forEach((B,U)=>R.set(U,B)),R.delete(J.NEED_RESULT_POINT_CALLBACK),r=R}try{const R=this.decodeRow(T,l,r);if(M===1){R.putMetadata(xt.ORIENTATION,180);const B=R.getResultPoints();B!==null&&(B[0]=new se(o-B[0].getX()-1,B[0].getY()),B[1]=new se(o-B[1].getX()-1,B[1].getY()))}return R}catch{}}}throw new W}static recordPattern(n,r,o){const s=o.length;for(let p=0;p<s;p++)o[p]=0;const l=n.getSize();if(r>=l)throw new W;let u=!n.get(r),d=0,h=r;for(;h<l;){if(n.get(h)!==u)o[d]++;else{if(++d===s)break;o[d]=1,u=!u}h++}if(!(d===s||d===s-1&&h===l))throw new W}static recordPatternInReverse(n,r,o){let s=o.length,l=n.get(r);for(;r>0&&s>=0;)n.get(--r)!==l&&(s--,l=!l);if(s>=0)throw new W;ut.recordPattern(n,r+1,o)}static patternMatchVariance(n,r,o){const s=n.length;let l=0,u=0;for(let p=0;p<s;p++)l+=n[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const d=l/u;o*=d;let h=0;for(let p=0;p<s;p++){const w=n[p],C=r[p]*d,A=w>C?w-C:C-w;if(A>o)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class te extends ut{static findStartPattern(n){const r=n.getSize(),o=n.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),u=o,d=!1;const h=6;for(let p=o;p<r;p++)if(n.get(p)!==d)l[s]++;else{if(s===h-1){let w=te.MAX_AVG_VARIANCE,C=-1;for(let A=te.CODE_START_A;A<=te.CODE_START_C;A++){const T=ut.patternMatchVariance(l,te.CODE_PATTERNS[A],te.MAX_INDIVIDUAL_VARIANCE);T<w&&(w=T,C=A)}if(C>=0&&n.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,d=!d}throw new W}static decodeCode(n,r,o){ut.recordPattern(n,o,r);let s=te.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const d=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,te.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,l=u)}if(l>=0)return l;throw new W}decodeRow(n,r,o){const s=o&&o.get(J.ASSUME_GS1)===!0,l=te.findStartPattern(r),u=l[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case te.CODE_START_A:p=te.CODE_CODE_A;break;case te.CODE_START_B:p=te.CODE_CODE_B;break;case te.CODE_START_C:p=te.CODE_CODE_C;break;default:throw new z}let w=!1,C=!1,A="",T=l[0],M=l[1];const R=Int32Array.from([0,0,0,0,0,0]);let B=0,U=0,K=u,q=0,Q=!0,Ce=!1,xe=!1;for(;!w;){const Ni=C;switch(C=!1,B=U,U=te.decodeCode(r,R,M),h[d++]=U,U!==te.CODE_STOP&&(Q=!0),U!==te.CODE_STOP&&(q++,K+=q*U),T=M,M+=R.reduce((Tg,Ng)=>Tg+Ng,0),U){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new z}switch(p){case te.CODE_CODE_A:if(U<64)xe===Ce?A+=String.fromCharCode(" ".charCodeAt(0)+U):A+=String.fromCharCode(" ".charCodeAt(0)+U+128),xe=!1;else if(U<96)xe===Ce?A+=String.fromCharCode(U-64):A+=String.fromCharCode(U+64),xe=!1;else switch(U!==te.CODE_STOP&&(Q=!1),U){case te.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Ce&&xe?(Ce=!0,xe=!1):Ce&&xe?(Ce=!1,xe=!1):xe=!0;break;case te.CODE_SHIFT:C=!0,p=te.CODE_CODE_B;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_B:if(U<96)xe===Ce?A+=String.fromCharCode(" ".charCodeAt(0)+U):A+=String.fromCharCode(" ".charCodeAt(0)+U+128),xe=!1;else switch(U!==te.CODE_STOP&&(Q=!1),U){case te.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Ce&&xe?(Ce=!0,xe=!1):Ce&&xe?(Ce=!1,xe=!1):xe=!0;break;case te.CODE_SHIFT:C=!0,p=te.CODE_CODE_A;break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_C:if(U<100)U<10&&(A+="0"),A+=U;else switch(U!==te.CODE_STOP&&(Q=!1),U){case te.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_STOP:w=!0;break}break}Ni&&(p=p===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Xt=M-T;if(M=r.getNextUnset(M),!r.isRange(M,Math.min(r.getSize(),M+(M-T)/2),!1))throw new W;if(K-=q*B,K%103!==B)throw new b;const Nn=A.length;if(Nn===0)throw new W;Nn>0&&Q&&(p===te.CODE_CODE_C?A=A.substring(0,Nn-2):A=A.substring(0,Nn-1));const Qt=(l[1]+l[0])/2,Fe=T+Xt/2,It=h.length,en=new Uint8Array(It);for(let Ni=0;Ni<It;Ni++)en[Ni]=h[Ni];const Ti=[new se(Qt,n),new se(Fe,n)];return new Ze(A,en,0,Ti,ae.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class dt extends ut{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,o){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=dt.findAsteriskPattern(r,s),u=r.getNextSet(l[1]),d=r.getSize(),h,p;do{dt.recordPattern(r,u,s);let R=dt.toNarrowWidePattern(s);if(R<0)throw new W;h=dt.patternToChar(R),this.decodeRowResult+=h,p=u;for(let B of s)u+=B;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let R of s)w+=R;let C=u-p-w;if(u!==d&&C*2<w)throw new W;if(this.usingCheckDigit){let R=this.decodeRowResult.length-1,B=0;for(let U=0;U<R;U++)B+=dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(U));if(this.decodeRowResult.charAt(R)!==dt.ALPHABET_STRING.charAt(B%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new W;let A;this.extendedMode?A=dt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let T=(l[1]+l[0])/2,M=p+w/2;return new Ze(A,null,0,[new se(T,n),new se(M,n)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let o=n.getSize(),s=n.getNextSet(0),l=0,u=s,d=!1,h=r.length;for(let p=s;p<o;p++)if(n.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===dt.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new W}static toNarrowWidePattern(n){let r=n.length,o=0,s;do{let l=2147483647;for(let h of n)h<l&&h>o&&(l=h);o=l,s=0;let u=0,d=0;for(let h=0;h<r;h++){let p=n[h];p>o&&(d|=1<<r-1-h,s++,u+=p)}if(s===3){for(let h=0;h<r&&s>0;h++){let p=n[h];if(p>o&&(s--,p*2>=u))return-1}return d}}while(s>3);return-1}static patternToChar(n){for(let r=0;r<dt.CHARACTER_ENCODINGS.length;r++)if(dt.CHARACTER_ENCODINGS[r]===n)return dt.ALPHABET_STRING.charAt(r);if(n===dt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(n){let r=n.length,o="";for(let s=0;s<r;s++){let l=n.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=n.charAt(s+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new z;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new z;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new z;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new z;break}o+=d,s++}else o+=l}return o}}dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dt.ASTERISK_ENCODING=148;class ke extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,o){let s=this.decodeStart(r),l=this.decodeEnd(r),u=new ve;ke.decodeMiddle(r,s[1],l[0],u);let d=u.toString(),h=null;o!=null&&(h=o.get(J.ALLOWED_LENGTHS)),h==null&&(h=ke.DEFAULT_ALLOWED_LENGTHS);let p=d.length,w=!1,C=0;for(let M of h){if(p===M){w=!0;break}M>C&&(C=M)}if(!w&&p>C&&(w=!0),!w)throw new z;const A=[new se(s[1],n),new se(l[0],n)];return new Ze(d,null,0,A,ae.ITF,new Date().getTime())}static decodeMiddle(n,r,o,s){let l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<o;){ut.recordPattern(n,r,l);for(let p=0;p<5;p++){let w=2*p;u[p]=l[w],d[p]=l[w+1]}let h=ke.decodeDigit(u);s.append(h.toString()),h=this.decodeDigit(d),s.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(n){let r=ke.skipWhiteSpace(n),o=ke.findGuardPattern(n,r,ke.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let s=r-1;o>0&&s>=0&&!n.get(s);s--)o--;if(o!==0)throw new W}static skipWhiteSpace(n){const r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new W;return o}decodeEnd(n){n.reverse();try{let r=ke.skipWhiteSpace(n),o;try{o=ke.findGuardPattern(n,r,ke.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(o=ke.findGuardPattern(n,r,ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let s=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-s,o}finally{n.reverse()}}static findGuardPattern(n,r,o){let s=o.length,l=new Int32Array(s),u=n.getSize(),d=!1,h=0,p=r;l.fill(0);for(let w=r;w<u;w++)if(n.get(w)!==d)l[h]++;else{if(h===s-1){if(ut.patternMatchVariance(l,o,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return[p,w];p+=l[0]+l[1],P.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new W}static decodeDigit(n){let r=ke.MAX_AVG_VARIANCE,o=-1,s=ke.PATTERNS.length;for(let l=0;l<s;l++){let u=ke.PATTERNS[l],d=ut.patternMatchVariance(n,u,ke.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,o=l):d===r&&(o=-1)}if(o>=0)return o%10;throw new W}}ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ke.MAX_AVG_VARIANCE=.38,ke.MAX_INDIVIDUAL_VARIANCE=.5,ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ke.START_PATTERN=Int32Array.from([1,1,1,1]),ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tt extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,o,s=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),o=tt.findGuardPattern(n,s,!1,this.START_END_PATTERN,l);let u=o[0];s=o[1];let d=u-(s-u);d>=0&&(r=n.isRange(d,u,!1))}return o}static checkChecksum(n){return tt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return tt.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let s=r-1;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;o+=l}return(1e3-o)%10}static decodeEnd(n,r){return tt.findGuardPattern(n,r,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,o,s){return this.findGuardPattern(n,r,o,s,new Int32Array(s.length))}static findGuardPattern(n,r,o,s,l){let u=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);let d=0,h=r,p=s.length,w=o;for(let C=r;C<u;C++)if(n.get(C)!==w)l[d]++;else{if(d===p-1){if(ut.patternMatchVariance(l,s,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let T=0;T<d-1;T++)l[T]=A[T];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,w=!w}throw new W}static decodeDigit(n,r,o,s){this.recordPattern(n,o,r);let l=this.MAX_AVG_VARIANCE,u=-1,d=s.length;for(let h=0;h<d;h++){let p=s[h],w=ut.patternMatchVariance(r,p,tt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=h)}if(u>=0)return u;throw new W}}tt.MAX_AVG_VARIANCE=.48,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.START_END_PATTERN=Int32Array.from([1,1,1]),tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class uo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),u=s.toString(),d=uo.parseExtensionString(u),h=[new se((o[0]+o[1])/2,n),new se(l,n)],p=new Ze(u,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<5&&u<l;p++){let w=tt.decodeDigit(n,s,u,tt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let C of s)u+=C;w>=10&&(d|=1<<4-p),p!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==5)throw new W;let h=this.determineCheckDigit(d);if(uo.extensionChecksum(o.toString())!==h)throw new W;return u}static extensionChecksum(n){let r=n.length,o=0;for(let s=r-2;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let s=r-1;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(n){if(n.length!==5)return null;let r=uo.parseExtension5String(n);return r==null?null:new Map([[xt.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(n.substring(1)),s=(o/100).toString(),l=o%100,u=l<10?"0"+l:l.toString();return r+s+"."+u}}class el{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),u=s.toString(),d=el.parseExtensionString(u),h=[new se((o[0]+o[1])/2,n),new se(l,n)],p=new Ze(u,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<l;h++){let p=tt.decodeDigit(n,s,u,tt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let w of s)u+=w;p>=10&&(d|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==2)throw new W;if(parseInt(o.toString())%4!==d)throw new W;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[xt.ISSUE_NUMBER,parseInt(n)]])}}class $c{static decodeRow(n,r,o){let s=tt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new uo().decodeRow(n,r,s)}catch{return new el().decodeRow(n,r,s)}}}$c.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Oe extends tt{constructor(){super(),this.decodeRowStringBuffer="",Oe.L_AND_G_PATTERNS=Oe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=Oe.L_PATTERNS[n-10],o=new Int32Array(r.length);for(let s=0;s<r.length;s++)o[s]=r[r.length-s-1];Oe.L_AND_G_PATTERNS[n]=o}}decodeRow(n,r,o){let s=Oe.findStartGuardPattern(r),l=o==null?null:o.get(J.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Q=new se((s[0]+s[1])/2,n);l.foundPossibleResultPoint(Q)}let u=this.decodeMiddle(r,s,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(l!=null){const Q=new se(d,n);l.foundPossibleResultPoint(Q)}let p=this.decodeEnd(r,d);if(l!=null){const Q=new se((p[0]+p[1])/2,n);l.foundPossibleResultPoint(Q)}let w=p[1],C=w+(w-p[0]);if(C>=r.getSize()||!r.isRange(w,C,!1))throw new W;let A=h.toString();if(A.length<8)throw new z;if(!Oe.checkChecksum(A))throw new b;let T=(s[1]+s[0])/2,M=(p[1]+p[0])/2,R=this.getBarcodeFormat(),B=[new se(T,n),new se(M,n)],U=new Ze(A,null,0,B,R,new Date().getTime()),K=0;try{let Q=$c.decodeRow(n,r,p[1]);U.putMetadata(xt.UPC_EAN_EXTENSION,Q.getText()),U.putAllMetadata(Q.getResultMetadata()),U.addResultPoints(Q.getResultPoints()),K=Q.getText().length}catch{}let q=o==null?null:o.get(J.ALLOWED_EAN_EXTENSIONS);if(q!=null){let Q=!1;for(let Ce in q)if(K.toString()===Ce){Q=!0;break}if(!Q)throw new W}return U}decodeEnd(n,r){return Oe.findGuardPattern(n,r,!1,Oe.START_END_PATTERN,new Int32Array(Oe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Oe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return Oe.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let s=r-1;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new z;o+=l}return(1e3-o)%10}}class Qr extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<6&&u<l;p++){let w=Oe.decodeDigit(n,s,u,Oe.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let C of s)u+=C;w>=10&&(d|=1<<5-p)}o=Qr.determineFirstDigit(o,d),u=Oe.findGuardPattern(n,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let w=Oe.decodeDigit(n,s,u,Oe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w);for(let C of s)u+=C}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(n,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n,n;throw new W}}Qr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class e1 extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=Oe.decodeDigit(n,s,u,Oe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);for(let w of s)u+=w}u=Oe.findGuardPattern(n,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=Oe.decodeDigit(n,s,u,Oe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);for(let w of s)u+=w}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ae.EAN_8}}class t1 extends Oe{constructor(){super(...arguments),this.ean13Reader=new Qr}getBarcodeFormat(){return ae.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))}decodeMiddle(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let o=new Ze(r.substring(1),null,null,n.getResultPoints(),ae.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new W}reset(){this.ean13Reader.reset()}}class Tn extends Oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,o){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=n.getSize();let u=r[1],d=0;for(let p=0;p<6&&u<l;p++){const w=Tn.decodeDigit(n,s,u,Tn.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let C of s)u+=C;w>=10&&(d|=1<<5-p)}let h=Tn.determineNumSysAndCheckDigit(o,d);return{rowOffset:u,resultString:h}}decodeEnd(n,r){return Tn.findGuardPatternWithoutCounters(n,r,!0,Tn.MIDDLE_END_PATTERN)}checkChecksum(n){return Oe.checkChecksum(Tn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let o=0;o<=1;o++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][s]){let l=String.fromCharCode("0".charCodeAt(0)+o),u=String.fromCharCode("0".charCodeAt(0)+s);return l+n+u}throw W.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new ve;o.append(n.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(s),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(s);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}Tn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tl extends ut{constructor(n){super();let r=n==null?null:n.get(J.POSSIBLE_FORMATS),o=[];a(r)?(o.push(new Qr),o.push(new t1),o.push(new e1),o.push(new Tn)):(r.indexOf(ae.EAN_13)>-1&&o.push(new Qr),r.indexOf(ae.UPC_A)>-1&&o.push(new t1),r.indexOf(ae.EAN_8)>-1&&o.push(new e1),r.indexOf(ae.UPC_E)>-1&&o.push(new Tn)),this.readers=o}decodeRow(n,r,o){for(let s of this.readers)try{const l=s.decodeRow(n,r,o),u=l.getBarcodeFormat()===ae.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(J.POSSIBLE_FORMATS),h=d==null||d.includes(ae.UPC_A);if(u&&h){const p=l.getRawBytes(),w=new Ze(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ae.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new W}reset(){for(let n of this.readers)n.reset()}}class Dt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let o=0;o<r.length;o++)if(ut.patternMatchVariance(n,r[o],Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return o;throw new W}static count(n){return Ie.sum(new Int32Array(n))}static increment(n,r){let o=0,s=r[0];for(let l=1;l<n.length;l++)r[l]>s&&(s=r[l],o=l);n[o]++}static decrement(n,r){let o=0,s=r[0];for(let l=1;l<n.length;l++)r[l]<s&&(s=r[l],o=l);n[o]--}static isFinderPattern(n){let r=n[0]+n[1],o=r+n[2]+n[3],s=r/o;if(s>=Dt.MIN_FINDER_PATTERN_RATIO&&s<=Dt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of n)d>u&&(u=d),d<l&&(l=d);return u<10*l}return!1}}Dt.MAX_AVG_VARIANCE=.2,Dt.MAX_INDIVIDUAL_VARIANCE=.45,Dt.MIN_FINDER_PATTERN_RATIO=9.5/12,Dt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ei))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ws{constructor(n,r,o,s,l){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new se(o,l)),this.resultPoints.push(new se(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof ws))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class Fn{constructor(){}static getRSSvalue(n,r,o){let s=0;for(let h of n)s+=h;let l=0,u=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<n[h];p++,u&=~(1<<h)){let w=Fn.combins(s-p-1,d-h-2);if(o&&u===0&&s-p-(d-h-1)>=d-h-1&&(w-=Fn.combins(s-p-(d-h),d-h-2)),d-h-1>1){let C=0;for(let A=s-p-(d-h-2);A>r;A--)C+=Fn.combins(s-p-A-1,d-h-3);w-=C*(d-1-h)}else s-p>r&&w--;l+=w}s-=p}return l}static combins(n,r){let o,s;n-r>r?(s=r,o=n-r):(s=n-r,o=r);let l=1,u=1;for(let d=n;d>o;d--)l*=d,u<=s&&(l/=u,u++);for(;u<=s;)l/=u,u++;return l}}class Jh{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let o=12*r,s=new j(o),l=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&s.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],w=p.getLeftChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&s.set(l),l++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&s.set(l),l++}}return s}}class Zr{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Wt extends nl{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Wt.FNC1}}Wt.FNC1="$";class Kr extends nl{constructor(n,r,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends nl{constructor(n,r,o){if(super(n),r<0||r>10||o<0||o>10)throw new z;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class re{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new W;let r=n.substring(0,2);for(let l of re.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(2,l[2],n):re.processFixedAI(2,l[1],n);if(n.length<3)throw new W;let o=n.substring(0,3);for(let l of re.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(3,l[2],n):re.processFixedAI(3,l[1],n);for(let l of re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],n):re.processFixedAI(4,l[1],n);if(n.length<4)throw new W;let s=n.substring(0,4);for(let l of re.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],n):re.processFixedAI(4,l[1],n);throw new W}static processFixedAI(n,r,o){if(o.length<n)throw new W;let s=o.substring(0,n);if(o.length<n+r)throw new W;let l=o.substring(n,n+r),u=o.substring(n+r),d="("+s+")"+l,h=re.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(n,r,o){let s=o.substring(0,n),l;o.length<n+r?l=o.length:l=n+r;let u=o.substring(n,l),d=o.substring(l),h="("+s+")"+u,p=re.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}re.VARIABLE_LENGTH=[],re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",re.VARIABLE_LENGTH,20],["22",re.VARIABLE_LENGTH,29],["30",re.VARIABLE_LENGTH,8],["37",re.VARIABLE_LENGTH,8],["90",re.VARIABLE_LENGTH,30],["91",re.VARIABLE_LENGTH,30],["92",re.VARIABLE_LENGTH,30],["93",re.VARIABLE_LENGTH,30],["94",re.VARIABLE_LENGTH,30],["95",re.VARIABLE_LENGTH,30],["96",re.VARIABLE_LENGTH,30],["97",re.VARIABLE_LENGTH,3],["98",re.VARIABLE_LENGTH,30],["99",re.VARIABLE_LENGTH,30]],re.THREE_DIGIT_DATA_LENGTH=[["240",re.VARIABLE_LENGTH,30],["241",re.VARIABLE_LENGTH,30],["242",re.VARIABLE_LENGTH,6],["250",re.VARIABLE_LENGTH,30],["251",re.VARIABLE_LENGTH,30],["253",re.VARIABLE_LENGTH,17],["254",re.VARIABLE_LENGTH,20],["400",re.VARIABLE_LENGTH,30],["401",re.VARIABLE_LENGTH,30],["402",17],["403",re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",re.VARIABLE_LENGTH,20],["421",re.VARIABLE_LENGTH,15],["422",3],["423",re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",re.VARIABLE_LENGTH,15],["391",re.VARIABLE_LENGTH,18],["392",re.VARIABLE_LENGTH,15],["393",re.VARIABLE_LENGTH,18],["703",re.VARIABLE_LENGTH,30]],re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",re.VARIABLE_LENGTH,20],["8003",re.VARIABLE_LENGTH,30],["8004",re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",re.VARIABLE_LENGTH,30],["8008",re.VARIABLE_LENGTH,12],["8018",18],["8020",re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",re.VARIABLE_LENGTH,70],["8200",re.VARIABLE_LENGTH,70]];class yi{constructor(n){this.buffer=new ve,this.information=n}decodeAllCodes(n,r){let o=r,s=null;do{let l=this.decodeGeneralPurposeField(o,s),u=re.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&n.append(u),l.isRemaining()?s=""+l.getRemainingValue():s=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),l-1,hn.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),o=(r-8)/11,s=(r-8)%11;return new hn(n+7,o,s)}extractNumericValueFromBitArray(n,r){return yi.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,o){let s=0;for(let l=0;l<o;++l)n.get(r+l)&&(s|=1<<o-l-1);return s}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Kr(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new Kr(this.current.getPosition(),this.buffer.toString()):r=new Kr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Zr(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,8);return s>=232&&s<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Wt(n+5,Wt.FNC1);if(r>=5&&r<15)return new Wt(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new Wt(n+7,""+(o+1));if(o>=90&&o<116)return new Wt(n+7,""+(o+7));let s=this.extractNumericValueFromBitArray(n,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new z}return new Wt(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Wt(n+5,Wt.FNC1);if(r>=5&&r<15)return new Wt(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new Wt(n+6,""+(o+33));let s;switch(o){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Pn("Decoding invalid alphanumeric value: "+o)}return new Wt(n+6,s)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class rl{constructor(n){this.information=n,this.generalDecoder=new yi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gt extends rl{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)}encodeCompressedGtinWithoutAI(n,r,o){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}Gt.appendCheckDigit(n,o)}static appendCheckDigit(n,r){let o=0;for(let s=0;s<13;s++){let l=n.charAt(s+r).charCodeAt(0)-"0".charCodeAt(0);o+=s&1?l:3*l}o=10-o%10,o===10&&(o=0),n.append(o)}}Gt.GTIN_SIZE=40;class Ci extends Gt{constructor(n){super(n)}parseInformation(){let n=new ve;n.append("(01)");let r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Ci.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,Ci.HEADER_SIZE+44)}}Ci.HEADER_SIZE=1+1+2;class Es extends rl{constructor(n){super(n)}parseInformation(){let n=new ve;return this.getGeneralDecoder().decodeAllCodes(n,Es.HEADER_SIZE)}}Es.HEADER_SIZE=2+1+2;class ys extends Gt{constructor(n){super(n)}encodeCompressedWeight(n,r,o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,s);let l=this.checkWeight(s),u=1e5;for(let d=0;d<5;++d)l/u===0&&n.append("0"),u/=10;n.append(l)}}class Un extends ys{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Un.HEADER_SIZE+ys.GTIN_SIZE+Un.WEIGHT_SIZE)throw new W;let n=new ve;return this.encodeCompressedGtin(n,Un.HEADER_SIZE),this.encodeCompressedWeight(n,Un.HEADER_SIZE+ys.GTIN_SIZE,Un.WEIGHT_SIZE),n.toString()}}Un.HEADER_SIZE=4+1,Un.WEIGHT_SIZE=15;class $h extends Un{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class eg extends Un{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class zn extends Gt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<zn.HEADER_SIZE+Gt.GTIN_SIZE)throw new W;let n=new ve;this.encodeCompressedGtin(n,zn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE+Gt.GTIN_SIZE,zn.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(zn.HEADER_SIZE+Gt.GTIN_SIZE+zn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}zn.HEADER_SIZE=5+1+2,zn.LAST_DIGIT_SIZE=2;class Ft extends Gt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ft.HEADER_SIZE+Gt.GTIN_SIZE)throw new W;let n=new ve;this.encodeCompressedGtin(n,Ft.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Gt.GTIN_SIZE,Ft.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Gt.GTIN_SIZE+Ft.LAST_DIGIT_SIZE,Ft.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Ft.HEADER_SIZE+Gt.GTIN_SIZE+Ft.LAST_DIGIT_SIZE+Ft.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()}}Ft.HEADER_SIZE=5+1+2,Ft.LAST_DIGIT_SIZE=2,Ft.FIRST_THREE_DIGITS_SIZE=10;class Xe extends ys{constructor(n,r,o){super(n),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Xe.HEADER_SIZE+Xe.GTIN_SIZE+Xe.WEIGHT_SIZE+Xe.DATE_SIZE)throw new W;let n=new ve;return this.encodeCompressedGtin(n,Xe.HEADER_SIZE),this.encodeCompressedWeight(n,Xe.HEADER_SIZE+Xe.GTIN_SIZE,Xe.WEIGHT_SIZE),this.encodeCompressedDate(n,Xe.HEADER_SIZE+Xe.GTIN_SIZE+Xe.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Xe.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let s=o%32;o/=32;let l=o%12+1;o/=12;let u=o;u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l),s/10==0&&n.append("0"),n.append(s)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}Xe.HEADER_SIZE=7+1,Xe.WEIGHT_SIZE=20,Xe.DATE_SIZE=16;function n1(y){try{if(y.get(1))return new Ci(y);if(!y.get(2))return new Es(y);switch(yi.extractNumericValueFromBitArray(y,1,4)){case 4:return new $h(y);case 5:return new eg(y)}switch(yi.extractNumericValueFromBitArray(y,1,5)){case 12:return new zn(y);case 13:return new Ft(y)}switch(yi.extractNumericValueFromBitArray(y,1,7)){case 56:return new Xe(y,"310","11");case 57:return new Xe(y,"320","11");case 58:return new Xe(y,"310","13");case 59:return new Xe(y,"320","13");case 60:return new Xe(y,"310","15");case 61:return new Xe(y,"320","15");case 62:return new Xe(y,"310","17");case 63:return new Xe(y,"320","17")}}catch(n){throw console.log(n),new Pn("unknown decoder: "+y)}}class gr{constructor(n,r,o,s){this.leftchar=n,this.rightchar=r,this.finderpattern=o,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof gr?gr.equalsOrNull(n.leftchar,r.leftchar)&&gr.equalsOrNull(n.rightchar,r.rightchar)&&gr.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:gr.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class il{constructor(n,r,o){this.pairs=n,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof il?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let o;return n.forEach((s,l)=>{r.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(o=!0)})}),o}}class X extends Dt{constructor(n){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(n,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;o=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let o=r;o<this.rows.length;o++){let s=this.rows[o];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(s);try{return this.checkRows(l,o+1)}catch(u){this.verbose&&console.log(u)}}throw new W}static isValidSequence(n){for(let r of X.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let o=!0;for(let s=0;s<n.length;s++)if(n[s].getFinderPattern().getValue()!=r[s]){o=!1;break}if(o)return!0}return!1}storeRow(n,r){let o=0,s=!1,l=!1;for(;o<this.rows.length;){let u=this.rows[o];if(u.getRowNumber()>n){l=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),o++}l||s||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new il(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let o of r)if(o.getPairs().length!==n.length){for(let s of o.getPairs())for(let l of n)if(gr.equals(s,l))break}}static isPartialRow(n,r){for(let o of r){let s=!0;for(let l of n){let u=!1;for(let d of o.getPairs())if(l.equals(d)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=Jh.buildBitArray(n),s=n1(r).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new Ze(s,null,null,d,ae.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let s=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);s+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(s+=p.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==r.getValue()}static getNextSecondBar(n,r){let o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o}retrieveNextPair(n,r,o){let s=r.length%2==0;this.startFromEven&&(s=!s);let l,u=!0,d=-1;do this.findNextPair(n,r,d),l=this.parseFoundFinderPattern(n,o,s),l==null?d=X.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,l,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let p;try{p=this.decodeDataCharacter(n,l,s,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new gr(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u;o>=0?u=o:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<l&&(h=!n.get(u),!!h);)u++;let p=0,w=u;for(let C=u;C<l;C++)if(n.get(C)!=h)s[p]++;else{if(p==3){if(d&&X.reverseCounters(s),X.isFinderPattern(s)){this.startEnd[0]=w,this.startEnd[1]=C;return}d&&X.reverseCounters(s),w+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,h=!h}throw new W}static reverseCounters(n){let r=n.length;for(let o=0;o<r/2;++o){let s=n[o];n[o]=n[r-o-1],n[r-o-1]=s}}parseFoundFinderPattern(n,r,o){let s,l,u;if(o){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,s=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let d=this.getDecodeFinderCounters();P.arraycopy(d,0,d,1,d.length-1),d[0]=s;let h;try{h=this.parseFinderValue(d,X.FINDER_PATTERNS)}catch{return null}return new ws(h,[l,u],l,u,r)}decodeDataCharacter(n,r,o,s){let l=this.getDataCharacterCounters();for(let Fe=0;Fe<l.length;Fe++)l[Fe]=0;if(s)X.recordPatternInReverse(n,r.getStartEnd()[0],l);else{X.recordPattern(n,r.getStartEnd()[1],l);for(let Fe=0,It=l.length-1;Fe<It;Fe++,It--){let en=l[Fe];l[Fe]=l[It],l[It]=en}}let u=17,d=Ie.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new W;let p=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Fe=0;Fe<l.length;Fe++){let It=1*l[Fe]/d,en=It+.5;if(en<1){if(It<.3)throw new W;en=1}else if(en>8){if(It>8.7)throw new W;en=8}let Ti=Fe/2;Fe&1?(w[Ti]=en,A[Ti]=It-en):(p[Ti]=en,C[Ti]=It-en)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(o?0:2)+(s?0:1)-1,M=0,R=0;for(let Fe=p.length-1;Fe>=0;Fe--){if(X.isNotA1left(r,o,s)){let It=X.WEIGHTS[T][2*Fe];R+=p[Fe]*It}M+=p[Fe]}let B=0;for(let Fe=w.length-1;Fe>=0;Fe--)if(X.isNotA1left(r,o,s)){let It=X.WEIGHTS[T][2*Fe+1];B+=w[Fe]*It}let U=R+B;if(M&1||M>13||M<4)throw new W;let K=(13-M)/2,q=X.SYMBOL_WIDEST[K],Q=9-q,Ce=Fn.getRSSvalue(p,q,!0),xe=Fn.getRSSvalue(w,Q,!1),Xt=X.EVEN_TOTAL_SUBSET[K],Nn=X.GSUM[K],Qt=Ce*Xt+xe+Nn;return new Ei(Qt,U)}static isNotA1left(n,r,o){return!(n.getValue()==0&&r&&o)}adjustOddEvenCounts(n){let r=Ie.sum(new Int32Array(this.getOddCounts())),o=Ie.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let h=r+o-n,p=(r&1)==1,w=(o&1)==0;if(h==1)if(p){if(w)throw new W;l=!0}else{if(!w)throw new W;d=!0}else if(h==-1)if(p){if(w)throw new W;s=!0}else{if(!w)throw new W;u=!0}else if(h==0){if(p){if(!w)throw new W;r<o?(s=!0,d=!0):(l=!0,u=!0)}else if(w)throw new W}else throw new W;if(s){if(l)throw new W;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new W;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class tg extends Ei{constructor(n,r,o){super(n,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class nt extends Dt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,o){const s=this.decodePair(r,!1,n,o);nt.addOrTally(this.possibleLeftPairs,s),r.reverse();let l=this.decodePair(r,!0,n,o);nt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&nt.checkChecksum(u,d))return nt.constructResult(u,d)}throw new W}static addOrTally(n,r){if(r==null)return;let o=!1;for(let s of n)if(s.getValue()===r.getValue()){s.incrementCount(),o=!0;break}o||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let o=4537077*n.getValue()+r.getValue(),s=new String(o).toString(),l=new ve;for(let p=13-s.length;p>0;p--)l.append("0");l.append(s);let u=0;for(let p=0;p<13;p++){let w=l.charAt(p).charCodeAt(0)-"0".charCodeAt(0);u+=p&1?w:3*w}u=10-u%10,u===10&&(u=0),l.append(u.toString());let d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ze(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(n,r){let o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,o===s}decodePair(n,r,o,s){try{let l=this.findFinderPattern(n,r),u=this.parseFoundFinderPattern(n,o,r,l),d=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(l[0]+l[1])/2;r&&(w=n.getSize()-1-w),d.foundPossibleResultPoint(new se(w,o))}let h=this.decodeDataCharacter(n,u,!0),p=this.decodeDataCharacter(n,u,!1);return new tg(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,r,o){let s=this.getDataCharacterCounters();for(let B=0;B<s.length;B++)s[B]=0;if(o)ut.recordPatternInReverse(n,r.getStartEnd()[0],s);else{ut.recordPattern(n,r.getStartEnd()[1]+1,s);for(let B=0,U=s.length-1;B<U;B++,U--){let K=s[B];s[B]=s[U],s[U]=K}}let l=o?16:15,u=Ie.sum(new Int32Array(s))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let B=0;B<s.length;B++){let U=s[B]/u,K=Math.floor(U+.5);K<1?K=1:K>8&&(K=8);let q=Math.floor(B/2);B&1?(h[q]=K,w[q]=U-K):(d[q]=K,p[q]=U-K)}this.adjustOddEvenCounts(o,l);let C=0,A=0;for(let B=d.length-1;B>=0;B--)A*=9,A+=d[B],C+=d[B];let T=0,M=0;for(let B=h.length-1;B>=0;B--)T*=9,T+=h[B],M+=h[B];let R=A+3*T;if(o){if(C&1||C>12||C<4)throw new W;let B=(12-C)/2,U=nt.OUTSIDE_ODD_WIDEST[B],K=9-U,q=Fn.getRSSvalue(d,U,!1),Q=Fn.getRSSvalue(h,K,!0),Ce=nt.OUTSIDE_EVEN_TOTAL_SUBSET[B],xe=nt.OUTSIDE_GSUM[B];return new Ei(q*Ce+Q+xe,R)}else{if(M&1||M>10||M<4)throw new W;let B=(10-M)/2,U=nt.INSIDE_ODD_WIDEST[B],K=9-U,q=Fn.getRSSvalue(d,U,!0),Q=Fn.getRSSvalue(h,K,!1),Ce=nt.INSIDE_ODD_TOTAL_SUBSET[B],xe=nt.INSIDE_GSUM[B];return new Ei(Q*Ce+q+xe,R)}}findFinderPattern(n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=n.getSize(),l=!1,u=0;for(;u<s&&(l=!n.get(u),r!==l);)u++;let d=0,h=u;for(let p=u;p<s;p++)if(n.get(p)!==l)o[d]++;else{if(d===3){if(Dt.isFinderPattern(o))return[h,p];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new W}parseFoundFinderPattern(n,r,o,s){let l=n.get(s[0]),u=s[0]-1;for(;u>=0&&l!==n.get(u);)u--;u++;const d=s[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);P.arraycopy(h,0,p,1,h.length-1),p[0]=d;const w=this.parseFinderValue(p,nt.FINDER_PATTERNS);let C=u,A=s[1];return o&&(C=n.getSize()-1-C,A=n.getSize()-1-A),new ws(w,[u,s[1]],C,A,r)}adjustOddEvenCounts(n,r){let o=Ie.sum(new Int32Array(this.getOddCounts())),s=Ie.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;n?(o>12?u=!0:o<4&&(l=!0),s>12?h=!0:s<4&&(d=!0)):(o>11?u=!0:o<5&&(l=!0),s>10?h=!0:s<4&&(d=!0));let p=o+s-r,w=(o&1)===(n?1:0),C=(s&1)===1;if(p===1)if(w){if(C)throw new W;u=!0}else{if(!C)throw new W;h=!0}else if(p===-1)if(w){if(C)throw new W;l=!0}else{if(!C)throw new W;d=!0}else if(p===0){if(w){if(!C)throw new W;o<s?(l=!0,h=!0):(u=!0,d=!0)}else if(C)throw new W}else throw new W;if(l){if(u)throw new W;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new W;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],nt.OUTSIDE_GSUM=[0,161,961,2015,2715],nt.INSIDE_GSUM=[0,336,1036,1516],nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],nt.INSIDE_ODD_WIDEST=[2,4,6,8],nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ai extends ut{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const o=n?n.get(J.POSSIBLE_FORMATS):null,s=n&&n.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ae.EAN_13)||o.includes(ae.UPC_A)||o.includes(ae.EAN_8)||o.includes(ae.UPC_E))&&this.readers.push(new tl(n)),o.includes(ae.CODE_39)&&this.readers.push(new dt(s)),o.includes(ae.CODE_128)&&this.readers.push(new te),o.includes(ae.ITF)&&this.readers.push(new ke),o.includes(ae.RSS_14)&&this.readers.push(new nt),o.includes(ae.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new tl(n)),this.readers.push(new dt),this.readers.push(new tl(n)),this.readers.push(new te),this.readers.push(new ke),this.readers.push(new nt),this.readers.push(new X(this.verbose)))}decodeRow(n,r,o){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,r,o)}catch{}throw new W}reset(){this.readers.forEach(n=>n.reset())}}class ng extends dn{constructor(n=500,r){super(new Ai(r),n,r)}}class Re{constructor(n,r,o){this.ecCodewords=n,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class De{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(n,r,o,s,l,u){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let w of p)d+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new z;for(let o of Ae.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===r)return o;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new Ae(1,10,10,8,8,new Re(5,new De(1,3))),new Ae(2,12,12,10,10,new Re(7,new De(1,5))),new Ae(3,14,14,12,12,new Re(10,new De(1,8))),new Ae(4,16,16,14,14,new Re(12,new De(1,12))),new Ae(5,18,18,16,16,new Re(14,new De(1,18))),new Ae(6,20,20,18,18,new Re(18,new De(1,22))),new Ae(7,22,22,20,20,new Re(20,new De(1,30))),new Ae(8,24,24,22,22,new Re(24,new De(1,36))),new Ae(9,26,26,24,24,new Re(28,new De(1,44))),new Ae(10,32,32,14,14,new Re(36,new De(1,62))),new Ae(11,36,36,16,16,new Re(42,new De(1,86))),new Ae(12,40,40,18,18,new Re(48,new De(1,114))),new Ae(13,44,44,20,20,new Re(56,new De(1,144))),new Ae(14,48,48,22,22,new Re(68,new De(1,174))),new Ae(15,52,52,24,24,new Re(42,new De(2,102))),new Ae(16,64,64,14,14,new Re(56,new De(2,140))),new Ae(17,72,72,16,16,new Re(36,new De(4,92))),new Ae(18,80,80,18,18,new Re(48,new De(4,114))),new Ae(19,88,88,20,20,new Re(56,new De(4,144))),new Ae(20,96,96,22,22,new Re(68,new De(4,174))),new Ae(21,104,104,24,24,new Re(56,new De(6,136))),new Ae(22,120,120,18,18,new Re(68,new De(6,175))),new Ae(23,132,132,20,20,new Re(62,new De(8,163))),new Ae(24,144,144,22,22,new Re(62,new De(8,156),new De(2,155))),new Ae(25,8,18,6,16,new Re(7,new De(1,5))),new Ae(26,8,32,6,14,new Re(11,new De(1,10))),new Ae(27,12,26,10,24,new Re(14,new De(1,16))),new Ae(28,12,36,10,16,new Re(18,new De(1,22))),new Ae(29,16,36,14,16,new Re(24,new De(1,32))),new Ae(30,16,48,14,22,new Re(28,new De(1,49)))]}}Ae.VERSIONS=Ae.buildVersions();class ol{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new z;this.version=ol.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new st(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),o=n.getWidth();return Ae.getVersionForDimensions(r,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,s=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,w=!1;do if(o===l&&s===0&&!d)n[r++]=this.readCorner1(l,u)&255,o-=2,s+=2,d=!0;else if(o===l-2&&s===0&&u&3&&!h)n[r++]=this.readCorner2(l,u)&255,o-=2,s+=2,h=!0;else if(o===l+4&&s===2&&!(u&7)&&!p)n[r++]=this.readCorner3(l,u)&255,o-=2,s+=2,p=!0;else if(o===l-2&&s===0&&(u&7)===4&&!w)n[r++]=this.readCorner4(l,u)&255,o-=2,s+=2,w=!0;else{do o<l&&s>=0&&!this.readMappingMatrix.get(s,o)&&(n[r++]=this.readUtah(o,s,l,u)&255),o-=2,s+=2;while(o>=0&&s<u);o+=1,s+=3;do o>=0&&s<u&&!this.readMappingMatrix.get(s,o)&&(n[r++]=this.readUtah(o,s,l,u)&255),o+=2,s-=2;while(o<l&&s>=0);o+=3,s+=1}while(o<l||s<u);if(r!==this.version.getTotalCodewords())throw new z;return n}readModule(n,r,o,s){return n<0&&(n+=o,r+=4-(o+4&7)),r<0&&(r+=s,n+=4-(s+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,o,s){let l=0;return this.readModule(n-2,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n-2,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r,o,s)&&(l|=1),l<<=1,this.readModule(n,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n,r,o,s)&&(l|=1),l}readCorner1(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,1,n,r)&&(o|=1),o<<=1,this.readModule(n-1,2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}readCorner2(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-4,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner3(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-3,n,r)&&(o|=1),o<<=1,this.readModule(1,r-2,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner4(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new v("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/s|0,d=o/l|0,h=u*s,p=d*l,w=new st(p,h);for(let C=0;C<u;++C){const A=C*s;for(let T=0;T<d;++T){const M=T*l;for(let R=0;R<s;++R){const B=C*(s+2)+1+R,U=A+R;for(let K=0;K<l;++K){const q=T*(l+2)+1+K;if(n.get(q,B)){const Q=M+K;w.set(Q,U)}}}}}return w}}class sl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const o=r.getECBlocks();let s=0;const l=o.getECBlocks();for(let R of l)s+=R.getCount();const u=new Array(s);let d=0;for(let R of l)for(let B=0;B<R.getCount();B++){const U=R.getDataCodewords(),K=o.getECCodewords()+U;u[d++]=new sl(U,new Uint8Array(K))}const p=u[0].codewords.length-o.getECCodewords(),w=p-1;let C=0;for(let R=0;R<w;R++)for(let B=0;B<d;B++)u[B].codewords[R]=n[C++];const A=r.getVersionNumber()===24,T=A?8:d;for(let R=0;R<T;R++)u[R].codewords[p-1]=n[C++];const M=u[0].codewords.length;for(let R=p;R<M;R++)for(let B=0;B<d;B++){const U=A?(B+8)%d:B,K=A&&U>7?R-1:R;u[U].codewords[K]=n[C++]}if(C!==n.length)throw new v;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class al{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new v(""+n);let r=0,o=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(o>0){const u=8-o,d=n<u?n:u,h=u-d,p=255>>8-d<<h;r=(l[s]&p)>>h,n-=d,o+=d,o===8&&(o=0,s++)}if(n>0){for(;n>=8;)r=r<<8|l[s]&255,s++,n-=8;if(n>0){const u=8-n,d=255>>u<<u;r=r<<n|(l[s]&d)>>u,o+=n}}return this.bitOffset=o,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class pr{static decode(n){const r=new al(n),o=new ve,s=new ve,l=new Array;let u=ht.ASCII_ENCODE;do if(u===ht.ASCII_ENCODE)u=this.decodeAsciiSegment(r,o,s);else{switch(u){case ht.C40_ENCODE:this.decodeC40Segment(r,o);break;case ht.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(r,o,l);break;default:throw new z}u=ht.ASCII_ENCODE}while(u!==ht.PAD_ENCODE&&r.available()>0);return s.length()>0&&o.append(s.toString()),new so(n,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,r,o){let s=!1;do{let l=n.readBits(8);if(l===0)throw new z;if(l<=128)return s&&(l+=128),r.append(String.fromCharCode(l-1)),ht.ASCII_ENCODE;if(l===129)return ht.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new z;break}}while(n.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(n,r){let o=!1;const s=[];let l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new z;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new z}l=0;break;case 3:o?(r.append(String.fromCharCode(h+224)),o=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new z}}}while(n.available()>0)}static decodeTextSegment(n,r){let o=!1,s=[],l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new z;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new z}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p),l=0}else throw new z;break;default:throw new z}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const o=[];do{if(n.available()===8)return;const s=n.readBits(8);if(s===254)return;this.parseTwoBytes(s,n.readBits(8),o);for(let l=0;l<3;l++){const u=o[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new z;break}}}while(n.available()>0)}static parseTwoBytes(n,r,o){let s=(n<<8)+r-1,l=Math.floor(s/1600);o[0]=l,s-=l*1600,l=Math.floor(s/40),o[1]=l,o[2]=s-l*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let s=n.readBits(6);if(s===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}s&32||(s|=64),r.append(String.fromCharCode(s))}}while(n.available()>0)}static decodeBase256Segment(n,r,o){let s=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),s++);let u;if(l===0?u=n.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(n.readBits(8),s++),u<0)throw new z;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new z;d[h]=this.unrandomize255State(n.readBits(8),s++)}o.push(d);try{r.append(_e.decode(d,fe.ISO88591))}catch(h){throw new Pn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,r){const o=149*r%255+1,s=n-o;return s>=0?s:s+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class rg{constructor(){this.rsDecoder=new lo(Me.DATA_MATRIX_FIELD_256)}decode(n){const r=new ol(n),o=r.getVersion(),s=r.readCodewords(),l=sl.getDataBlocks(s,o);let u=0;for(let p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const w=l[p],C=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(C,A);for(let T=0;T<A;T++)d[T*h+p]=C[T]}return pr.decode(d)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new b}for(let s=0;s<r;s++)n[s]=o[s]}}class at{constructor(n){this.image=n,this.rectangleDetector=new $n(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const o=r[0],s=r[1],l=r[2],u=r[3];let d=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(l,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=at.sampleGrid(this.image,o,s,l,u,d,h);return new ms(p,[o,s,l,u])}static shiftPoint(n,r,o){let s=(r.getX()-n.getX())/(o+1),l=(r.getY()-n.getY())/(o+1);return new se(n.getX()+s,n.getY()+l)}static moveAway(n,r,o){let s=n.getX(),l=n.getY();return s<r?s-=1:s+=1,l<o?l-=1:l+=1,new se(s,l)}detectSolid1(n){let r=n[0],o=n[1],s=n[3],l=n[2],u=this.transitionsBetween(r,o),d=this.transitionsBetween(o,s),h=this.transitionsBetween(s,l),p=this.transitionsBetween(l,r),w=u,C=[l,r,o,s];return w>d&&(w=d,C[0]=r,C[1]=o,C[2]=s,C[3]=l),w>h&&(w=h,C[0]=o,C[1]=s,C[2]=l,C[3]=r),w>p&&(C[0]=s,C[1]=l,C[2]=r,C[3]=o),C}detectSolid2(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l),d=at.shiftPoint(o,s,(u+1)*4),h=at.shiftPoint(s,o,(u+1)*4),p=this.transitionsBetween(d,r),w=this.transitionsBetween(h,l);return p<w?(n[0]=r,n[1]=o,n[2]=s,n[3]=l):(n[0]=o,n[1]=s,n[2]=l,n[3]=r),n}correctTopRight(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l),d=this.transitionsBetween(o,l),h=at.shiftPoint(r,o,(d+1)*4),p=at.shiftPoint(s,o,(u+1)*4);u=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let w=new se(l.getX()+(s.getX()-o.getX())/(u+1),l.getY()+(s.getY()-o.getY())/(u+1)),C=new se(l.getX()+(r.getX()-o.getX())/(d+1),l.getY()+(r.getY()-o.getY())/(d+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let A=this.transitionsBetween(h,w)+this.transitionsBetween(p,w),T=this.transitionsBetween(h,C)+this.transitionsBetween(p,C);return A>T?w:C}shiftToModuleCenter(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(s,l)+1,h=at.shiftPoint(r,o,d*4),p=at.shiftPoint(s,o,u*4);u=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let w=(r.getX()+o.getX()+s.getX()+l.getX())/4,C=(r.getY()+o.getY()+s.getY()+l.getY())/4;r=at.moveAway(r,w,C),o=at.moveAway(o,w,C),s=at.moveAway(s,w,C),l=at.moveAway(l,w,C);let A,T;return h=at.shiftPoint(r,o,d*4),h=at.shiftPoint(h,l,u*4),A=at.shiftPoint(o,r,d*4),A=at.shiftPoint(A,s,u*4),p=at.shiftPoint(s,l,d*4),p=at.shiftPoint(p,o,u*4),T=at.shiftPoint(l,s,d*4),T=at.shiftPoint(T,r,u*4),[h,A,p,T]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,o,s,l,u,d){return hr.getInstance().sampleGrid(n,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY(),o.getX(),o.getY())}transitionsBetween(n,r){let o=Math.trunc(n.getX()),s=Math.trunc(n.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-s)>Math.abs(l-o);if(d){let R=o;o=s,s=R,R=l,l=u,u=R}let h=Math.abs(l-o),p=Math.abs(u-s),w=-h/2,C=s<u?1:-1,A=o<l?1:-1,T=0,M=this.image.get(d?s:o,d?o:s);for(let R=o,B=s;R!==l;R+=A){let U=this.image.get(d?B:R,d?R:B);if(U!==M&&(T++,M=U),w+=p,w>0){if(B===u)break;B+=C,w-=h}}return T}}class mr{constructor(){this.decoder=new rg}decode(n,r=null){let o,s;if(r!=null&&r.has(J.PURE_BARCODE)){const p=mr.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(p),s=mr.NO_POINTS}else{const p=new at(n.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),s=p.getPoints()}const l=o.getRawBytes(),u=new Ze(o.getText(),l,8*l.length,s,ae.DATA_MATRIX,P.currentTimeMillis()),d=o.getByteSegments();d!=null&&u.putMetadata(xt.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!=null&&u.putMetadata(xt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r==null||o==null)throw new W;const s=this.moduleSize(r,n);let l=r[1];const u=o[1];let d=r[0];const p=(o[0]-d+1)/s,w=(u-l+1)/s;if(p<=0||w<=0)throw new W;const C=s/2;l+=C,d+=C;const A=new st(p,w);for(let T=0;T<w;T++){const M=l+T*s;for(let R=0;R<p;R++)n.get(d+R*s,M)&&A.set(R,T)}return A}static moduleSize(n,r){const o=r.getWidth();let s=n[0];const l=n[1];for(;s<o&&r.get(s,l);)s++;if(s===o)throw new W;const u=s-n[0];if(u===0)throw new W;return u}}mr.NO_POINTS=[];class ig extends dn{constructor(n=500){super(new mr,n)}}var vi;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(vi||(vi={}));class ze{constructor(n,r,o){this.value=n,this.stringValue=r,this.bits=o,ze.FOR_BITS.set(o,this),ze.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new S(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof ze))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=ze.FOR_BITS.size)throw new v;return ze.FOR_BITS.get(n)}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.L=new ze(vi.L,"L",1),ze.M=new ze(vi.M,"M",0),ze.Q=new ze(vi.Q,"Q",3),ze.H=new ze(vi.H,"H",2);class Rt{constructor(n){this.errorCorrectionLevel=ze.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return _.bitCount(n^r)}static decodeFormatInformation(n,r){const o=Rt.doDecodeFormatInformation(n,r);return o!==null?o:Rt.doDecodeFormatInformation(n^Rt.FORMAT_INFO_MASK_QR,r^Rt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let o=Number.MAX_SAFE_INTEGER,s=0;for(const l of Rt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===n||u===r)return new Rt(l[1]);let d=Rt.numBitsDiffering(n,u);d<o&&(s=l[1],o=d),n!==r&&(d=Rt.numBitsDiffering(r,u),d<o&&(s=l[1],o=d))}return o<=3?new Rt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Rt))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Rt.FORMAT_INFO_MASK_QR=21522,Rt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class k{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const o of r)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ue{constructor(n,r,...o){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=o;let s=0;const l=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();for(const d of u)s+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new z;try{return this.getVersionForNumber((n-17)/4)}catch{throw new z}}static getVersionForNumber(n){if(n<1||n>40)throw new v;return ue.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,o=0;for(let s=0;s<ue.VERSION_DECODE_INFO.length;s++){const l=ue.VERSION_DECODE_INFO[s];if(l===n)return ue.getVersionForNumber(s+7);const u=Rt.numBitsDiffering(n,l);u<r&&(o=s+7,r=u)}return r<=3?ue.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new st(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let s=0;s<o;s++){const l=this.alignmentPatternCenters[s]-2;for(let u=0;u<o;u++)s===0&&(u===0||u===o-1)||s===o-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ue.VERSIONS=[new ue(1,new Int32Array(0),new k(7,new I(1,19)),new k(10,new I(1,16)),new k(13,new I(1,13)),new k(17,new I(1,9))),new ue(2,Int32Array.from([6,18]),new k(10,new I(1,34)),new k(16,new I(1,28)),new k(22,new I(1,22)),new k(28,new I(1,16))),new ue(3,Int32Array.from([6,22]),new k(15,new I(1,55)),new k(26,new I(1,44)),new k(18,new I(2,17)),new k(22,new I(2,13))),new ue(4,Int32Array.from([6,26]),new k(20,new I(1,80)),new k(18,new I(2,32)),new k(26,new I(2,24)),new k(16,new I(4,9))),new ue(5,Int32Array.from([6,30]),new k(26,new I(1,108)),new k(24,new I(2,43)),new k(18,new I(2,15),new I(2,16)),new k(22,new I(2,11),new I(2,12))),new ue(6,Int32Array.from([6,34]),new k(18,new I(2,68)),new k(16,new I(4,27)),new k(24,new I(4,19)),new k(28,new I(4,15))),new ue(7,Int32Array.from([6,22,38]),new k(20,new I(2,78)),new k(18,new I(4,31)),new k(18,new I(2,14),new I(4,15)),new k(26,new I(4,13),new I(1,14))),new ue(8,Int32Array.from([6,24,42]),new k(24,new I(2,97)),new k(22,new I(2,38),new I(2,39)),new k(22,new I(4,18),new I(2,19)),new k(26,new I(4,14),new I(2,15))),new ue(9,Int32Array.from([6,26,46]),new k(30,new I(2,116)),new k(22,new I(3,36),new I(2,37)),new k(20,new I(4,16),new I(4,17)),new k(24,new I(4,12),new I(4,13))),new ue(10,Int32Array.from([6,28,50]),new k(18,new I(2,68),new I(2,69)),new k(26,new I(4,43),new I(1,44)),new k(24,new I(6,19),new I(2,20)),new k(28,new I(6,15),new I(2,16))),new ue(11,Int32Array.from([6,30,54]),new k(20,new I(4,81)),new k(30,new I(1,50),new I(4,51)),new k(28,new I(4,22),new I(4,23)),new k(24,new I(3,12),new I(8,13))),new ue(12,Int32Array.from([6,32,58]),new k(24,new I(2,92),new I(2,93)),new k(22,new I(6,36),new I(2,37)),new k(26,new I(4,20),new I(6,21)),new k(28,new I(7,14),new I(4,15))),new ue(13,Int32Array.from([6,34,62]),new k(26,new I(4,107)),new k(22,new I(8,37),new I(1,38)),new k(24,new I(8,20),new I(4,21)),new k(22,new I(12,11),new I(4,12))),new ue(14,Int32Array.from([6,26,46,66]),new k(30,new I(3,115),new I(1,116)),new k(24,new I(4,40),new I(5,41)),new k(20,new I(11,16),new I(5,17)),new k(24,new I(11,12),new I(5,13))),new ue(15,Int32Array.from([6,26,48,70]),new k(22,new I(5,87),new I(1,88)),new k(24,new I(5,41),new I(5,42)),new k(30,new I(5,24),new I(7,25)),new k(24,new I(11,12),new I(7,13))),new ue(16,Int32Array.from([6,26,50,74]),new k(24,new I(5,98),new I(1,99)),new k(28,new I(7,45),new I(3,46)),new k(24,new I(15,19),new I(2,20)),new k(30,new I(3,15),new I(13,16))),new ue(17,Int32Array.from([6,30,54,78]),new k(28,new I(1,107),new I(5,108)),new k(28,new I(10,46),new I(1,47)),new k(28,new I(1,22),new I(15,23)),new k(28,new I(2,14),new I(17,15))),new ue(18,Int32Array.from([6,30,56,82]),new k(30,new I(5,120),new I(1,121)),new k(26,new I(9,43),new I(4,44)),new k(28,new I(17,22),new I(1,23)),new k(28,new I(2,14),new I(19,15))),new ue(19,Int32Array.from([6,30,58,86]),new k(28,new I(3,113),new I(4,114)),new k(26,new I(3,44),new I(11,45)),new k(26,new I(17,21),new I(4,22)),new k(26,new I(9,13),new I(16,14))),new ue(20,Int32Array.from([6,34,62,90]),new k(28,new I(3,107),new I(5,108)),new k(26,new I(3,41),new I(13,42)),new k(30,new I(15,24),new I(5,25)),new k(28,new I(15,15),new I(10,16))),new ue(21,Int32Array.from([6,28,50,72,94]),new k(28,new I(4,116),new I(4,117)),new k(26,new I(17,42)),new k(28,new I(17,22),new I(6,23)),new k(30,new I(19,16),new I(6,17))),new ue(22,Int32Array.from([6,26,50,74,98]),new k(28,new I(2,111),new I(7,112)),new k(28,new I(17,46)),new k(30,new I(7,24),new I(16,25)),new k(24,new I(34,13))),new ue(23,Int32Array.from([6,30,54,78,102]),new k(30,new I(4,121),new I(5,122)),new k(28,new I(4,47),new I(14,48)),new k(30,new I(11,24),new I(14,25)),new k(30,new I(16,15),new I(14,16))),new ue(24,Int32Array.from([6,28,54,80,106]),new k(30,new I(6,117),new I(4,118)),new k(28,new I(6,45),new I(14,46)),new k(30,new I(11,24),new I(16,25)),new k(30,new I(30,16),new I(2,17))),new ue(25,Int32Array.from([6,32,58,84,110]),new k(26,new I(8,106),new I(4,107)),new k(28,new I(8,47),new I(13,48)),new k(30,new I(7,24),new I(22,25)),new k(30,new I(22,15),new I(13,16))),new ue(26,Int32Array.from([6,30,58,86,114]),new k(28,new I(10,114),new I(2,115)),new k(28,new I(19,46),new I(4,47)),new k(28,new I(28,22),new I(6,23)),new k(30,new I(33,16),new I(4,17))),new ue(27,Int32Array.from([6,34,62,90,118]),new k(30,new I(8,122),new I(4,123)),new k(28,new I(22,45),new I(3,46)),new k(30,new I(8,23),new I(26,24)),new k(30,new I(12,15),new I(28,16))),new ue(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new I(3,117),new I(10,118)),new k(28,new I(3,45),new I(23,46)),new k(30,new I(4,24),new I(31,25)),new k(30,new I(11,15),new I(31,16))),new ue(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new I(7,116),new I(7,117)),new k(28,new I(21,45),new I(7,46)),new k(30,new I(1,23),new I(37,24)),new k(30,new I(19,15),new I(26,16))),new ue(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new I(5,115),new I(10,116)),new k(28,new I(19,47),new I(10,48)),new k(30,new I(15,24),new I(25,25)),new k(30,new I(23,15),new I(25,16))),new ue(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new I(13,115),new I(3,116)),new k(28,new I(2,46),new I(29,47)),new k(30,new I(42,24),new I(1,25)),new k(30,new I(23,15),new I(28,16))),new ue(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new I(17,115)),new k(28,new I(10,46),new I(23,47)),new k(30,new I(10,24),new I(35,25)),new k(30,new I(19,15),new I(35,16))),new ue(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new I(17,115),new I(1,116)),new k(28,new I(14,46),new I(21,47)),new k(30,new I(29,24),new I(19,25)),new k(30,new I(11,15),new I(46,16))),new ue(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new I(13,115),new I(6,116)),new k(28,new I(14,46),new I(23,47)),new k(30,new I(44,24),new I(7,25)),new k(30,new I(59,16),new I(1,17))),new ue(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new I(12,121),new I(7,122)),new k(28,new I(12,47),new I(26,48)),new k(30,new I(39,24),new I(14,25)),new k(30,new I(22,15),new I(41,16))),new ue(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new I(6,121),new I(14,122)),new k(28,new I(6,47),new I(34,48)),new k(30,new I(46,24),new I(10,25)),new k(30,new I(2,15),new I(64,16))),new ue(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new I(17,122),new I(4,123)),new k(28,new I(29,46),new I(14,47)),new k(30,new I(49,24),new I(10,25)),new k(30,new I(24,15),new I(46,16))),new ue(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new I(4,122),new I(18,123)),new k(28,new I(13,46),new I(32,47)),new k(30,new I(48,24),new I(14,25)),new k(30,new I(42,15),new I(32,16))),new ue(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new I(20,117),new I(4,118)),new k(28,new I(40,47),new I(7,48)),new k(30,new I(43,24),new I(22,25)),new k(30,new I(10,15),new I(67,16))),new ue(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new I(19,118),new I(6,119)),new k(28,new I(18,47),new I(31,48)),new k(30,new I(34,24),new I(34,25)),new k(30,new I(20,15),new I(61,16)))];var wt;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class gn{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let o=0;o<r;o++)for(let s=0;s<r;s++)this.isMasked(o,s)&&n.flip(s,o)}}gn.values=new Map([[wt.DATA_MASK_000,new gn(wt.DATA_MASK_000,(y,n)=>(y+n&1)===0)],[wt.DATA_MASK_001,new gn(wt.DATA_MASK_001,(y,n)=>(y&1)===0)],[wt.DATA_MASK_010,new gn(wt.DATA_MASK_010,(y,n)=>n%3===0)],[wt.DATA_MASK_011,new gn(wt.DATA_MASK_011,(y,n)=>(y+n)%3===0)],[wt.DATA_MASK_100,new gn(wt.DATA_MASK_100,(y,n)=>(Math.floor(y/2)+Math.floor(n/3)&1)===0)],[wt.DATA_MASK_101,new gn(wt.DATA_MASK_101,(y,n)=>y*n%6===0)],[wt.DATA_MASK_110,new gn(wt.DATA_MASK_110,(y,n)=>y*n%6<3)],[wt.DATA_MASK_111,new gn(wt.DATA_MASK_111,(y,n)=>(y+n+y*n%3&1)===0)]]);class og{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new z;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const r=this.bitMatrix.getHeight();let o=0;const s=r-7;for(let l=r-1;l>=s;l--)o=this.copyBit(8,l,o);for(let l=r-8;l<r;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=Rt.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return ue.getVersionForNumber(r);let o=0;const s=n-11;for(let u=5;u>=0;u--)for(let d=n-9;d>=s;d--)o=this.copyBit(d,u,o);let l=ue.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;o=0;for(let u=5;u>=0;u--)for(let d=n-9;d>=s;d--)o=this.copyBit(u,d,o);if(l=ue.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new z}copyBit(n,r,o){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),o=gn.values.get(n.getDataMask()),s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s);const l=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,w=0;for(let C=s-1;C>0;C-=2){C===6&&C--;for(let A=0;A<s;A++){const T=u?s-1-A:A;for(let M=0;M<2;M++)l.get(C-M,T)||(w++,p<<=1,this.bitMatrix.get(C-M,T)&&(p|=1),w===8&&(d[h++]=p,w=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new z;return d}remask(){if(this.parsedFormatInfo===null)return;const n=gn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,o=n.getWidth();r<o;r++)for(let s=r+1,l=n.getHeight();s<l;s++)n.get(r,s)!==n.get(s,r)&&(n.flip(s,r),n.flip(r,s))}}class ll{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,o){if(n.length!==r.getTotalCodewords())throw new v;const s=r.getECBlocksForLevel(o);let l=0;const u=s.getECBlocks();for(const M of u)l+=M.getCount();const d=new Array(l);let h=0;for(const M of u)for(let R=0;R<M.getCount();R++){const B=M.getDataCodewords(),U=s.getECCodewordsPerBlock()+B;d[h++]=new ll(B,new Uint8Array(U))}const p=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==p;)w--;w++;const C=p-s.getECCodewordsPerBlock();let A=0;for(let M=0;M<C;M++)for(let R=0;R<h;R++)d[R].codewords[M]=n[A++];for(let M=w;M<h;M++)d[M].codewords[C]=n[A++];const T=d[0].codewords.length;for(let M=C;M<T;M++)for(let R=0;R<h;R++){const B=R<w?M:M+1;d[R].codewords[B]=n[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var pn;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(pn||(pn={}));class ce{constructor(n,r,o,s){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=s,ce.FOR_BITS.set(s,this),ce.FOR_VALUE.set(n,this)}static forBits(n){const r=ce.FOR_BITS.get(n);if(r===void 0)throw new v;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof ce))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}ce.FOR_BITS=new Map,ce.FOR_VALUE=new Map,ce.TERMINATOR=new ce(pn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ce.NUMERIC=new ce(pn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ce.ALPHANUMERIC=new ce(pn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ce.STRUCTURED_APPEND=new ce(pn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ce.BYTE=new ce(pn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ce.ECI=new ce(pn.ECI,"ECI",Int32Array.from([0,0,0]),7),ce.KANJI=new ce(pn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ce.FNC1_FIRST_POSITION=new ce(pn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ce.FNC1_SECOND_POSITION=new ce(pn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ce.HANZI=new ce(pn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ke{static decode(n,r,o,s){const l=new al(n);let u=new ve;const d=new Array;let h=-1,p=-1;try{let w=null,C=!1,A;do{if(l.available()<4)A=ce.TERMINATOR;else{const T=l.readBits(4);A=ce.forBits(T)}switch(A){case ce.TERMINATOR:break;case ce.FNC1_FIRST_POSITION:case ce.FNC1_SECOND_POSITION:C=!0;break;case ce.STRUCTURED_APPEND:if(l.available()<16)throw new z;h=l.readBits(8),p=l.readBits(8);break;case ce.ECI:const T=Ke.parseECIValue(l);if(w=H.getCharacterSetECIByValue(T),w===null)throw new z;break;case ce.HANZI:const M=l.readBits(4),R=l.readBits(A.getCharacterCountBits(r));M===Ke.GB2312_SUBSET&&Ke.decodeHanziSegment(l,u,R);break;default:const B=l.readBits(A.getCharacterCountBits(r));switch(A){case ce.NUMERIC:Ke.decodeNumericSegment(l,u,B);break;case ce.ALPHANUMERIC:Ke.decodeAlphanumericSegment(l,u,B,C);break;case ce.BYTE:Ke.decodeByteSegment(l,u,B,w,d,s);break;case ce.KANJI:Ke.decodeKanjiSegment(l,u,B);break;default:throw new z}break}}while(A!==ce.TERMINATOR)}catch{throw new z}return new so(n,u.toString(),d.length===0?null:d,o===null?null:o.toString(),h,p)}static decodeHanziSegment(n,r,o){if(o*13>n.available())throw new z;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,s[l]=d>>8&255,s[l+1]=d&255,l+=2,o--}try{r.append(_e.decode(s,fe.GB2312))}catch(u){throw new z(u)}}static decodeKanjiSegment(n,r,o){if(o*13>n.available())throw new z;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,s[l]=d>>8,s[l+1]=d,l+=2,o--}try{r.append(_e.decode(s,fe.SHIFT_JIS))}catch(u){throw new z(u)}}static decodeByteSegment(n,r,o,s,l,u){if(8*o>n.available())throw new z;const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=n.readBits(8);let h;s===null?h=fe.guessEncoding(d,u):h=s.getName();try{r.append(_e.decode(d,h))}catch(p){throw new z(p)}l.push(d)}static toAlphaNumericChar(n){if(n>=Ke.ALPHANUMERIC_CHARS.length)throw new z;return Ke.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,o,s){const l=r.length();for(;o>1;){if(n.available()<11)throw new z;const u=n.readBits(11);r.append(Ke.toAlphaNumericChar(Math.floor(u/45))),r.append(Ke.toAlphaNumericChar(u%45)),o-=2}if(o===1){if(n.available()<6)throw new z;r.append(Ke.toAlphaNumericChar(n.readBits(6)))}if(s)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(n,r,o){for(;o>=3;){if(n.available()<10)throw new z;const s=n.readBits(10);if(s>=1e3)throw new z;r.append(Ke.toAlphaNumericChar(Math.floor(s/100))),r.append(Ke.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(Ke.toAlphaNumericChar(s%10)),o-=3}if(o===2){if(n.available()<7)throw new z;const s=n.readBits(7);if(s>=100)throw new z;r.append(Ke.toAlphaNumericChar(Math.floor(s/10))),r.append(Ke.toAlphaNumericChar(s%10))}else if(o===1){if(n.available()<4)throw new z;const s=n.readBits(4);if(s>=10)throw new z;r.append(Ke.toAlphaNumericChar(s))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=n.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=n.readBits(16);return(r&31)<<16&4294967295|o}throw new z}}Ke.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ke.GB2312_SUBSET=1;class r1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class sg{constructor(){this.rsDecoder=new lo(Me.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(st.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const o=new og(n);let s=null;try{return this.decodeBitMatrixParser(o,r)}catch(l){s=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,r);return l.setOther(new r1(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(n,r){const o=n.readVersion(),s=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),u=ll.getDataBlocks(l,o,s);let d=0;for(const w of u)d+=w.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const w of u){const C=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(C,A);for(let T=0;T<A;T++)h[p++]=C[T]}return Ke.decode(h,o,s,r)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new b}for(let s=0;s<r;s++)n[s]=o[s]}}class ul extends se{constructor(n,r,o){super(n,r),this.estimatedModuleSize=o}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const s=(this.getX()+r)/2,l=(this.getY()+n)/2,u=(this.estimatedModuleSize+o)/2;return new ul(s,l,u)}}class Cs{constructor(n,r,o,s,l,u,d){this.image=n,this.startX=r,this.startY=o,this.width=s,this.height=l,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,o=this.width,s=n+o,l=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=n;for(;w<s&&!d.get(w,p);)w++;let C=0;for(;w<s;){if(d.get(w,p))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,w);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;w++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,s);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,o=r/2;for(let s=0;s<3;s++)if(Math.abs(r-n[s])>=o)return!1;return!0}crossCheckVertical(n,r,o,s){const l=this.image,u=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h)&&d[1]<=o;)d[1]++,h++;if(h===u||d[1]>o)return NaN;for(;h<u&&!l.get(r,h)&&d[2]<=o;)d[2]++,h++;if(d[2]>o)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(d)?Cs.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o){const s=n[0]+n[1]+n[2],l=Cs.centerFromEnd(n,o),u=this.crossCheckVertical(r,l,2*n[1],s);if(!isNaN(u)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,l))return p.combineEstimate(u,l,d);const h=new ul(l,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class cl extends se{constructor(n,r,o,s){super(n,r),this.estimatedModuleSize=o,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const s=this.count+1,l=(this.count*this.getX()+r)/s,u=(this.count*this.getY()+n)/s,d=(this.count*this.estimatedModuleSize+o)/s;return new cl(l,u,d,s)}}class ag{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Et{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(J.TRY_HARDER)!==void 0,o=n!=null&&n.get(J.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),u=s.getWidth();let d=Math.floor(3*l/(4*Et.MAX_MODULES));(d<Et.MIN_SKIP||r)&&(d=Et.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let C=d-1;C<l&&!h;C+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let T=0;T<u;T++)if(s.get(T,C))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(Et.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,T,o)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const R=this.findRowSkip();R>p[2]&&(C+=R-p[2]-d,T=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;Et.foundPatternCross(p)&&this.handlePossibleCenter(p,C,u,o)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return se.orderBestPatterns(w),new ag(w)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let l=0;l<5;l++){const u=n[l];if(u===0)return!1;r+=u}if(r<7)return!1;const o=r/7,s=o/2;return Math.abs(o-n[0])<s&&Math.abs(o-n[1])<s&&Math.abs(3*o-n[2])<3*s&&Math.abs(o-n[3])<s&&Math.abs(o-n[4])<s}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,o,s){const l=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;n>=u&&r>=u&&d.get(r-u,n-u);)l[2]++,u++;if(n<u||r<u)return!1;for(;n>=u&&r>=u&&!d.get(r-u,n-u)&&l[1]<=o;)l[1]++,u++;if(n<u||r<u||l[1]>o)return!1;for(;n>=u&&r>=u&&d.get(r-u,n-u)&&l[0]<=o;)l[0]++,u++;if(l[0]>o)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;n+u<h&&r+u<p&&d.get(r+u,n+u);)l[2]++,u++;if(n+u>=h||r+u>=p)return!1;for(;n+u<h&&r+u<p&&!d.get(r+u,n+u)&&l[3]<o;)l[3]++,u++;if(n+u>=h||r+u>=p||l[3]>=o)return!1;for(;n+u<h&&r+u<p&&d.get(r+u,n+u)&&l[4]<o;)l[4]++,u++;if(l[4]>=o)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-s)<2*s&&Et.foundPatternCross(l)}crossCheckVertical(n,r,o,s){const l=this.image,u=l.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(r,h)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=2*s?NaN:Et.foundPatternCross(d)?Et.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,r,o,s){const l=this.image,u=l.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(h,r)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=s?NaN:Et.foundPatternCross(d)?Et.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o,s){const l=n[0]+n[1]+n[2]+n[3]+n[4];let u=Et.centerFromEnd(n,o),d=this.crossCheckVertical(r,Math.floor(u),n[2],l);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),n[2],l),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),n[2],l)))){const h=l/7;let p=!1;const w=this.possibleCenters;for(let C=0,A=w.length;C<A;C++){const T=w[C];if(T.aboutEquals(h,d,u)){w[C]=T.combineEstimate(d,u,h),p=!0;break}}if(!p){const C=new cl(u,d,h);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=Et.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const o=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Et.CENTER_QUORUM&&(n++,r+=u.getEstimatedModuleSize());if(n<3)return!1;const s=r/o;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-s);return l<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new W;const r=this.possibleCenters;let o;if(n>3){let s=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();s+=p,l+=p*p}o=s/n;let u=Math.sqrt(l/n-o*o);r.sort((h,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-o),C=Math.abs(h.getEstimatedModuleSize()-o);return w<C?-1:w>C?1:0});const d=Math.max(.2*o,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-o)>d&&(r.splice(h,1),h--)}}if(r.length>3){let s=0;for(const l of r)s+=l.getEstimatedModuleSize();o=s/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-o),h=Math.abs(l.getEstimatedModuleSize()-o);return d<h?1:d>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Et.CENTER_QUORUM=2,Et.MIN_SKIP=3,Et.MAX_MODULES=57;class co{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(J.NEED_RESULT_POINT_CALLBACK);const o=new Et(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const r=n.getTopLeft(),o=n.getTopRight(),s=n.getBottomLeft(),l=this.calculateModuleSize(r,o,s);if(l<1)throw new W("No pattern found in proccess finder.");const u=co.computeDimension(r,o,s,l),d=ue.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const T=o.getX()-r.getX()+s.getX(),M=o.getY()-r.getY()+s.getY(),R=1-3/h,B=Math.floor(r.getX()+R*(T-r.getX())),U=Math.floor(r.getY()+R*(M-r.getY()));for(let K=4;K<=16;K<<=1)try{p=this.findAlignmentInRegion(l,B,U,K);break}catch(q){if(!(q instanceof W))throw q}}const w=co.createTransform(r,o,s,p,u),C=co.sampleGrid(this.image,w,u);let A;return p===null?A=[s,r,o]:A=[s,r,o,p],new ms(C,A)}static createTransform(n,r,o,s,l){const u=l-3.5;let d,h,p,w;return s!==null?(d=s.getX(),h=s.getY(),p=u-3,w=p):(d=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),p=u,w=u),In.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,w,3.5,u,n.getX(),n.getY(),r.getX(),r.getY(),d,h,o.getX(),o.getY())}static sampleGrid(n,r,o){return hr.getInstance().sampleGridWithTransform(n,o,o,r)}static computeDimension(n,r,o,s){const l=Ie.round(se.distance(n,r)/s),u=Ie.round(se.distance(n,o)/s);let d=Math.floor((l+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new W("Dimensions could be not found.")}return d}calculateModuleSize(n,r,o){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?s/7:isNaN(s)?o/7:(o+s)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,o,s){let l=this.sizeOfBlackWhiteBlackRun(n,r,o,s),u=1,d=n-(o-n);d<0?(u=n/(n-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(r-(s-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*u),l+=this.sizeOfBlackWhiteBlackRun(n,r,d,h),l-1}sizeOfBlackWhiteBlackRun(n,r,o,s){const l=Math.abs(s-r)>Math.abs(o-n);if(l){let T=n;n=r,r=T,T=o,o=s,s=T}const u=Math.abs(o-n),d=Math.abs(s-r);let h=-u/2;const p=n<o?1:-1,w=r<s?1:-1;let C=0;const A=o+p;for(let T=n,M=r;T!==A;T+=p){const R=l?M:T,B=l?T:M;if(C===1===this.image.get(R,B)){if(C===2)return Ie.distance(T,M,n,r);C++}if(h+=d,h>0){if(M===s)break;M+=w,h-=u}}return C===2?Ie.distance(o+p,s,n,r):NaN}findAlignmentInRegion(n,r,o,s){const l=Math.floor(s*n),u=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-u<n*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,o-l),p=Math.min(this.image.getHeight()-1,o+l);if(p-h<n*3)throw new W("Alignment bottom exceeds estimated module size.");return new Cs(this.image,u,h,d-u,p-h,n,this.resultPointCallback).find()}}class xr{constructor(){this.decoder=new sg}getDecoder(){return this.decoder}decode(n,r){let o,s;if(r!=null&&r.get(J.PURE_BARCODE)!==void 0){const h=xr.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,r),s=xr.NO_POINTS}else{const h=new co(n.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(h.getBits(),r),s=h.getPoints()}o.getOther()instanceof r1&&o.getOther().applyMirroredCorrection(s);const l=new Ze(o.getText(),o.getRawBytes(),void 0,s,ae.QR_CODE,void 0),u=o.getByteSegments();u!==null&&l.putMetadata(xt.BYTE_SEGMENTS,u);const d=o.getECLevel();return d!==null&&l.putMetadata(xt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(xt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r===null||o===null)throw new W;const s=this.moduleSize(r,n);let l=r[1],u=o[1],d=r[0],h=o[0];if(d>=h||l>=u)throw new W;if(u-l!==h-d&&(h=d+(u-l),h>=n.getWidth()))throw new W;const p=Math.round((h-d+1)/s),w=Math.round((u-l+1)/s);if(p<=0||w<=0)throw new W;if(w!==p)throw new W;const C=Math.floor(s/2);l+=C,d+=C;const A=d+Math.floor((p-1)*s)-h;if(A>0){if(A>C)throw new W;d-=A}const T=l+Math.floor((w-1)*s)-u;if(T>0){if(T>C)throw new W;l-=T}const M=new st(p,w);for(let R=0;R<w;R++){const B=l+Math.floor(R*s);for(let U=0;U<p;U++)n.get(d+Math.floor(U*s),B)&&M.set(U,R)}return M}static moduleSize(n,r){const o=r.getHeight(),s=r.getWidth();let l=n[0],u=n[1],d=!0,h=0;for(;l<s&&u<o;){if(d!==r.get(l,u)){if(++h===5)break;d=!d}l++,u++}if(l===s||u===o)throw new W;return(l-n[0])/7}}xr.NO_POINTS=new Array;class ge{PDF417Common(){}static getBitCountSum(n){return Ie.sum(n)}static toIntArray(n){if(n==null||!n.length)return ge.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let o=0;for(const s of n)r[o++]=s;return r}static getCodeword(n){const r=N.binarySearch(ge.SYMBOL_TABLE,n&262143);return r<0?-1:(ge.CODEWORD_TABLE[r]-1)%ge.NUMBER_OF_CODEWORDS}}ge.NUMBER_OF_CODEWORDS=929,ge.MAX_CODEWORDS_IN_BARCODE=ge.NUMBER_OF_CODEWORDS-1,ge.MIN_ROWS_IN_BARCODE=3,ge.MAX_ROWS_IN_BARCODE=90,ge.MODULES_IN_CODEWORD=17,ge.MODULES_IN_STOP_PATTERN=18,ge.BARS_IN_MODULE=8,ge.EMPTY_INT_ARRAY=new Int32Array([]),ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lg{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(n,r,o){let s=n.getBlackMatrix(),l=we.detect(o,s);return l.length||(s=s.clone(),s.rotate180(),l=we.detect(o,s)),new lg(s,l)}static detect(n,r){const o=new Array;let s=0,l=0,u=!1;for(;s<r.getHeight();){const d=we.findVertices(r,s,l);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,l=0;for(const h of o)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=we.ROW_STEP;continue}if(u=!0,o.push(d),!n)break;d[2]!=null?(l=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return o}static findVertices(n,r,o){const s=n.getHeight(),l=n.getWidth(),u=new Array(8);return we.copyToResult(u,we.findRowsWithPattern(n,s,l,r,o,we.START_PATTERN),we.INDEXES_START_PATTERN),u[4]!=null&&(o=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),we.copyToResult(u,we.findRowsWithPattern(n,s,l,r,o,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),u}static copyToResult(n,r,o){for(let s=0;s<o.length;s++)n[o[s]]=r[s]}static findRowsWithPattern(n,r,o,s,l,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;s<r;s+=we.ROW_STEP){let C=we.findGuardPattern(n,l,s,o,!1,u,p);if(C!=null){for(;s>0;){const A=we.findGuardPattern(n,l,--s,o,!1,u,p);if(A!=null)C=A;else{s++;break}}d[0]=new se(C[0],s),d[1]=new se(C[1],s),h=!0;break}}let w=s+1;if(h){let C=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<r;w++){const T=we.findGuardPattern(n,A[0],w,o,!1,u,p);if(T!=null&&Math.abs(A[0]-T[0])<we.MAX_PATTERN_DRIFT&&Math.abs(A[1]-T[1])<we.MAX_PATTERN_DRIFT)A=T,C=0;else{if(C>we.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,d[2]=new se(A[0],w),d[3]=new se(A[1],w)}return w-s<we.BARCODE_MIN_HEIGHT&&N.fill(d,null),d}static findGuardPattern(n,r,o,s,l,u,d){N.fillWithin(d,0,d.length,0);let h=r,p=0;for(;n.get(h,o)&&h>0&&p++<we.MAX_PIXEL_DRIFT;)h--;let w=h,C=0,A=u.length;for(let T=l;w<s;w++)if(n.get(w,o)!==T)d[C]++;else{if(C===A-1){if(we.patternMatchVariance(d,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=d[0]+d[1],P.arraycopy(d,2,d,0,C-1),d[C-1]=0,d[C]=0,C--}else C++;d[C]=1,T=!T}return C===A-1&&we.patternMatchVariance(d,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(n,r,o){let s=n.length,l=0,u=0;for(let p=0;p<s;p++)l+=n[p],u+=r[p];if(l<u)return 1/0;let d=l/u;o*=d;let h=0;for(let p=0;p<s;p++){let w=n[p],C=r[p]*d,A=w>C?w-C:C-w;if(A>o)return 1/0;h+=A}return h/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class vt{constructor(n,r){if(r.length===0)throw new v;this.field=n;let o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-s),P.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let r=this.coefficients[0],o=this.coefficients.length;for(let s=1;s<o;s++)r=this.field.add(this.field.multiply(n,r),this.coefficients[s]);return r}add(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){let u=r;r=o,o=u}let s=new Int32Array(o.length),l=o.length-r.length;P.arraycopy(o,0,s,0,l);for(let u=l;u<o.length;u++)s[u]=this.field.add(r[u-l],o[u]);return new vt(this.field,s)}subtract(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof vt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new vt(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,s=n.coefficients,l=s.length,u=new Int32Array(o+l-1);for(let d=0;d<o;d++){let h=r[d];for(let p=0;p<l;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,s[p]))}return new vt(this.field,u)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new vt(this.field,r)}multiplyScalar(n){if(n===0)return new vt(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new vt(this.field,o)}multiplyByMonomial(n,r){if(n<0)throw new v;if(r===0)return new vt(this.field,new Int32Array([0]));let o=this.coefficients.length,s=new Int32Array(o+n);for(let l=0;l<o;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new vt(this.field,s)}toString(){let n=new ve;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(r===0||o!==1)&&n.append(o),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class ug{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new v;return this.logTable[n]}inverse(n){if(n===0)throw new gs;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class fl extends ug{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let s=0;s<n;s++)this.expTable[s]=o,o=o*r%n;for(let s=0;s<n-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new vt(this,new Int32Array([0])),this.one=new vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new v;if(r===0)return this.zero;let o=new Int32Array(n+1);return o[0]=r,new vt(this,o)}}fl.PDF417_GF=new fl(ge.NUMBER_OF_CODEWORDS,3);class i1{constructor(){this.field=fl.PDF417_GF}decode(n,r,o){let s=new vt(this.field,n),l=new Int32Array(r),u=!1;for(let M=r;M>0;M--){let R=s.evaluateAt(this.field.exp(M));l[r-M]=R,R!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(o!=null)for(const M of o){let R=this.field.exp(n.length-1-M),B=new vt(this.field,new Int32Array([this.field.subtract(0,R),1]));d=d.multiply(B)}let h=new vt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),w=p[0],C=p[1],A=this.findErrorLocations(w),T=this.findErrorMagnitudes(C,w,A);for(let M=0;M<A.length;M++){let R=n.length-1-this.field.log(A[M]);if(R<0)throw b.getChecksumInstance();n[R]=this.field.subtract(n[R],T[M])}return A.length}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){let A=n;n=r,r=A}let s=n,l=r,u=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let A=s,T=u;if(s=l,u=d,s.isZero())throw b.getChecksumInstance();l=A;let M=this.field.getZero(),R=s.getCoefficient(s.getDegree()),B=this.field.inverse(R);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let U=l.getDegree()-s.getDegree(),K=this.field.multiply(l.getCoefficient(l.getDegree()),B);M=M.add(this.field.buildMonomial(U,K)),l=l.subtract(s.multiplyByMonomial(U,K))}d=M.multiply(u).subtract(T).negative()}let h=d.getCoefficient(0);if(h===0)throw b.getChecksumInstance();let p=this.field.inverse(h),w=d.multiply(p),C=l.multiply(p);return[w,C]}findErrorLocations(n){let r=n.getDegree(),o=new Int32Array(r),s=0;for(let l=1;l<this.field.getSize()&&s<r;l++)n.evaluateAt(l)===0&&(o[s]=this.field.inverse(l),s++);if(s!==r)throw b.getChecksumInstance();return o}findErrorMagnitudes(n,r,o){let s=r.getDegree(),l=new Int32Array(s);for(let p=1;p<=s;p++)l[s-p]=this.field.multiply(p,r.getCoefficient(p));let u=new vt(this.field,l),d=o.length,h=new Int32Array(d);for(let p=0;p<d;p++){let w=this.field.inverse(o[p]),C=this.field.subtract(0,n.evaluateAt(w)),A=this.field.inverse(u.evaluateAt(w));h[p]=this.field.multiply(C,A)}return h}}class qr{constructor(n,r,o,s,l){n instanceof qr?this.constructor_2(n):this.constructor_1(n,r,o,s,l)}constructor_1(n,r,o,s,l){const u=r==null||o==null,d=s==null||l==null;if(u&&d)throw new W;u?(r=new se(0,s.getY()),o=new se(0,l.getY())):d&&(s=new se(n.getWidth()-1,r.getY()),l=new se(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=r,this.bottomLeft=o,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new qr(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,o){let s=this.topLeft,l=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(n>0){let h=o?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let w=new se(h.getX(),p);o?s=w:u=w}if(r>0){let h=o?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new se(h.getX(),p);o?l=w:d=w}return new qr(this.image,s,l,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cg{constructor(n,r,o,s){this.columnCount=n,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fo{constructor(){this.buffer=""}static form(n,r){let o=-1;function s(u,d,h,p,w,C){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,T;switch(C){case"s":T=r[o];break;case"c":T=r[o][0];break;case"f":T=parseFloat(r[o]).toFixed(u);break;case"p":T=parseFloat(r[o]).toPrecision(u);break;case"e":T=parseFloat(r[o]).toExponential(u);break;case"x":T=parseInt(r[o]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[o],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let M=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";for(;T.length<M;)T=d!==void 0?T+R:R+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,s)}format(n,...r){this.buffer+=fo.form(n,r)}toString(){return this.buffer}}class ho{constructor(n){this.boundingBox=new qr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let o=1;o<ho.MAX_NEARBY_DISTANCE;o++){let s=this.imageRowToCodewordIndex(n)-o;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(n)+o,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new fo;let r=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return n.toString()}}ho.MAX_NEARBY_DISTANCE=5;class go{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[o,s]of this.values.entries()){const l={getKey:()=>o,getValue:()=>s};l.getValue()>n?(n=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===n&&r.push(l.getKey())}return ge.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class o1 extends ho{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,w=0;for(let C=u;C<d;C++){if(r[C]==null)continue;let A=r[C],T=A.getRowNumber()-h;if(T===0)w++;else if(T===1)p=Math.max(p,w),w=1,h=A.getRowNumber();else if(T<0||A.getRowNumber()>=n.getRowCount()||T>C)r[C]=null;else{let M;p>2?M=(p-2)*T:M=T;let R=M>=C;for(let B=1;B<=M&&!R;B++)R=r[C-B]!=null;R?r[C]=null:(h=A.getRowNumber(),w=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let s=o.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(d[p]==null)continue;let w=d[p];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-h;C===0||(C===1?h=w.getRowNumber():w.getRowNumber()>=n.getRowCount()?d[p]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new go,o=new go,s=new go,l=new go;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<ge.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>ge.MAX_ROWS_IN_BARCODE)return null;let u=new cg(r.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,r){for(let o=0;o<n.length;o++){let s=n[o];if(n[o]==null)continue;let l=s.getValue()%30,u=s.getRowNumber();if(u>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:l+1!==r.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class po{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=ge.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let s=0;s<o.length;s++)o[s]!=null&&(o[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&r[o]!=null&&n[o].getRowNumber()===r[o].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[o];l!=null&&(l.setRowNumber(n[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=po.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=po.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,o){if(!this.detectionResultColumns[n-1])return;let s=o[r],l=this.detectionResultColumns[n-1].getCodewords(),u=l;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=u[r],r>0&&(d[0]=o[r-1],d[4]=l[r-1],d[5]=u[r-1]),r>1&&(d[8]=o[r-2],d[10]=l[r-2],d[11]=u[r-2]),r<o.length-1&&(d[1]=o[r+1],d[6]=l[r+1],d[7]=u[r+1]),r<o.length-2&&(d[9]=o[r+2],d[12]=l[r+2],d[13]=u[r+2]);for(let h of d)if(po.adjustRowNumber(s,h))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new fo;for(let o=0;o<n.getCodewords().length;o++){r.format("CW %3d:",o);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[o];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class mo{constructor(n,r,o,s){this.rowNumber=mo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==mo.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}mo.BARCODE_ROW_UNKNOWN=-1;class Yt{static initialize(){for(let n=0;n<ge.SYMBOL_TABLE.length;n++){let r=ge.SYMBOL_TABLE[n],o=r&1;for(let s=0;s<ge.BARS_IN_MODULE;s++){let l=0;for(;(r&1)===o;)l+=1,r>>=1;o=r&1,Yt.RATIOS_TABLE[n]||(Yt.RATIOS_TABLE[n]=new Array(ge.BARS_IN_MODULE)),Yt.RATIOS_TABLE[n][ge.BARS_IN_MODULE-s-1]=Math.fround(l/ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=Yt.getDecodedCodewordValue(Yt.sampleBitCounts(n));return r!==-1?r:Yt.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=Ie.sum(n),o=new Int32Array(ge.BARS_IN_MODULE),s=0,l=0;for(let u=0;u<ge.MODULES_IN_CODEWORD;u++){let d=r/(2*ge.MODULES_IN_CODEWORD)+u*r/ge.MODULES_IN_CODEWORD;l+n[s]<=d&&(l+=n[s],s++),o[s]++}return o}static getDecodedCodewordValue(n){let r=Yt.getBitValue(n);return ge.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let o=0;o<n.length;o++)for(let s=0;s<n[o];s++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=Ie.sum(n),o=new Array(ge.BARS_IN_MODULE);if(r>1)for(let u=0;u<o.length;u++)o[u]=Math.fround(n[u]/r);let s=ps.MAX_VALUE,l=-1;this.bSymbolTableReady||Yt.initialize();for(let u=0;u<Yt.RATIOS_TABLE.length;u++){let d=0,h=Yt.RATIOS_TABLE[u];for(let p=0;p<ge.BARS_IN_MODULE;p++){let w=Math.fround(h[p]-o[p]);if(d+=Math.fround(w*w),d>=s)break}d<s&&(s=d,l=ge.SYMBOL_TABLE[u])}return l}}Yt.bSymbolTableReady=!1,Yt.RATIOS_TABLE=new Array(ge.SYMBOL_TABLE.length).map(y=>new Array(ge.BARS_IN_MODULE));class s1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class a1{static parseLong(n,r=void 0){return parseInt(n,r)}}class l1 extends m{}l1.kind="NullPointerException";class fg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,o){if(n==null)throw new l1;if(r<0||r>n.length||o<0||r+o>n.length||r+o<0)throw new Y;if(o===0)return;for(let s=0;s<o;s++)this.write(n[r+s])}flush(){}close(){}}class dg extends m{}class hg extends fg{constructor(n=32){if(super(),this.count=0,n<0)throw new v("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new dg;o=_.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new Y;this.ensureCapacity(this.count+o),P.arraycopy(n,r,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Be;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Be||(Be={}));function u1(){if(typeof window<"u")return window.BigInt||null;if(typeof Eo<"u")return Eo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let As;function wr(y){if(typeof As>"u"&&(As=u1()),As===null)throw new Error("BigInt is not supported!");return As(y)}function gg(){let y=[];y[0]=wr(1);let n=wr(900);y[1]=n;for(let r=2;r<16;r++)y[r]=y[r-1]*n;return y}class F{static decode(n,r){let o=new ve(""),s=H.ISO8859_1;o.enableDecoding(s);let l=1,u=n[l++],d=new s1;for(;l<n[0];){switch(u){case F.TEXT_COMPACTION_MODE_LATCH:l=F.textCompaction(n,l,o);break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:l=F.byteCompaction(u,n,s,l,o);break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[l++]);break;case F.NUMERIC_COMPACTION_MODE_LATCH:l=F.numericCompaction(n,l,o);break;case F.ECI_CHARSET:H.getCharacterSetECIByValue(n[l++]);break;case F.ECI_GENERAL_PURPOSE:l+=2;break;case F.ECI_USER_DEFINED:l++;break;case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=F.decodeMacroBlock(n,l,d);break;case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:throw new z;default:l--,l=F.textCompaction(n,l,o);break}if(l<n.length)u=n[l++];else throw z.getFormatInstance()}if(o.length()===0)throw z.getFormatInstance();let h=new so(null,o.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(n,r,o){if(r+F.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw z.getFormatInstance();let s=new Int32Array(F.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<F.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)s[d]=n[r];o.setSegmentIndex(_.parseInt(F.decodeBase900toBase10(s,F.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ve;r=F.textCompaction(n,r,l),o.setFileId(l.toString());let u=-1;for(n[r]===F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<n[0];)switch(n[r]){case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new ve;r=F.textCompaction(n,r+1,d),o.setFileName(d.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ve;r=F.textCompaction(n,r+1,h),o.setSender(h.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ve;r=F.textCompaction(n,r+1,p),o.setAddressee(p.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ve;r=F.numericCompaction(n,r+1,w),o.setSegmentCount(_.parseInt(w.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new ve;r=F.numericCompaction(n,r+1,C),o.setTimestamp(a1.parseLong(C.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new ve;r=F.numericCompaction(n,r+1,A),o.setChecksum(_.parseInt(A.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new ve;r=F.numericCompaction(n,r+1,T),o.setFileSize(a1.parseLong(T.toString()));break;default:throw z.getFormatInstance()}break;case F.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(u!==-1){let d=r-u;o.isLastSegment()&&d--,o.setOptionalData(N.copyOfRange(n,u,u+d))}return r}static textCompaction(n,r,o){let s=new Int32Array((n[0]-r)*2),l=new Int32Array((n[0]-r)*2),u=0,d=!1;for(;r<n[0]&&!d;){let h=n[r++];if(h<F.TEXT_COMPACTION_MODE_LATCH)s[u]=h/30,s[u+1]=h%30,u+=2;else switch(h){case F.TEXT_COMPACTION_MODE_LATCH:s[u++]=F.TEXT_COMPACTION_MODE_LATCH;break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[r++],l[u]=h,u++;break}}return F.decodeTextCompaction(s,l,u,o),r}static decodeTextCompaction(n,r,o,s){let l=Be.ALPHA,u=Be.ALPHA,d=0;for(;d<o;){let h=n[d],p="";switch(l){case Be.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case F.LL:l=Be.LOWER;break;case F.ML:l=Be.MIXED;break;case F.PS:u=l,l=Be.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case F.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case F.AS:u=l,l=Be.ALPHA_SHIFT;break;case F.ML:l=Be.MIXED;break;case F.PS:u=l,l=Be.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case F.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.MIXED:if(h<F.PL)p=F.MIXED_CHARS[h];else switch(h){case F.PL:l=Be.PUNCT;break;case 26:p=" ";break;case F.LL:l=Be.LOWER;break;case F.AL:l=Be.ALPHA;break;case F.PS:u=l,l=Be.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case F.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.PUNCT:if(h<F.PAL)p=F.PUNCT_CHARS[h];else switch(h){case F.PAL:l=Be.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case F.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case F.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.PUNCT_SHIFT:if(l=u,h<F.PAL)p=F.PUNCT_CHARS[h];else switch(h){case F.PAL:l=Be.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case F.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break}p!==""&&s.append(p),d++}}static byteCompaction(n,r,o,s,l){let u=new hg,d=0,h=0,p=!1;switch(n){case F.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=r[s++];for(;s<r[0]&&!p;)switch(w[d++]=C,h=900*h+C,C=r[s++],C){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)u.write(Number(wr(h)>>wr(8*(5-A))));h=0,d=0}break}s===r[0]&&C<F.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=C);for(let A=0;A<d;A++)u.write(w[A]);break;case F.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!p;){let A=r[s++];if(A<F.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(d%5===0&&d>0){for(let T=0;T<6;++T)u.write(Number(wr(h)>>wr(8*(5-T))));h=0,d=0}}break}return l.append(_e.decode(u.toByteArray(),o)),s}static numericCompaction(n,r,o){let s=0,l=!1,u=new Int32Array(F.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!l;){let d=n[r++];if(r===n[0]&&(l=!0),d<F.TEXT_COMPACTION_MODE_LATCH)u[s]=d,s++;else switch(d){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(s%F.MAX_NUMERIC_CODEWORDS===0||d===F.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(o.append(F.decodeBase900toBase10(u,s)),s=0)}return r}static decodeBase900toBase10(n,r){let o=wr(0);for(let l=0;l<r;l++)o+=F.EXP900[r-l-1]*wr(n[l]);let s=o.toString();if(s.charAt(0)!=="1")throw new z;return s.substring(1)}}F.TEXT_COMPACTION_MODE_LATCH=900,F.BYTE_COMPACTION_MODE_LATCH=901,F.NUMERIC_COMPACTION_MODE_LATCH=902,F.BYTE_COMPACTION_MODE_LATCH_6=924,F.ECI_USER_DEFINED=925,F.ECI_GENERAL_PURPOSE=926,F.ECI_CHARSET=927,F.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,F.MACRO_PDF417_TERMINATOR=922,F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,F.MAX_NUMERIC_CODEWORDS=15,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,F.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,F.PL=25,F.LL=27,F.AS=27,F.ML=28,F.AL=28,F.PS=29,F.PAL=29,F.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,F.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",F.EXP900=u1()?gg():[],F.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ee{constructor(){}static decode(n,r,o,s,l,u,d){let h=new qr(n,r,o,s,l),p=null,w=null,C;for(let M=!0;;M=!1){if(r!=null&&(p=Ee.getRowIndicatorColumn(n,h,r,!0,u,d)),s!=null&&(w=Ee.getRowIndicatorColumn(n,h,s,!1,u,d)),C=Ee.merge(p,w),C==null)throw W.getNotFoundInstance();let R=C.getBoundingBox();if(M&&R!=null&&(R.getMinY()<h.getMinY()||R.getMaxY()>h.getMaxY()))h=R;else break}C.setBoundingBox(h);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(A,w);let T=p!=null;for(let M=1;M<=A;M++){let R=T?M:A-M;if(C.getDetectionResultColumn(R)!==void 0)continue;let B;R===0||R===A?B=new o1(h,R===0):B=new ho(h),C.setDetectionResultColumn(R,B);let U=-1,K=U;for(let q=h.getMinY();q<=h.getMaxY();q++){if(U=Ee.getStartColumn(C,R,q,T),U<0||U>h.getMaxX()){if(K===-1)continue;U=K}let Q=Ee.detectCodeword(n,h.getMinX(),h.getMaxX(),T,U,q,u,d);Q!=null&&(B.setCodeword(q,Q),K=U,u=Math.min(u,Q.getWidth()),d=Math.max(d,Q.getWidth()))}}return Ee.createDecoderResult(C)}static merge(n,r){if(n==null&&r==null)return null;let o=Ee.getBarcodeMetadata(n,r);if(o==null)return null;let s=qr.merge(Ee.adjustBoundingBox(n),Ee.adjustBoundingBox(r));return new po(o,s)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let o=Ee.getMax(r),s=0;for(let d of r)if(s+=o-d,d>0)break;let l=n.getCodewords();for(let d=0;s>0&&l[d]==null;d++)s--;let u=0;for(let d=r.length-1;d>=0&&(u+=o-r[d],!(r[d]>0));d--);for(let d=l.length-1;u>0&&l[d]==null;d--)u--;return n.getBoundingBox().addMissingRows(s,u,n.isLeft())}static getMax(n){let r=-1;for(let o of n)r=Math.max(r,o);return r}static getBarcodeMetadata(n,r){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==s.getColumnCount()&&o.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&o.getRowCount()!==s.getRowCount()?null:o}static getRowIndicatorColumn(n,r,o,s,l,u){let d=new o1(r,s);for(let h=0;h<2;h++){let p=h===0?1:-1,w=Math.trunc(Math.trunc(o.getX()));for(let C=Math.trunc(Math.trunc(o.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=p){let A=Ee.detectCodeword(n,0,n.getWidth(),s,w,C,l,u);A!=null&&(d.setCodeword(C,A),s?w=A.getStartX():w=A.getEndX())}}return d}static adjustCodewordCount(n,r){let o=r[0][1],s=o.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Ee.getNumberOfECCodeWords(n.getBarcodeECLevel());if(s.length===0){if(l<1||l>ge.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();o.setValue(l)}else s[0]!==l&&o.setValue(l)}static createDecoderResult(n){let r=Ee.createBarcodeMatrix(n);Ee.adjustCodewordCount(n,r);let o=new Array,s=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let w=r[h][p+1].getValue(),C=h*n.getBarcodeColumnCount()+p;w.length===0?o.push(C):w.length===1?s[C]=w[0]:(u.push(C),l.push(w))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Ee.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),s,ge.toIntArray(o),ge.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(n,r,o,s,l){let u=new Int32Array(s.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[s[h]]=l[h][u[h]];try{return Ee.decodeCodewords(r,n,o)}catch(h){if(!(h instanceof b))throw h}if(u.length===0)throw b.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let l=0;l<r[s].length;l++)r[s][l]=new go;let o=0;for(let s of n.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][o].setValue(l.getValue())}}}o++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,o,s){let l=s?1:-1,u=null;if(Ee.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodeword(o)),u!=null)return s?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(r).getCodewordNearby(o),u!=null)return s?u.getStartX():u.getEndX();if(Ee.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodewordNearby(o)),u!=null)return s?u.getEndX():u.getStartX();let d=0;for(;Ee.isValidBarcodeColumn(n,r-l);){r-=l;for(let h of n.getDetectionResultColumn(r).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return s?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,o,s,l,u,d,h){l=Ee.adjustCodewordStartColumn(n,r,o,s,l,u);let p=Ee.getModuleBitCount(n,r,o,s,l,u);if(p==null)return null;let w,C=Ie.sum(p);if(s)w=l+C;else{for(let M=0;M<p.length/2;M++){let R=p[M];p[M]=p[p.length-1-M],p[p.length-1-M]=R}w=l,l=w-C}if(!Ee.checkCodewordSkew(C,d,h))return null;let A=Yt.getDecodedValue(p),T=ge.getCodeword(A);return T===-1?null:new mo(l,w,Ee.getCodewordBucketNumber(A),T)}static getModuleBitCount(n,r,o,s,l,u){let d=l,h=new Int32Array(8),p=0,w=s?1:-1,C=s;for(;(s?d<o:d>=r)&&p<h.length;)n.get(d,u)===C?(h[p]++,d+=w):(p++,C=!C);return p===h.length||d===(s?o:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,o,s,l,u){let d=l,h=s?-1:1;for(let p=0;p<2;p++){for(;(s?d>=r:d<o)&&s===n.get(d,u);){if(Math.abs(l-d)>Ee.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,s=!s}return d}static checkCodewordSkew(n,r,o){return r-Ee.CODEWORD_SKEW_SIZE<=n&&n<=o+Ee.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,o){if(n.length===0)throw z.getFormatInstance();let s=1<<r+1,l=Ee.correctErrors(n,o,s);Ee.verifyCodewordCount(n,s);let u=F.decode(n,""+r);return u.setErrorsCorrected(l),u.setErasures(o.length),u}static correctErrors(n,r,o){if(r!=null&&r.length>o/2+Ee.MAX_ERRORS||o<0||o>Ee.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Ee.errorCorrection.decode(n,o,r)}static verifyCodewordCount(n,r){if(n.length<4)throw z.getFormatInstance();let o=n[0];if(o>n.length)throw z.getFormatInstance();if(o===0)if(r<n.length)n[0]=n.length-r;else throw z.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),o=0,s=r.length-1;for(;!((n&1)!==o&&(o=n&1,s--,s<0));)r[s]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Ee.getCodewordBucketNumber(Ee.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new fo;for(let o=0;o<n.length;o++){r.format("Row %2d: ",o);for(let s=0;s<n[o].length;s++){let l=n[o][s];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ee.CODEWORD_SKEW_SIZE=2,Ee.MAX_ERRORS=3,Ee.MAX_EC_CODEWORDS=512,Ee.errorCorrection=new i1;class St{decode(n,r=null){let o=St.decode(n,r,!1);if(o==null||o.length===0||o[0]==null)throw W.getNotFoundInstance();return o[0]}decodeMultiple(n,r=null){try{return St.decode(n,r,!0)}catch(o){throw o instanceof z||o instanceof b?W.getNotFoundInstance():o}}static decode(n,r,o){const s=new Array,l=we.detectMultiple(n,r,o);for(const u of l.getPoints()){const d=Ee.decode(l.getBits(),u[4],u[5],u[6],u[7],St.getMinCodewordWidth(u),St.getMaxCodewordWidth(u)),h=new Ze(d.getText(),d.getRawBytes(),void 0,u,ae.PDF_417);h.putMetadata(xt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(xt.PDF417_EXTRA_METADATA,p),s.push(h)}return s.map(u=>u)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(St.getMaxWidth(n[0],n[4]),St.getMaxWidth(n[6],n[2])*ge.MODULES_IN_CODEWORD/ge.MODULES_IN_STOP_PATTERN),Math.max(St.getMaxWidth(n[1],n[5]),St.getMaxWidth(n[7],n[3])*ge.MODULES_IN_CODEWORD/ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(St.getMinWidth(n[0],n[4]),St.getMinWidth(n[6],n[2])*ge.MODULES_IN_CODEWORD/ge.MODULES_IN_STOP_PATTERN),Math.min(St.getMinWidth(n[1],n[5]),St.getMinWidth(n[7],n[3])*ge.MODULES_IN_CODEWORD/ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class vs extends m{}vs.kind="ReaderException";class c1{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!a(n)&&n.get(J.TRY_HARDER)===!0,o=a(n)?null:n.get(J.POSSIBLE_FORMATS),s=new Array;if(!a(o)){const l=o.some(u=>u===ae.UPC_A||u===ae.UPC_E||u===ae.EAN_13||u===ae.EAN_8||u===ae.CODABAR||u===ae.CODE_39||u===ae.CODE_93||u===ae.CODE_128||u===ae.ITF||u===ae.RSS_14||u===ae.RSS_EXPANDED);l&&!r&&s.push(new Ai(n,this.verbose)),o.includes(ae.QR_CODE)&&s.push(new xr),o.includes(ae.DATA_MATRIX)&&s.push(new mr),o.includes(ae.AZTEC)&&s.push(new xs),o.includes(ae.PDF_417)&&s.push(new St),l&&r&&s.push(new Ai(n,this.verbose))}s.length===0&&(r||s.push(new Ai(n,this.verbose)),s.push(new xr),s.push(new mr),s.push(new xs),s.push(new St),r&&s.push(new Ai(n,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new vs("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(o){if(o instanceof vs)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class pg extends dn{constructor(n=null,r=500){const o=new c1;o.setHints(n),super(o,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class mg extends dn{constructor(n=500){super(new St,n)}}class xg extends dn{constructor(n=500){super(new xr,n)}}var dl;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(dl||(dl={}));var gt=dl;class hl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let o=r[r.length-1];const s=this.field;for(let l=r.length;l<=n;l++){const u=o.multiply(new Vt(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));r.push(u),o=u}}return r[n]}encode(n,r){if(r===0)throw new v("No error correction bytes");const o=n.length-r;if(o<=0)throw new v("No data bytes provided");const s=this.buildGenerator(r),l=new Int32Array(o);P.arraycopy(n,0,l,0,o);let u=new Vt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(s)[1].getCoefficients(),p=r-h.length;for(let w=0;w<p;w++)n[o+w]=0;P.arraycopy(h,0,n,o+p,h.length)}}class rt{constructor(){}static applyMaskPenaltyRule1(n){return rt.applyMaskPenaltyRule1Internal(n,!0)+rt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let u=0;u<l-1;u++){const d=o[u];for(let h=0;h<s-1;h++){const p=d[h];p===d[h+1]&&p===o[u+1][h]&&p===o[u+1][h+1]&&r++}}return rt.N2*r}static applyMaskPenaltyRule3(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let u=0;u<l;u++)for(let d=0;d<s;d++){const h=o[u];d+6<s&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(rt.isWhiteHorizontal(h,d-4,d)||rt.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<l&&o[u][d]===1&&o[u+1][d]===0&&o[u+2][d]===1&&o[u+3][d]===1&&o[u+4][d]===1&&o[u+5][d]===0&&o[u+6][d]===1&&(rt.isWhiteVertical(o,d,u-4,u)||rt.isWhiteVertical(o,d,u+7,u+11))&&r++}return r*rt.N3}static isWhiteHorizontal(n,r,o){r=Math.max(r,0),o=Math.min(o,n.length);for(let s=r;s<o;s++)if(n[s]===1)return!1;return!0}static isWhiteVertical(n,r,o,s){o=Math.max(o,0),s=Math.min(s,n.length);for(let l=o;l<s;l++)if(n[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=o[h];for(let w=0;w<s;w++)p[w]===1&&r++}const u=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*rt.N4}static getDataMaskBit(n,r,o){let s,l;switch(n){case 0:s=o+r&1;break;case 1:s=o&1;break;case 2:s=r%3;break;case 3:s=(o+r)%3;break;case 4:s=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:l=o*r,s=(l&1)+l%3;break;case 6:l=o*r,s=(l&1)+l%3&1;break;case 7:l=o*r,s=l%3+(o+r&1)&1;break;default:throw new v("Invalid mask pattern: "+n)}return s===0}static applyMaskPenaltyRule1Internal(n,r){let o=0;const s=r?n.getHeight():n.getWidth(),l=r?n.getWidth():n.getHeight(),u=n.getArray();for(let d=0;d<s;d++){let h=0,p=-1;for(let w=0;w<l;w++){const C=r?u[d][w]:u[w][d];C===p?h++:(h>=5&&(o+=rt.N1+(h-5)),h=1,p=C)}h>=5&&(o+=rt.N1+(h-5))}return o}}rt.N1=3,rt.N2=3,rt.N3=40,rt.N4=10;class Ss{constructor(n,r){this.width=n,this.height=r;const o=new Array(r);for(let s=0;s!==r;s++)o[s]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,o){this.bytes[r][n]=o}setBoolean(n,r,o){this.bytes[r][n]=o?1:0}clear(n){for(const r of this.bytes)N.fill(r,n)}equals(n){if(!(n instanceof Ss))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,s=this.height;o<s;++o){const l=this.bytes[o],u=r.bytes[o];for(let d=0,h=this.width;d<h;++d)if(l[d]!==u[d])return!1}return!0}toString(){const n=new ve;for(let r=0,o=this.height;r<o;++r){const s=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(s[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ve;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Jr.NUM_MASK_PATTERNS}}Jr.NUM_MASK_PATTERNS=8;class Pe extends m{}Pe.kind="WriterException";class de{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,o,s,l){de.clearMatrix(l),de.embedBasicPatterns(o,l),de.embedTypeInfo(r,s,l),de.maybeEmbedVersionInfo(o,l),de.embedDataBits(n,s,l)}static embedBasicPatterns(n,r){de.embedPositionDetectionPatternsAndSeparators(r),de.embedDarkDotAtLeftBottomCorner(r),de.maybeEmbedPositionAdjustmentPatterns(n,r),de.embedTimingPatterns(r)}static embedTypeInfo(n,r,o){const s=new j;de.makeTypeInfoBits(n,r,s);for(let l=0,u=s.getSize();l<u;++l){const d=s.get(s.getSize()-1-l),h=de.TYPE_INFO_COORDINATES[l],p=h[0],w=h[1];if(o.setBoolean(p,w,d),l<8){const C=o.getWidth()-l-1,A=8;o.setBoolean(C,A,d)}else{const A=o.getHeight()-7+(l-8);o.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const o=new j;de.makeVersionInfoBits(n,o);let s=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const d=o.get(s);s--,r.setBoolean(l,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,l,d)}}static embedDataBits(n,r,o){let s=0,l=-1,u=o.getWidth()-1,d=o.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<o.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!de.isEmpty(o.get(p,d)))continue;let w;s<n.getSize()?(w=n.get(s),++s):w=!1,r!==255&&rt.getDataMaskBit(r,p,d)&&(w=!w),o.setBoolean(p,d,w)}d+=l}l=-l,d+=l,u-=2}if(s!==n.getSize())throw new Pe("Not all bits consumed: "+s+"/"+n.getSize())}static findMSBSet(n){return 32-_.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new v("0 polynomial");const o=de.findMSBSet(r);for(n<<=o-1;de.findMSBSet(n)>=o;)n^=r<<de.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,r,o){if(!Jr.isValidMaskPattern(r))throw new Pe("Invalid mask pattern");const s=n.getBits()<<3|r;o.appendBits(s,5);const l=de.calculateBCHCode(s,de.TYPE_INFO_POLY);o.appendBits(l,10);const u=new j;if(u.appendBits(de.TYPE_INFO_MASK_PATTERN,15),o.xor(u),o.getSize()!==15)throw new Pe("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const o=de.calculateBCHCode(n.getVersionNumber(),de.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new Pe("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const o=(r+1)%2;de.isEmpty(n.get(r,6))&&n.setNumber(r,6,o),de.isEmpty(n.get(6,r))&&n.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Pe;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,o){for(let s=0;s<8;++s){if(!de.isEmpty(o.get(n+s,r)))throw new Pe;o.setNumber(n+s,r,0)}}static embedVerticalSeparationPattern(n,r,o){for(let s=0;s<7;++s){if(!de.isEmpty(o.get(n,r+s)))throw new Pe;o.setNumber(n,r+s,0)}}static embedPositionAdjustmentPattern(n,r,o){for(let s=0;s<5;++s){const l=de.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)o.setNumber(n+u,r+s,l[u])}}static embedPositionDetectionPattern(n,r,o){for(let s=0;s<7;++s){const l=de.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)o.setNumber(n+u,r+s,l[u])}}static embedPositionDetectionPatternsAndSeparators(n){const r=de.POSITION_DETECTION_PATTERN[0].length;de.embedPositionDetectionPattern(0,0,n),de.embedPositionDetectionPattern(n.getWidth()-r,0,n),de.embedPositionDetectionPattern(0,n.getWidth()-r,n);const o=8;de.embedHorizontalSeparationPattern(0,o-1,n),de.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),de.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const s=7;de.embedVerticalSeparationPattern(s,0,n),de.embedVerticalSeparationPattern(n.getHeight()-s-1,0,n),de.embedVerticalSeparationPattern(s,n.getHeight()-s,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,s=de.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,u=s.length;l!==u;l++){const d=s[l];if(d>=0)for(let h=0;h!==u;h++){const p=s[h];p>=0&&de.isEmpty(r.get(p,d))&&de.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}de.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),de.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),de.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),de.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),de.VERSION_INFO_POLY=7973,de.TYPE_INFO_POLY=1335,de.TYPE_INFO_MASK_PATTERN=21522;class wg{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class He{constructor(){}static calculateMaskPenalty(n){return rt.applyMaskPenaltyRule1(n)+rt.applyMaskPenaltyRule2(n)+rt.applyMaskPenaltyRule3(n)+rt.applyMaskPenaltyRule4(n)}static encode(n,r,o=null){let s=He.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(gt.CHARACTER_SET)!==void 0;l&&(s=o.get(gt.CHARACTER_SET).toString());const u=this.chooseMode(n,s),d=new j;if(u===ce.BYTE&&(l||He.DEFAULT_BYTE_MODE_ENCODING!==s)){const q=H.getCharacterSetECIByName(s);q!==void 0&&this.appendECI(q,d)}this.appendModeInfo(u,d);const h=new j;this.appendBytes(n,u,h,s);let p;if(o!==null&&o.get(gt.QR_VERSION)!==void 0){const q=Number.parseInt(o.get(gt.QR_VERSION).toString(),10);p=ue.getVersionForNumber(q);const Q=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit(Q,p,r))throw new Pe("Data too big for requested version")}else p=this.recommendVersion(r,u,d,h);const w=new j;w.appendBitArray(d);const C=u===ce.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(C,p,u,w),w.appendBitArray(h);const A=p.getECBlocksForLevel(r),T=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,w);const M=this.interleaveWithECBytes(w,p.getTotalCodewords(),T,A.getNumBlocks()),R=new Jr;R.setECLevel(r),R.setMode(u),R.setVersion(p);const B=p.getDimensionForVersion(),U=new Ss(B,B),K=this.chooseMaskPattern(M,r,p,U);return R.setMaskPattern(K),de.buildMatrix(M,r,p,K,U),R.setMatrix(U),R}static recommendVersion(n,r,o,s){const l=this.calculateBitsNeeded(r,o,s,ue.getVersionForNumber(1)),u=this.chooseVersion(l,n),d=this.calculateBitsNeeded(r,o,s,u);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,r,o,s){return r.getSize()+n.getCharacterCountBits(s)+o.getSize()}static getAlphanumericCode(n){return n<He.ALPHANUMERIC_TABLE.length?He.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(H.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return ce.KANJI;let o=!1,s=!1;for(let l=0,u=n.length;l<u;++l){const d=n.charAt(l);if(He.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)s=!0;else return ce.BYTE}return s?ce.ALPHANUMERIC:o?ce.NUMERIC:ce.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=_e.encode(n,H.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let s=0;s<o;s+=2){const l=r[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,r,o,s){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<Jr.NUM_MASK_PATTERNS;d++){de.buildMatrix(n,r,o,d,s);let h=this.calculateMaskPenalty(s);h<l&&(l=h,u=d)}return u}static chooseVersion(n,r){for(let o=1;o<=40;o++){const s=ue.getVersionForNumber(o);if(He.willFit(n,s,r))return s}throw new Pe("Data too big")}static willFit(n,r,o){const s=r.getTotalCodewords(),u=r.getECBlocksForLevel(o).getTotalECCodewords(),d=s-u,h=(n+7)/8;return d>=h}static terminateBits(n,r){const o=n*8;if(r.getSize()>o)throw new Pe("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let u=0;u<4&&r.getSize()<o;++u)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let u=s;u<8;u++)r.appendBit(!1);const l=n-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==o)throw new Pe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,o,s,l,u){if(s>=o)throw new Pe("Block ID too large");const d=n%o,h=o-d,p=Math.floor(n/o),w=p+1,C=Math.floor(r/o),A=C+1,T=p-C,M=w-A;if(T!==M)throw new Pe("EC bytes mismatch");if(o!==h+d)throw new Pe("RS blocks mismatch");if(n!==(C+T)*h+(A+M)*d)throw new Pe("Total bytes mismatch");s<h?(l[0]=C,u[0]=T):(l[0]=A,u[0]=M)}static interleaveWithECBytes(n,r,o,s){if(n.getSizeInBytes()!==o)throw new Pe("Number of bits and data bytes does not match");let l=0,u=0,d=0;const h=new Array;for(let w=0;w<s;++w){const C=new Int32Array(1),A=new Int32Array(1);He.getNumDataBytesAndNumECBytesForBlockID(r,o,s,w,C,A);const T=C[0],M=new Uint8Array(T);n.toBytes(8*l,M,0,T);const R=He.generateECBytes(M,A[0]);h.push(new wg(M,R)),u=Math.max(u,T),d=Math.max(d,R.length),l+=C[0]}if(o!==l)throw new Pe("Data bytes does not match offset");const p=new j;for(let w=0;w<u;++w)for(const C of h){const A=C.getDataBytes();w<A.length&&p.appendBits(A[w],8)}for(let w=0;w<d;++w)for(const C of h){const A=C.getErrorCorrectionBytes();w<A.length&&p.appendBits(A[w],8)}if(r!==p.getSizeInBytes())throw new Pe("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,r){const o=n.length,s=new Int32Array(o+r);for(let u=0;u<o;u++)s[u]=n[u]&255;new hl(Me.QR_CODE_FIELD_256).encode(s,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=s[o+u];return l}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,o,s){const l=o.getCharacterCountBits(r);if(n>=1<<l)throw new Pe(n+" is bigger than "+((1<<l)-1));s.appendBits(n,l)}static appendBytes(n,r,o,s){switch(r){case ce.NUMERIC:He.appendNumericBytes(n,o);break;case ce.ALPHANUMERIC:He.appendAlphanumericBytes(n,o);break;case ce.BYTE:He.append8BitBytes(n,o,s);break;case ce.KANJI:He.appendKanjiBytes(n,o);break;default:throw new Pe("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=He.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const o=n.length;let s=0;for(;s<o;){const l=He.getDigit(n.charAt(s));if(s+2<o){const u=He.getDigit(n.charAt(s+1)),d=He.getDigit(n.charAt(s+2));r.appendBits(l*100+u*10+d,10),s+=3}else if(s+1<o){const u=He.getDigit(n.charAt(s+1));r.appendBits(l*10+u,7),s+=2}else r.appendBits(l,4),s++}}static appendAlphanumericBytes(n,r){const o=n.length;let s=0;for(;s<o;){const l=He.getAlphanumericCode(n.charCodeAt(s));if(l===-1)throw new Pe;if(s+1<o){const u=He.getAlphanumericCode(n.charCodeAt(s+1));if(u===-1)throw new Pe;r.appendBits(l*45+u,11),s+=2}else r.appendBits(l,6),s++}}static append8BitBytes(n,r,o){let s;try{s=_e.encode(n,o)}catch(l){throw new Pe(l)}for(let l=0,u=s.length;l!==u;l++){const d=s[l];r.appendBits(d,8)}}static appendKanjiBytes(n,r){let o;try{o=_e.encode(n,H.SJIS)}catch(l){throw new Pe(l)}const s=o.length;for(let l=0;l<s;l+=2){const u=o[l]&255,d=o[l+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Pe("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(n,r){r.appendBits(ce.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}He.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),He.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class $r{write(n,r,o,s=null){if(n.length===0)throw new v("Found empty contents");if(r<0||o<0)throw new v("Requested dimensions are too small: "+r+"x"+o);let l=ze.L,u=$r.QUIET_ZONE_SIZE;s!==null&&(s.get(gt.ERROR_CORRECTION)!==void 0&&(l=ze.fromString(s.get(gt.ERROR_CORRECTION).toString())),s.get(gt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(gt.MARGIN).toString(),10)));const d=He.encode(n,l,s);return this.renderResult(d,r,o,u)}writeToDom(n,r,o,s,l=null){typeof n=="string"&&(n=document.querySelector(n));const u=this.write(r,o,s,l);n&&n.appendChild(u)}renderResult(n,r,o,s){const l=n.getMatrix();if(l===null)throw new Pn;const u=l.getWidth(),d=l.getHeight(),h=u+s*2,p=d+s*2,w=Math.max(r,h),C=Math.max(o,p),A=Math.min(Math.floor(w/h),Math.floor(C/p)),T=Math.floor((w-u*A)/2),M=Math.floor((C-d*A)/2),R=this.createSVGElement(w,C);for(let B=0,U=M;B<d;B++,U+=A)for(let K=0,q=T;K<u;K++,q+=A)if(l.get(K,B)===1){const Q=this.createSvgRectElement(q,U,A,A);R.appendChild(Q)}return R}createSVGElement(n,r){const o=document.createElementNS($r.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(n,r,o,s){const l=document.createElementNS($r.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}$r.QUIET_ZONE_SIZE=4,$r.SVG_NS="http://www.w3.org/2000/svg";class Si{encode(n,r,o,s,l){if(n.length===0)throw new v("Found empty contents");if(r!==ae.QR_CODE)throw new v("Can only encode QR_CODE, but got "+r);if(o<0||s<0)throw new v(`Requested dimensions are too small: ${o}x${s}`);let u=ze.L,d=Si.QUIET_ZONE_SIZE;l!==null&&(l.get(gt.ERROR_CORRECTION)!==void 0&&(u=ze.fromString(l.get(gt.ERROR_CORRECTION).toString())),l.get(gt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(gt.MARGIN).toString(),10)));const h=He.encode(n,u,l);return Si.renderResult(h,o,s,d)}static renderResult(n,r,o,s){const l=n.getMatrix();if(l===null)throw new Pn;const u=l.getWidth(),d=l.getHeight(),h=u+s*2,p=d+s*2,w=Math.max(r,h),C=Math.max(o,p),A=Math.min(Math.floor(w/h),Math.floor(C/p)),T=Math.floor((w-u*A)/2),M=Math.floor((C-d*A)/2),R=new st(w,C);for(let B=0,U=M;B<d;B++,U+=A)for(let K=0,q=T;K<u;K++,q+=A)l.get(K,B)===1&&R.setRegion(q,U,A,A);return R}}Si.QUIET_ZONE_SIZE=4;class Eg{encode(n,r,o,s,l){let u;switch(r){case ae.QR_CODE:u=new Si;break;default:throw new v("No encoder available for format "+r)}return u.encode(n,r,o,s,l)}}class jn extends ne{constructor(n,r,o,s,l,u,d,h){if(super(u,d),this.yuvData=n,this.dataWidth=r,this.dataHeight=o,this.left=s,this.top=l,s+u>r||l+d>o)throw new v("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(n,r){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,s,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=n*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return P.arraycopy(this.yuvData,l,s,0,o),s;for(let u=0;u<r;u++){const d=u*n;P.arraycopy(this.yuvData,l,s,d,n),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,r,o,s){return new jn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,s,!1)}renderThumbnail(){const n=this.getWidth()/jn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/jn.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*n;for(let h=0;h<n;h++){const p=s[l+h*jn.THUMBNAIL_SCALE_FACTOR]&255;o[d+h]=4278190080|p*65793}l+=this.dataWidth*jn.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/jn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/jn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const o=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<r;s++,l+=this.dataWidth){const u=l+n/2;for(let d=l,h=l+n-1;d<u;d++,h--){const p=o[d];o[d]=o[h],o[h]=p}}}invert(){return new he(this)}}jn.THUMBNAIL_SCALE_FACTOR=2;class gl extends ne{constructor(n,r,o,s,l,u,d){if(super(r,o),this.dataWidth=s,this.dataHeight=l,this.left=u,this.top=d,n.BYTES_PER_ELEMENT===4){const h=r*o,p=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const C=n[w],A=C>>16&255,T=C>>7&510,M=C&255;p[w]=(A+T+M)/4&255}this.luminances=p}else this.luminances=n;if(s===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=o),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,s,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=n*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return P.arraycopy(this.luminances,l,s,0,o),s;for(let u=0;u<r;u++){const d=u*n;P.arraycopy(this.luminances,l,s,d,n),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,r,o,s){return new gl(this.luminances,o,s,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new he(this)}}class f1 extends H{static forName(n){return this.getCharacterSetECIByName(n)}}class pl{}pl.ISO_8859_1=H.ISO8859_1;class d1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class h1{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class yg{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ii extends yg{constructor(n,r,o){super(n),this.value=r,this.bitCount=o}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new Ii(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ii(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+_.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class ml extends Ii{constructor(n,r,o){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(n,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(n,r){return new ml(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Cg(y,n,r){return new ml(y,n,r)}function xo(y,n,r){return new Ii(y,n,r)}const Ag=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Er=0,Is=1,mn=2,g1=3,Hn=4,vg=new Ii(null,0,0),xl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Sg(y){for(let n of y)N.fill(n,-1);return y[Er][Hn]=0,y[Is][Hn]=0,y[Is][Er]=28,y[g1][Hn]=0,y[mn][Hn]=0,y[mn][Er]=15,y}const p1=Sg(N.createInt32Array(6,6));class Vn{constructor(n,r,o,s){this.token=n,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let o=this.bitCount,s=this.token;if(n!==this.mode){let u=xl[this.mode][n];s=xo(s,u&65535,u>>16),o+=u>>16}let l=n===mn?4:5;return s=xo(s,r,l),new Vn(s,n,0,o+l)}shiftAndAppend(n,r){let o=this.token,s=this.mode===mn?4:5;return o=xo(o,p1[this.mode][n],s),o=xo(o,r,5),new Vn(o,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(n){let r=this.token,o=this.mode,s=this.bitCount;if(this.mode===Hn||this.mode===mn){let d=xl[o][Er];r=xo(r,d&65535,d>>16),s+=d>>16,o=Er}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Vn(r,o,this.binaryShiftByteCount+1,s+l);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Cg(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Vn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(xl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=Vn.calculateBinaryShiftCost(n)-Vn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let s=this.endBinaryShift(n.length).token;s!==null;s=s.getPrevious())r.unshift(s);let o=new j;for(const s of r)s.appendTo(o,n);return o}toString(){return fe.format("%s bits=%d bytes=%d",Ag[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Vn.INITIAL_STATE=new Vn(vg,Er,0,0);function Ig(y){const n=fe.getCharCode(" "),r=fe.getCharCode("."),o=fe.getCharCode(",");y[Er][n]=1;const s=fe.getCharCode("Z"),l=fe.getCharCode("A");for(let A=l;A<=s;A++)y[Er][A]=A-l+2;y[Is][n]=1;const u=fe.getCharCode("z"),d=fe.getCharCode("a");for(let A=d;A<=u;A++)y[Is][A]=A-d+2;y[mn][n]=1;const h=fe.getCharCode("9"),p=fe.getCharCode("0");for(let A=p;A<=h;A++)y[mn][A]=A-p+2;y[mn][o]=12,y[mn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<w.length;A++)y[g1][fe.getCharCode(w[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)fe.getCharCode(C[A])>0&&(y[Hn][fe.getCharCode(C[A])]=A);return y}const wl=Ig(N.createInt32Array(5,256));class wo{constructor(n){this.text=n}encode(){const n=fe.getCharCode(" "),r=fe.getCharCode(`
`);let o=h1.singletonList(Vn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case fe.getCharCode("\r"):u=d===r?2:0;break;case fe.getCharCode("."):u=d===n?3:0;break;case fe.getCharCode(","):u=d===n?4:0;break;case fe.getCharCode(":"):u=d===n?5:0;break;default:u=0}u>0?(o=wo.updateStateListForPair(o,l,u),l++):o=this.updateStateListForChar(o,l)}return h1.min(o,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const o=[];for(let s of n)this.updateStateForChar(s,r,o);return wo.simplifyStates(o)}updateStateForChar(n,r,o){let s=this.text[r]&255,l=wl[n.getMode()][s]>0,u=null;for(let d=0;d<=Hn;d++){let h=wl[d][s];if(h>0){if(u==null&&(u=n.endBinaryShift(r)),!l||d===n.getMode()||d===mn){const p=u.latchAndAppend(d,h);o.push(p)}if(!l&&p1[n.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);o.push(p)}}}if(n.getBinaryShiftByteCount()>0||wl[n.getMode()][s]===0){let d=n.addBinaryShiftChar(r);o.push(d)}}static updateStateListForPair(n,r,o){const s=[];for(let l of n)this.updateStateForPair(l,r,o,s);return this.simplifyStates(s)}static updateStateForPair(n,r,o,s){let l=n.endBinaryShift(r);if(s.push(l.latchAndAppend(Hn,o)),n.getMode()!==Hn&&s.push(l.shiftAndAppend(Hn,o)),o===3||o===4){let u=l.latchAndAppend(mn,16-o).latchAndAppend(mn,1);s.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(u)}}static simplifyStates(n){let r=[];for(const o of n){let s=!0;for(const l of r){if(l.isBetterThanOrEqualTo(o)){s=!1;break}o.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}s&&r.push(o)}return r}}class Te{constructor(){}static encodeBytes(n){return Te.encode(n,Te.DEFAULT_EC_PERCENT,Te.DEFAULT_AZTEC_LAYERS)}static encode(n,r,o){let s=new wo(n).encode(),l=_.truncDivision(s.getSize()*r,100)+11,u=s.getSize()+l,d,h,p,w,C;if(o!==Te.DEFAULT_AZTEC_LAYERS){if(d=o<0,h=Math.abs(o),h>(d?Te.MAX_NB_BITS_COMPACT:Te.MAX_NB_BITS))throw new v(fe.format("Illegal value %s for layers",o));p=Te.totalBitsInLayer(h,d),w=Te.WORD_SIZE[h];let Q=p-p%w;if(C=Te.stuffBits(s,w),C.getSize()+l>Q)throw new v("Data to large for user specified layer");if(d&&C.getSize()>w*64)throw new v("Data to large for user specified layer")}else{w=0,C=null;for(let Q=0;;Q++){if(Q>Te.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(d=Q<=3,h=d?Q+1:Q,p=Te.totalBitsInLayer(h,d),u>p)continue;(C==null||w!==Te.WORD_SIZE[h])&&(w=Te.WORD_SIZE[h],C=Te.stuffBits(s,w));let Ce=p-p%w;if(!(d&&C.getSize()>w*64)&&C.getSize()+l<=Ce)break}}let A=Te.generateCheckWords(C,p,w),T=C.getSize()/w,M=Te.generateModeMessage(d,h,T),R=(d?11:14)+h*4,B=new Int32Array(R),U;if(d){U=R;for(let Q=0;Q<B.length;Q++)B[Q]=Q}else{U=R+1+2*_.truncDivision(_.truncDivision(R,2)-1,15);let Q=_.truncDivision(R,2),Ce=_.truncDivision(U,2);for(let xe=0;xe<Q;xe++){let Xt=xe+_.truncDivision(xe,15);B[Q-xe-1]=Ce-Xt-1,B[Q+xe]=Ce+Xt+1}}let K=new st(U);for(let Q=0,Ce=0;Q<h;Q++){let xe=(h-Q)*4+(d?9:12);for(let Xt=0;Xt<xe;Xt++){let Nn=Xt*2;for(let Qt=0;Qt<2;Qt++)A.get(Ce+Nn+Qt)&&K.set(B[Q*2+Qt],B[Q*2+Xt]),A.get(Ce+xe*2+Nn+Qt)&&K.set(B[Q*2+Xt],B[R-1-Q*2-Qt]),A.get(Ce+xe*4+Nn+Qt)&&K.set(B[R-1-Q*2-Qt],B[R-1-Q*2-Xt]),A.get(Ce+xe*6+Nn+Qt)&&K.set(B[R-1-Q*2-Xt],B[Q*2+Qt])}Ce+=xe*8}if(Te.drawModeMessage(K,d,U,M),d)Te.drawBullsEye(K,_.truncDivision(U,2),5);else{Te.drawBullsEye(K,_.truncDivision(U,2),7);for(let Q=0,Ce=0;Q<_.truncDivision(R,2)-1;Q+=15,Ce+=16)for(let xe=_.truncDivision(U,2)&1;xe<U;xe+=2)K.set(_.truncDivision(U,2)-Ce,xe),K.set(_.truncDivision(U,2)+Ce,xe),K.set(xe,_.truncDivision(U,2)-Ce),K.set(xe,_.truncDivision(U,2)+Ce)}let q=new d1;return q.setCompact(d),q.setSize(U),q.setLayers(h),q.setCodeWords(T),q.setMatrix(K),q}static drawBullsEye(n,r,o){for(let s=0;s<o;s+=2)for(let l=r-s;l<=r+s;l++)n.set(l,r-s),n.set(l,r+s),n.set(r-s,l),n.set(r+s,l);n.set(r-o,r-o),n.set(r-o+1,r-o),n.set(r-o,r-o+1),n.set(r+o,r-o),n.set(r+o,r-o+1),n.set(r+o,r+o-1)}static generateModeMessage(n,r,o){let s=new j;return n?(s.appendBits(r-1,2),s.appendBits(o-1,6),s=Te.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(o-1,11),s=Te.generateCheckWords(s,40,4)),s}static drawModeMessage(n,r,o,s){let l=_.truncDivision(o,2);if(r)for(let u=0;u<7;u++){let d=l-3+u;s.get(u)&&n.set(d,l-5),s.get(u+7)&&n.set(l+5,d),s.get(20-u)&&n.set(d,l+5),s.get(27-u)&&n.set(l-5,d)}else for(let u=0;u<10;u++){let d=l-5+u+_.truncDivision(u,5);s.get(u)&&n.set(d,l-7),s.get(u+10)&&n.set(l+7,d),s.get(29-u)&&n.set(d,l+7),s.get(39-u)&&n.set(l-7,d)}}static generateCheckWords(n,r,o){let s=n.getSize()/o,l=new hl(Te.getGF(o)),u=_.truncDivision(r,o),d=Te.bitsToWords(n,o,u);l.encode(d,u-s);let h=r%o,p=new j;p.appendBits(0,h);for(const w of Array.from(d))p.appendBits(w,o);return p}static bitsToWords(n,r,o){let s=new Int32Array(o),l,u;for(l=0,u=n.getSize()/r;l<u;l++){let d=0;for(let h=0;h<r;h++)d|=n.get(l*r+h)?1<<r-h-1:0;s[l]=d}return s}static getGF(n){switch(n){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new v("Unsupported word size "+n)}}static stuffBits(n,r){let o=new j,s=n.getSize(),l=(1<<r)-2;for(let u=0;u<s;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=s||n.get(u+h))&&(d|=1<<r-1-h);(d&l)===l?(o.appendBits(d&l,r),u--):d&l?o.appendBits(d,r):(o.appendBits(d|1,r),u--)}return o}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Te.DEFAULT_EC_PERCENT=33,Te.DEFAULT_AZTEC_LAYERS=0,Te.MAX_NB_BITS=32,Te.MAX_NB_BITS_COMPACT=4,Te.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ts{encode(n,r,o,s){return this.encodeWithHints(n,r,o,s,null)}encodeWithHints(n,r,o,s,l){let u=pl.ISO_8859_1,d=Te.DEFAULT_EC_PERCENT,h=Te.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(gt.CHARACTER_SET)&&(u=f1.forName(l.get(gt.CHARACTER_SET).toString())),l.has(gt.ERROR_CORRECTION)&&(d=_.parseInt(l.get(gt.ERROR_CORRECTION).toString())),l.has(gt.AZTEC_LAYERS)&&(h=_.parseInt(l.get(gt.AZTEC_LAYERS).toString()))),Ts.encodeLayers(n,r,o,s,u,d,h)}static encodeLayers(n,r,o,s,l,u,d){if(r!==ae.AZTEC)throw new v("Can only encode AZTEC, but got "+r);let h=Te.encode(fe.getBytes(n,l),u,d);return Ts.renderResult(h,o,s)}static renderResult(n,r,o){let s=n.getMatrix();if(s==null)throw new Pn;let l=s.getWidth(),u=s.getHeight(),d=Math.max(r,l),h=Math.max(o,u),p=Math.min(d/l,h/u),w=(d-l*p)/2,C=(h-u*p)/2,A=new st(d,h);for(let T=0,M=C;T<u;T++,M+=p)for(let R=0,B=w;R<l;R++,B+=p)s.get(R,T)&&A.setRegion(B,M,p,p);return A}}i.AbstractExpandedDecoder=rl,i.ArgumentException=S,i.ArithmeticException=gs,i.AztecCode=d1,i.AztecCodeReader=xs,i.AztecCodeWriter=Ts,i.AztecDecoder=Ue,i.AztecDetector=Jc,i.AztecDetectorResult=Kc,i.AztecEncoder=Te,i.AztecHighLevelEncoder=wo,i.AztecPoint=Pt,i.BarcodeFormat=ae,i.Binarizer=V,i.BinaryBitmap=D,i.BitArray=j,i.BitMatrix=st,i.BitSource=al,i.BrowserAztecCodeReader=qh,i.BrowserBarcodeReader=ng,i.BrowserCodeReader=dn,i.BrowserDatamatrixCodeReader=ig,i.BrowserMultiFormatReader=pg,i.BrowserPDF417Reader=mg,i.BrowserQRCodeReader=xg,i.BrowserQRCodeSvgWriter=$r,i.CharacterSetECI=H,i.ChecksumException=b,i.Code128Reader=te,i.Code39Reader=dt,i.DataMatrixDecodedBitStreamParser=pr,i.DataMatrixReader=mr,i.DecodeHintType=J,i.DecoderResult=so,i.DefaultGridSampler=qc,i.DetectorResult=ms,i.EAN13Reader=Qr,i.EncodeHintType=gt,i.Exception=m,i.FormatException=z,i.GenericGF=Me,i.GenericGFPoly=Vt,i.GlobalHistogramBinarizer=et,i.GridSampler=$a,i.GridSamplerInstance=hr,i.HTMLCanvasElementLuminanceSource=pe,i.HybridBinarizer=me,i.ITFReader=ke,i.IllegalArgumentException=v,i.IllegalStateException=Pn,i.InvertedLuminanceSource=he,i.LuminanceSource=ne,i.MathUtils=Ie,i.MultiFormatOneDReader=Ai,i.MultiFormatReader=c1,i.MultiFormatWriter=Eg,i.NotFoundException=W,i.OneDReader=ut,i.PDF417DecodedBitStreamParser=F,i.PDF417DecoderErrorCorrection=i1,i.PDF417Reader=St,i.PDF417ResultMetadata=s1,i.PerspectiveTransform=In,i.PlanarYUVLuminanceSource=jn,i.QRCodeByteMatrix=Ss,i.QRCodeDataMask=gn,i.QRCodeDecodedBitStreamParser=Ke,i.QRCodeDecoderErrorCorrectionLevel=ze,i.QRCodeDecoderFormatInformation=Rt,i.QRCodeEncoder=He,i.QRCodeEncoderQRCode=Jr,i.QRCodeMaskUtil=rt,i.QRCodeMatrixUtil=de,i.QRCodeMode=ce,i.QRCodeReader=xr,i.QRCodeVersion=ue,i.QRCodeWriter=Si,i.RGBLuminanceSource=gl,i.RSS14Reader=nt,i.RSSExpandedReader=X,i.ReaderException=vs,i.ReedSolomonDecoder=lo,i.ReedSolomonEncoder=hl,i.ReedSolomonException=wi,i.Result=Ze,i.ResultMetadataType=xt,i.ResultPoint=se,i.StringUtils=fe,i.UnsupportedOperationException=le,i.VideoInputDevice=Ye,i.WhiteRectangleDetector=$n,i.WriterException=Pe,i.ZXingArrays=N,i.ZXingCharset=f1,i.ZXingInteger=_,i.ZXingStandardCharsets=pl,i.ZXingStringBuilder=ve,i.ZXingStringEncoding=_e,i.ZXingSystem=P,i.createAbstractExpandedDecoder=n1,Object.defineProperty(i,"__esModule",{value:!0})})})(Yu,Yu.exports);var We=Yu.exports;const Nx=rf(We),_x=nf({__proto__:null,default:Nx},[We]);var z0=function(){function e(t,i,a){if(this.formatMap=new Map([[ie.QR_CODE,We.BarcodeFormat.QR_CODE],[ie.AZTEC,We.BarcodeFormat.AZTEC],[ie.CODABAR,We.BarcodeFormat.CODABAR],[ie.CODE_39,We.BarcodeFormat.CODE_39],[ie.CODE_93,We.BarcodeFormat.CODE_93],[ie.CODE_128,We.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,We.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,We.BarcodeFormat.MAXICODE],[ie.ITF,We.BarcodeFormat.ITF],[ie.EAN_13,We.BarcodeFormat.EAN_13],[ie.EAN_8,We.BarcodeFormat.EAN_8],[ie.PDF_417,We.BarcodeFormat.PDF_417],[ie.RSS_14,We.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,We.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,We.BarcodeFormat.UPC_A],[ie.UPC_E,We.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,We.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_x)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(t),f=new Map;f.set(We.DecodeHintType.POSSIBLE_FORMATS,c),f.set(We.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(a,c){try{a(i.decode(t))}catch(f){c(f)}})},e.prototype.decode=function(t){var i=new We.MultiFormatReader(this.verbose,this.hints),a=new We.HTMLCanvasElementLuminanceSource(t),c=new We.BinaryBitmap(new We.HybridBinarizer(a)),f=i.decode(c);return{text:f.text,format:Hh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,c){t.set(i,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],a=0,c=t;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Mx=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},Ox=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},j0=function(){function e(t,i,a){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Mx(this,void 0,void 0,function(){var i,a;return Ox(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Hh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,a=0,c=0,f=t;c<f.length;c++){var g=f[c],x=g.boundingBox.width*g.boundingBox.height;x>a&&(a=x,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],a=0,c=t;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,c){t.set(i,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),H0=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},V0=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dx=function(){function e(t,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&j0.isSupported()?(this.primaryDecoder=new j0(t,a,c),this.secondaryDecoder=new z0(t,a,c)):this.primaryDecoder=new z0(t,a,c)}return e.prototype.decodeAsync=function(t){return H0(this,void 0,void 0,function(){var i;return V0(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return H0(this,void 0,void 0,function(){var i,a;return V0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];t+=c}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Xc=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Ra=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},ba=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Yh=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),Rx=function(e){Xc(t,e);function t(i,a){return e.call(this,i,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Yh),bx=function(e){Xc(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}(Rx),Lx=function(e){Xc(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(Yh),Bx=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new bx(this.track)},e.prototype.torchFeature=function(){return new Lx(this.track)},e}(),kx=function(){function e(t,i,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,c),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,a,c){return Ra(this,void 0,void 0,function(){var f,g;return ba(this,function(x){switch(x.label){case 0:return f=new e(t,i,c),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:x.sent(),x.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,a=function(){setTimeout(t,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ra(this,void 0,void 0,function(){return ba(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,a){var c=t.mediaStream.getVideoTracks(),f=c.length,g=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new Bx(this.getFirstTrackOrFail())},e}(),Px=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,a){return Ra(this,void 0,void 0,function(){return ba(this,function(c){return[2,kx.create(t,this.mediaStream,i,a)]})})},e.create=function(t){return Ra(this,void 0,void 0,function(){var i,a;return ba(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),W0=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},G0=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Fx=function(){function e(){}return e.failIfNotSupported=function(){return W0(this,void 0,void 0,function(){return G0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return W0(this,void 0,void 0,function(){return G0(this,function(i){return[2,Px.create(t)]})})},e}(),Ux=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},zx=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},jx=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Hi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Hi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Ux(this,void 0,void 0,function(){var t,i,a,c,f,g,x;return zx(this,function(E){switch(E.label){case 0:return t=function(m){for(var S=m.getVideoTracks(),v=0,D=S;v<D.length;v++){var b=D[v];b.enabled=!1,b.stop(),m.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=E.sent(),c=[],f=0,g=a;f<g.length;f++)x=g[f],x.kind==="videoinput"&&c.push({id:x.deviceId,label:x.label});return t(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var a=function(f){for(var g=[],x=0,E=f;x<E.length;x++){var m=E[x];m.kind==="video"&&g.push({id:m.id,label:m.label})}t(g)},c=MediaStreamTrack;c.getSources(a)})},e}(),it;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(it||(it={}));var Hx=function(){function e(){this.state=it.NOT_STARTED,this.onGoingTransactionNewState=it.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=it.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=it.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==it.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case it.UNKNOWN:throw"Transition from unknown is not allowed";case it.NOT_STARTED:this.failIfNewStateIs(t,[it.PAUSED]);break;case it.SCANNING:break;case it.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Vx=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===it.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==it.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===it.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===it.PAUSED},e}(),Wx=function(){function e(){}return e.create=function(){return new Vx(new Hx)},e}(),Gx=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),tn=function(e){Gx(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Dn),Yx=function(){function e(t,i){this.logger=i,this.fps=tn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=tn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Gh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Yn(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),Y0=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Wh(this.verbose),this.qrcode=new Dx(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Wx.create()}return e.prototype.start=function(t,i,a,c){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var x=Yx.create(i,this.logger);this.clearElement();var E=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=E,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:tn.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var v=this,D=this.stateManagerProxy.startTransition(it.SCANNING);return new Promise(function(b,V){var P=m?x.videoConstraints:v.createVideoConstraints(t);if(!P){D.cancel(),V("videoConstraints should be defined");return}var Y={};(!m||x.aspectRatio)&&(Y.aspectRatio=x.aspectRatio);var O={onRenderSurfaceReady:function(N,_){v.setupUi(N,_,x),v.isScanning=!0,v.foreverScan(x,a,g)}};Fx.failIfNotSupported().then(function(N){N.create(P).then(function(_){return _.render(f.element,Y,O).then(function(j){v.renderedCamera=j,D.execute(),b(null)}).catch(function(j){D.cancel(),V(j)})}).catch(function(_){D.cancel(),V(Hi.errorGettingUserMedia(_))})}).catch(function(N){D.cancel(),V(Hi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(it.PAUSED),this.showPausedState(),(Yn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(it.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(it.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var f=document.getElementById(tn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,i){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Yn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var x=g.width,E=g.height,m=document.getElementById(a.elementId),S=m.clientWidth?m.clientWidth:tn.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:E,tn.FILE_SCAN_MIN_HEIGHT),D=a.computeCanvasDrawConfig(x,E,S,v);if(i){var b=a.createCanvasElement(S,v,"qr-canvas-visible");b.style.display="inline-block",m.appendChild(b);var V=b.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=S,V.canvas.height=v,V.drawImage(g,0,0,x,E,D.x,D.y,D.width,D.height)}var P=tn.FILE_SCAN_HIDDEN_CANVAS_PADDING,Y=Math.max(g.width,D.width),O=Math.max(g.height,D.height),N=Y+2*P,_=O+2*P,j=a.createCanvasElement(N,_);m.appendChild(j);var $=j.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=N,$.canvas.height=_,$.drawImage(g,0,0,x,E,P,P,Y,O);try{a.qrcode.decodeRobustlyAsync(j).then(function(J){c(F0.createFromQrcodeResult(J))}).catch(f)}catch(J){f("QR code parse error, error = ".concat(J))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jx.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Gh.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,f=t.formatsToSupport;c<f.length;c++){var g=f[c];Ix(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Yn(t))return!0;if(!Yn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Yn(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return Yn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,a){var c=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,i,f),x=function(m){if(m<tn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(tn.MIN_QR_BOX_SIZE,"px.")},E=function(m){return m>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};x(g.width),x(g.height),g.width=E(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(t,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,a);var c=Yn(a.qrbox)?{width:t,height:i}:a.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,x={x:0,y:0,width:t,height:i},E=g?this.getShadedRegionBounds(t,i,f):x,m=this.createCanvasElement(E.width,E.height),S={willReadFrequently:!0},v=m.getContext("2d",S);v.canvas.width=E.width,v.canvas.height=E.height,this.element.append(m),g&&this.possiblyInsertShadingElement(this.element,t,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=v,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=Hi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,F0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var f=Hi.codeParseError(c);return i(f,Vh.createFrom(f)),!1})},e.prototype.foreverScan=function(t,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,x=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*g,m=this.qrRegion.height*x,S=this.qrRegion.x*g,v=this.qrRegion.y*x;this.context.drawImage(f,S,v,E,m,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,i,a)},c.getTimeoutFps(t.fps))};this.scanContext(i,a).then(function(b){!b&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){D()})):D()}).catch(function(b){c.logger.logError("Error happend while scanning context",b),D()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},f="exact",g=function(V){if(V in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var E=Object.keys(t)[0];if(E!==i&&E!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(E===i){var m=t.facingMode;if(typeof m=="string"){if(g(m))return{facingMode:m}}else if(typeof m=="object")if(f in m){if(g(m["".concat(f)]))return{facingMode:{exact:m["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var S=typeof m;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(f in v)return{deviceId:{exact:v["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var D=typeof v;throw"Invalid type of 'deviceId' = ".concat(D)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,i,a,c){if(t<=a&&i<=c){var f=(a-t)/2,g=(c-i)/2;return{x:f,y:g,width:t,height:i}}else{var x=t,E=i;return t>a&&(i=a/t*i,t=a),i>c&&(t=c/i*t,i=c),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(E)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?tn.BORDER_SHADER_MATCH_COLOR:tn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,a){var c=t,f=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=Yn(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(t,i,a){if(a.width>t||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,i,a,c){if(!(i-c.width<1||a-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-c.width)/2,x=(a-c.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(tn.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var E=5,m=40;this.insertShaderBorders(f,m,E,-E,null,0,!0),this.insertShaderBorders(f,m,E,-E,null,0,!1),this.insertShaderBorders(f,m,E,null,-E,0,!0),this.insertShaderBorders(f,m,E,null,-E,0,!1),this.insertShaderBorders(f,E,m+E,-E,null,-E,!0),this.insertShaderBorders(f,E,m+E,null,-E,-E,!0),this.insertShaderBorders(f,E,m+E,-E,null,-E,!1),this.insertShaderBorders(f,E,m+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,i,a,c,f,g,x){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=tn.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(i,"px"),E.style.height="".concat(a,"px"),c!==null&&(E.style.top="".concat(c,"px")),f!==null&&(E.style.bottom="".concat(f,"px")),x?E.style.left="".concat(g,"px"):E.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Qc="data:image/svg+xml;base64,",Xx=Qc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Qx=Qc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",X0=Qc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Zx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Q0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Kx=function(){function e(){this.data=Q0.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Q0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),qx=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=U0.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=U0.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Jx=function(){function e(t,i){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=X0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Zx,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=X0,this.infoIcon.style.opacity="0.6")},e}(),$x=function(){function e(){var t=this;this.infoDiv=new qx,this.infoIcon=new Jx(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),e3=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},t3=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Z0=function(){function e(){}return e.hasPermissions=function(){return e3(this,void 0,void 0,function(){var t,i,a,c;return t3(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=f.sent(),i=0,a=t;i<a.length;i++)if(c=a[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),Ar=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,i=this.supportedScanTypes;t<i.length;t++){var a=i[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===Hr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Hr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Dn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Dn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,c=t;a<c.length;a++){var f=c[a];if(!Dn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return t},e}(),on=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),or=function(){function e(){}return e.createElement=function(t,i){var a=document.createElement(t);return a.id=i,a.classList.add(on.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),Xh=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(S){try{m(a.next(S))}catch(v){g(v)}}function E(S){try{m(a.throw(S))}catch(v){g(v)}}function m(S){S.done?f(S.value):c(S.value).then(x,E)}m((a=a.apply(e,t||[])).next())})},Qh=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(S){return E([m,S])}}function E(m){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){i.label=m[1];break}if(m[0]===6&&i.label<f[1]){i.label=f[1],f=m;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(m);break}f[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(S){m=[6,S],c=0}finally{a=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},K0=function(){function e(t,i,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Xh(this,void 0,void 0,function(){var t,i;return Qh(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return i=a.sent(),this.propagateFailure(t,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,i){t===i?(this.buttonController.setText(i?be.torchOffButton():be.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(t,i){var a=t?be.torchOnFailedMessage():be.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),n3=function(){function e(t,i){this.onTorchActionFailureCallback=i,this.torchButton=or.createElement("button",on.TORCH_BUTTON_ID),this.torchController=new K0(t,this,i)}return e.prototype.render=function(t,i){var a=this;this.torchButton.innerText=be.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return Xh(a,void 0,void 0,function(){return Qh(this,function(g){switch(g.label){case 0:return[4,c.torchController.flipState()];case 1:return g.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(on.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(on.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(on.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(on.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new K0(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=be.torchOnButton(),this.torchController.reset()},e.create=function(t,i,a,c){var f=new e(i,c);return f.render(t,a),f},e}(),r3=function(){function e(t,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=or.createElement("button",on.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=or.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var E=x.target;if(!(E.files&&E.files.length===0)){var m=E.files,S=m[0],v=S.name;f.setImageNameToButton(v),a(S)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var E=x.dataTransfer;if(E){var m=E.files;if(!m||m.length===0)return;for(var S=!1,v=0;v<m.length;++v){var D=m.item(v);if(D){var b=/image.*/;if(D.type.match(b)){S=!0;var V=D.name;f.setImageNameToButton(V),a(D),g.innerText=be.dragAndDropMessage();break}}}S||(g.innerText=be.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=be.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var i=20;if(t.length>i){var a=t.substring(0,8),c=t.length,f=t.substring(c-8,c);t="".concat(a,"....").concat(f)}var g=be.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=be.fileSelectionChooseImage()+" - "+be.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,i,a){var c=new e(t,i,a);return c},e}(),i3=function(){function e(t){this.selectElement=or.createElement("select",on.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var c=be.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,x=this.cameras;g<x.length;g++){var E=x[g],m=E.id,S=E.label==null?m:E.label;(!S||S==="")&&(S=[be.anonymousCameraPrefix(),f++].join(" "));var v=document.createElement("option");v.value=m,v.innerText=S,this.options.push(v),this.selectElement.appendChild(v)}i.appendChild(this.selectElement),t.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var i=0,a=this.options;i<a.length;i++){var c=a[i];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,i){var a=new e(i);return a.render(t),a},e}(),o3=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=or.createElement("input",on.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,i,a,c){this.rangeInput.min=t.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,i){var a=new e;return a.render(t,i),a},e}(),nn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(nn||(nn={}));function s3(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function a3(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var l3=function(){function e(t,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ar(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Wh(this.verbose),this.persistedDataManager=new Kx,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(t)t(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(be.lastMatch(f),nn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new Y0(this.getScanRegionId(),a3(this.config,this.verbose))},e.prototype.pause=function(t){(Yn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,i=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(f){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),i(),a()}).catch(function(f){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(t.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Dn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Dn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Dn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Dn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Dn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Dn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Dn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",t.appendChild(i),Ar.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",t.appendChild(i);var a=new $x;a.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(t){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",t.appendChild(i)},e.prototype.createCameraListUi=function(t,i,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(be.cameraPermissionRequesting());var f=function(){a||c.createPermissionButton(t,i)};Y0.getCameras().then(function(g){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),g&&g.length>0?(t.removeChild(i),c.renderCameraSelection(g)):(c.setHeaderMessage(be.noCameraFound(),nn.STATUS_WARNING),f())}).catch(function(g){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),c.setHeaderMessage(g,nn.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,i){var a=this,c=or.createElement("button",this.getCameraPermissionButtonId());c.innerText=be.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(t,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(t,i){var a=this;if(Ar.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Z0.hasPermissions().then(function(c){c?a.createCameraListUi(t,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i)});return}this.createPermissionButton(t,i)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");t.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Ar.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(t){var i=Ar.isFileScanType(this.currentScanType),a=this,c=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";Ar.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(be.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,nn.STATUS_WARNING),a.qrCodeErrorCallback(g,Vh.createFrom(g))}))};this.fileSelectionUi=r3.create(t,i,c)},e.prototype.renderCameraSelection=function(t){var i=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=o3.create(c,!1),g=function(P){var Y=P.zoomFeature();if(Y.isSupported()){f.setOnCameraZoomValueChangeCallback(function(N){Y.apply(N)});var O=1;i.config.defaultZoomValueIfSupported&&(O=i.config.defaultZoomValueIfSupported),O=Tx(O,Y.min(),Y.max()),f.setValues(Y.min(),Y.max(),O,Y.step()),f.show()}},x=i3.create(c,t),E=document.createElement("span"),m=or.createElement("button",on.CAMERA_START_BUTTON_ID);m.innerText=be.scanButtonStartScanningText(),E.appendChild(m);var S=or.createElement("button",on.CAMERA_STOP_BUTTON_ID);S.innerText=be.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,E.appendChild(S);var v,D=function(P){if(!P.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(P.torchFeature()):v=n3.create(E,P.torchFeature(),{display:"none",marginLeft:"5px"},function(Y){a.setHeaderMessage(Y,nn.STATUS_WARNING)}),v.show()};c.appendChild(E);var b=function(P){P||(m.style.display="none"),m.innerText=be.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,P&&(m.style.display="inline-block")};if(m.addEventListener("click",function(P){m.innerText=be.scanButtonScanningStarting(),x.disable(),m.disabled=!0,m.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var Y=x.getValue();a.persistedDataManager.setLastUsedCameraId(Y),a.html5Qrcode.start(Y,s3(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(O){S.disabled=!1,S.style.display="inline-block",b(!1);var N=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&D(N),i.config.showZoomSliderIfSupported===!0&&g(N)}).catch(function(O){a.showHideScanTypeSwapLink(!0),x.enable(),b(!0),a.setHeaderMessage(O,nn.STATUS_WARNING)})}),x.hasSingleItem()&&m.click(),S.addEventListener("click",function(P){if(!a.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,a.html5Qrcode.stop().then(function(Y){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),x.enable(),m.disabled=!1,S.style.display="none",m.style.display="inline-block",v&&(v.reset(),v.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(Y){S.disabled=!1,a.setHeaderMessage(Y,nn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var V=a.persistedDataManager.getLastUsedCameraId();x.hasValue(V)?(x.setValue(V),m.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,i=be.textIfCameraScanSelected(),a=be.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=or.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Ar.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ar.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=a,t.currentScanType=Hr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=i,t.currentScanType=Hr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),f.appendChild(g),c.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){Z0.hasPermissions().then(function(a){if(a){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,i){i||(i=nn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",i){case nn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case nn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case nn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Xx,this.cameraScanImage.alt=be.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Qx,this.fileScanImage.alt=be.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return on.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return on.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const u3=(e,t)=>t.some(i=>e instanceof i);let q0,J0;function c3(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f3(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zh=new WeakMap,Xu=new WeakMap,Kh=new WeakMap,Yl=new WeakMap,Zc=new WeakMap;function d3(e){const t=new Promise((i,a)=>{const c=()=>{e.removeEventListener("success",f),e.removeEventListener("error",g)},f=()=>{i(Ur(e.result)),c()},g=()=>{a(e.error),c()};e.addEventListener("success",f),e.addEventListener("error",g)});return t.then(i=>{i instanceof IDBCursor&&Zh.set(i,e)}).catch(()=>{}),Zc.set(t,e),t}function h3(e){if(Xu.has(e))return;const t=new Promise((i,a)=>{const c=()=>{e.removeEventListener("complete",f),e.removeEventListener("error",g),e.removeEventListener("abort",g)},f=()=>{i(),c()},g=()=>{a(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",f),e.addEventListener("error",g),e.addEventListener("abort",g)});Xu.set(e,t)}let Qu={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Xu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Kh.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ur(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function g3(e){Qu=e(Qu)}function p3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=e.call(Xl(this),t,...i);return Kh.set(a,t.sort?t.sort():[t]),Ur(a)}:f3().includes(e)?function(...t){return e.apply(Xl(this),t),Ur(Zh.get(this))}:function(...t){return Ur(e.apply(Xl(this),t))}}function m3(e){return typeof e=="function"?p3(e):(e instanceof IDBTransaction&&h3(e),u3(e,c3())?new Proxy(e,Qu):e)}function Ur(e){if(e instanceof IDBRequest)return d3(e);if(Yl.has(e))return Yl.get(e);const t=m3(e);return t!==e&&(Yl.set(e,t),Zc.set(t,e)),t}const Xl=e=>Zc.get(e);function x3(e,t,{blocked:i,upgrade:a,blocking:c,terminated:f}={}){const g=indexedDB.open(e,t),x=Ur(g);return a&&g.addEventListener("upgradeneeded",E=>{a(Ur(g.result),E.oldVersion,E.newVersion,Ur(g.transaction),E)}),i&&g.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),x.then(E=>{f&&E.addEventListener("close",()=>f()),c&&E.addEventListener("versionchange",m=>c(m.oldVersion,m.newVersion,m))}).catch(()=>{}),x}const w3=["get","getKey","getAll","getAllKeys","count"],E3=["put","add","delete","clear"],Ql=new Map;function $0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ql.get(t))return Ql.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,c=E3.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(c||w3.includes(i)))return;const f=async function(g,...x){const E=this.transaction(g,c?"readwrite":"readonly");let m=E.store;return a&&(m=m.index(x.shift())),(await Promise.all([m[i](...x),c&&E.done]))[0]};return Ql.set(t,f),f}g3(e=>({...e,get:(t,i,a)=>$0(t,i)||e.get(t,i,a),has:(t,i)=>!!$0(t,i)||e.has(t,i)}));const y3="AnimalDB",Jn="animals",ss="users",C3=async()=>await x3(y3,1,{upgrade(t){if(!t.objectStoreNames.contains(Jn)){const i=t.createObjectStore(Jn,{keyPath:"id",autoIncrement:!0});i.createIndex("name","name"),i.createIndex("type","type"),i.createIndex("qrCode","qrCode")}t.objectStoreNames.contains(ss)||t.createObjectStore(ss,{keyPath:"username",unique:!0})}}),A3=async(e,t,i)=>{const a=e.transaction(Jn,"readwrite"),f=await a.objectStore(Jn).add({...t,type:i});return await a.done,f},v3=async(e,t)=>await e.get(Jn,t),S3=async e=>await e.getAll(Jn),ef=async(e,t,i,a)=>{const c=e.transaction(Jn,"readwrite");await c.objectStore(Jn).put({...i,id:t,type:a}),await c.done},I3=async(e,t)=>{const i=e.transaction(Jn,"readwrite");await i.objectStore(Jn).delete(t),await i.done},T3=async(e,t,i)=>{const a=e.transaction(ss,"readwrite");await a.objectStore(ss).add({username:t,password:i}),await a.done},N3=async(e,t)=>await e.get(ss,t),_3=({db:e,handleEdit:t,deleteAnimal:i})=>{const[a,c]=ee.useState([]),[f,g]=ee.useState("");ee.useEffect(()=>{(async()=>{if(e)try{const V=await S3(e);console.log("Fetched animals:",V),c(V)}catch(V){console.error("Error fetching animals:",V)}})()},[e]);const x=b=>{g(b.target.value)},E=async b=>{await i(e,b);const V=a.filter(P=>P.id!==b);c(V)},[m,S]=ee.useState("All"),v=a.filter(b=>{const V=f.toLowerCase(),P=b.name&&b.name.toLowerCase().includes(V)||b.type&&b.type.toLowerCase().includes(V),Y=m==="All"||b.type===m;return P&&Y}),D=["All","Cattle","Sheep","Pigs","Goats"];return L.createElement("div",{className:"dashboard"},L.createElement("h1",null,"Animal Dashboard"),L.createElement("div",{className:"tabs"},D.map(b=>L.createElement("button",{key:b,className:m===b?"active":"",onClick:()=>S(b)},b))),L.createElement("div",{className:"search-bar"},L.createElement("input",{type:"text",placeholder:"Search animals by name or type...",value:f,onChange:x})),L.createElement("ul",null,v.map(b=>L.createElement("li",{key:b.id},L.createElement("h3",null,b.name),L.createElement("div",{className:"animal-details"},L.createElement("p",null,L.createElement("strong",null,"Type:")," ",b.type||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Breed:")," ",b.breed||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Age:")," ",b.age?`${b.age} years`:"N/A"),L.createElement("p",null,L.createElement("strong",null,"Weight:")," ",b.weight?`${b.weight} kg`:"N/A"),b.type==="Cattle"&&L.createElement(L.Fragment,null,L.createElement("p",null,L.createElement("strong",null,"Milk Production:")," ",b.milkProduction||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Grazing Area:")," ",b.grazingArea||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Vaccination Status:")," ",b.vaccinationStatus?"Yes":"No")),b.type==="Sheep"&&L.createElement(L.Fragment,null,L.createElement("p",null,L.createElement("strong",null,"Wool Quality:")," ",b.woolQuality||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Shearing Schedule:")," ",b.shearingSchedule||"N/A")),b.type==="Pigs"&&L.createElement(L.Fragment,null,L.createElement("p",null,L.createElement("strong",null,"Feed Type:")," ",b.feedType||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Pen Number:")," ",b.penNumber||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Vaccination Status:")," ",b.vaccinationStatus?"Yes":"No")),b.type==="Goats"&&L.createElement(L.Fragment,null,L.createElement("p",null,L.createElement("strong",null,"Milk Production:")," ",b.milkProduction||"N/A"),L.createElement("p",null,L.createElement("strong",null,"Horn Type:")," ",b.hornType||"N/A"))),L.createElement("div",{className:"button-group"},L.createElement("button",{onClick:()=>t(b)},"Edit"),L.createElement("button",{onClick:()=>E(b.id)},"Delete"))))))},tf=({db:e,setUser:t,navigate:i,action:a})=>{const[c,f]=ee.useState(""),[g,x]=ee.useState(""),[E,m]=ee.useState(""),S=async v=>{if(v.preventDefault(),m(""),a==="signup")try{await T3(e,c,g),m("Signup successful! Please log in."),i("/login")}catch{m("Username already exists.")}else if(a==="login"){const D=await N3(e,c);D&&D.password===g?(t(D),m("Login successful!"),i("/")):m("Invalid username or password.")}};return L.createElement("div",{className:"auth-container"},L.createElement("h1",null,a==="signup"?"Signup":"Login"),L.createElement("form",{onSubmit:S},L.createElement("div",{className:"form-group"},L.createElement("label",null,"Username"),L.createElement("input",{type:"text",value:c,onChange:v=>f(v.target.value),required:!0})),L.createElement("div",{className:"form-group"},L.createElement("label",null,"Password"),L.createElement("input",{type:"password",value:g,onChange:v=>x(v.target.value),required:!0})),L.createElement("button",{type:"submit"},a==="signup"?"Signup":"Login"),E&&L.createElement("p",{className:"message"},E)))},M3=()=>{const[e,t]=ee.useState(null),[i,a]=ee.useState(null),c=vh(),f={Cattle:{name:"",breed:"",age:"",weight:"",milkProduction:"",grazingArea:"",vaccinationStatus:!1},Sheep:{name:"",breed:"",age:"",weight:"",woolQuality:"",grazingArea:"",shearingSchedule:""},Pigs:{name:"",breed:"",age:"",weight:"",feedType:"",penNumber:"",vaccinationStatus:!1},Goats:{name:"",breed:"",age:"",weight:"",milkProduction:"",grazingArea:"",hornType:""}},[g,x]=ee.useState(f.Cattle),[E,m]=ee.useState("Cattle"),[S,v]=ee.useState(""),[D,b]=ee.useState(!1),[V,P]=ee.useState(!1),[Y,O]=ee.useState(null),N=[{type:"Cattle",icon:"🐄",description:"Manage your cattle records"},{type:"Sheep",icon:"🐑",description:"Track your sheep inventory"},{type:"Pigs",icon:"🐷",description:"Monitor your pig population"},{type:"Goats",icon:"🐐",description:"Organize your goat records"}];ee.useEffect(()=>{(async()=>{const H=await C3();t(H)})()},[]),ee.useEffect(()=>{if(D){let G=function(_e){J(_e),le.clear(),b(!1)},H=function(_e){console.error(_e)};const le=new l3("reader",{qrbox:{width:250,height:250},fps:5});return le.render(G,H),()=>{le.clear()}}},[D]);const _=G=>{const{name:H,value:le}=G.target;x(_e=>({..._e,[H]:le}))},j=async G=>{if(G.preventDefault(),!i){c("/login");return}try{if(V)await ef(e,Y,g,E);else{const H=await A3(e,g,E),le=JSON.stringify({id:H,type:E,name:g.name,breed:g.breed,age:g.age,weight:g.weight});v(le),await ef(e,H,{qrCode:le},E)}x(f[E]),P(!1),O(null)}catch(H){console.error("Error saving animal:",H)}},$=G=>{x(G),P(!0),O(G.id),c("/add")},J=async G=>{if(G)try{const H=JSON.parse(G);if(!H.id)throw new Error("Invalid QR code format");const le=await v3(e,H.id);if(le)x(le),m(H.type||"Cattle"),c("/details");else throw new Error("Animal not found")}catch(H){console.error("Error scanning QR code:",H),alert("Error scanning QR code: "+H.message)}},z=G=>{m(G),x(f[G]),c("/add")};return L.createElement("div",null,L.createElement("nav",null,L.createElement("ul",null,L.createElement("li",null,L.createElement(Ws,{to:"/"},"Home")),L.createElement("li",null,L.createElement(Ws,{to:"/dashboard"},"Dashboard")),i?L.createElement("li",null,L.createElement("button",{onClick:()=>{a(null),c("/login")}},"Logout")):L.createElement(L.Fragment,null,L.createElement("li",null,L.createElement(Ws,{to:"/login"},"Login")),L.createElement("li",null,L.createElement(Ws,{to:"/signup"},"Signup"))))),L.createElement(Um,null,L.createElement(ri,{path:"/login",element:L.createElement(tf,{db:e,setUser:a,navigate:c,action:"login"})}),L.createElement(ri,{path:"/signup",element:L.createElement(tf,{db:e,setUser:a,navigate:c,action:"signup"})}),L.createElement(ri,{path:"/dashboard",element:i?L.createElement(_3,{db:e,handleEdit:$,deleteAnimal:I3}):L.createElement("div",null,"Please log in to view the dashboard")}),L.createElement(ri,{path:"/add",element:L.createElement("div",{className:"container"},S?L.createElement(L.Fragment,null,L.createElement("h1",null,"Animal QR Code"),L.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},L.createElement(Sx,{value:S,size:256,bgColor:"#ffffff",fgColor:"#000000",level:"H"}),L.createElement("div",{style:{marginTop:"10px",display:"flex",gap:"10px",justifyContent:"center"}},L.createElement("button",{onClick:()=>window.print(),style:{padding:"8px 16px"}},"Print QR Code"),L.createElement("button",{onClick:()=>{setTimeout(()=>{const G=document.querySelector("canvas");if(G){const H=document.createElement("a");H.href=G.toDataURL(),H.download=`animal_${g.name||"qr"}.png`,document.body.appendChild(H),H.click(),document.body.removeChild(H)}else alert("QR code not available for download")},100)},style:{padding:"8px 16px"}},"Download QR Code")))):L.createElement(L.Fragment,null,L.createElement("h1",null,V?"Edit Animal":"Add New Animal"),L.createElement("form",{onSubmit:j},L.createElement("div",{className:"form-group"},L.createElement("label",null,"Name:"),L.createElement("input",{type:"text",name:"name",value:g.name,onChange:_,required:!0})),Object.entries(g).map(([G,H])=>L.createElement("div",{className:"form-group",key:G},L.createElement("label",null,G.split(/(?=[A-Z])/).join(" "),":"),typeof H=="boolean"?L.createElement("input",{type:"checkbox",name:G,checked:H,onChange:le=>_({target:{name:G,value:le.target.checked}})}):L.createElement("input",{type:typeof H=="number"?"number":"text",name:G,value:H,onChange:_,required:!0}))),L.createElement("button",{type:"submit"},V?"Update Animal":"Add Animal"))))}),L.createElement(ri,{path:"/details",element:L.createElement("div",{className:"container"},L.createElement("h1",null,"Animal Details"),L.createElement("div",{className:"animal-card"},L.createElement("div",{className:"card-header"},L.createElement("h2",null,g.name),L.createElement("span",{className:"animal-type"},g.type)),L.createElement("div",{className:"card-body"},L.createElement("div",{className:"card-section"},L.createElement("h3",null,"Basic Information"),L.createElement("div",{className:"info-grid"},L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Breed:"),L.createElement("span",{className:"value"},g.breed||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Age:"),L.createElement("span",{className:"value"},g.age?`${g.age} years`:"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Weight:"),L.createElement("span",{className:"value"},g.weight?`${g.weight} kg`:"N/A")))),g.type==="Cattle"&&L.createElement("div",{className:"card-section"},L.createElement("h3",null,"Cattle Details"),L.createElement("div",{className:"info-grid"},L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Milk Production:"),L.createElement("span",{className:"value"},g.milkProduction||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Grazing Area:"),L.createElement("span",{className:"value"},g.grazingArea||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Vaccination Status:"),L.createElement("span",{className:"value"},g.vaccinationStatus?"Yes":"No")))),g.type==="Sheep"&&L.createElement("div",{className:"card-section"},L.createElement("h3",null,"Sheep Details"),L.createElement("div",{className:"info-grid"},L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Wool Quality:"),L.createElement("span",{className:"value"},g.woolQuality||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Shearing Schedule:"),L.createElement("span",{className:"value"},g.shearingSchedule||"N/A")))),g.type==="Pigs"&&L.createElement("div",{className:"card-section"},L.createElement("h3",null,"Pig Details"),L.createElement("div",{className:"info-grid"},L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Feed Type:"),L.createElement("span",{className:"value"},g.feedType||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Pen Number:"),L.createElement("span",{className:"value"},g.penNumber||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Vaccination Status:"),L.createElement("span",{className:"value"},g.vaccinationStatus?"Yes":"No")))),g.type==="Goats"&&L.createElement("div",{className:"card-section"},L.createElement("h3",null,"Goat Details"),L.createElement("div",{className:"info-grid"},L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Milk Production:"),L.createElement("span",{className:"value"},g.milkProduction||"N/A")),L.createElement("div",{className:"info-item"},L.createElement("span",{className:"label"},"Horn Type:"),L.createElement("span",{className:"value"},g.hornType||"N/A"))))),L.createElement("div",{className:"card-footer"},L.createElement("button",{onClick:()=>c(-1),className:"back-button"},"Back"))))}),L.createElement(ri,{path:"/",element:L.createElement("div",{className:"home-container"},L.createElement("div",{className:"scanner-section"},L.createElement("h2",null,"Scan QR Code"),L.createElement("button",{onClick:()=>b(!D),className:"scan-button"},D?"Stop Scanning":"Start Scanning"),D&&L.createElement("div",{id:"reader",className:"scanner"})),L.createElement("div",{className:"categories-section"},L.createElement("h2",null,"Select Animal Category"),L.createElement("div",{className:"category-grid"},N.map(G=>L.createElement("div",{key:G.type,className:"category-card",onClick:()=>z(G.type)},L.createElement("div",{className:"category-icon"},G.icon),L.createElement("h3",null,G.type),L.createElement("p",null,G.description))))))})))};Zl.createRoot(document.getElementById("root")).render(L.createElement(L.StrictMode,null,L.createElement(Ym,null,L.createElement(M3,null))));
